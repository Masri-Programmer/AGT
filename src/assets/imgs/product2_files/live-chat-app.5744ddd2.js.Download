((self||this)["webpackJsonp@sprinklr/chat-web-client"]=(self||this)["webpackJsonp@sprinklr/chat-web-client"]||[]).push([[90],{1016:function(e,t,n){var a=n(1423),r=n(174);e.exports=function(e,t){return null!=e&&r(e,t,a)}},1017:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},1031:function(e,t,n){"use strict";var a=n(262),r=n(714),i=n.n(r),o=n(1),c=n.n(o),s=n(40),l=n.n(s),u=n(67),d=n.n(u),f=n(380),b=n.n(f),p=n(842),h=n.n(p),O=n(843),g=n.n(O),v=n(147),y=n.n(v),j=n(23),m=n.n(j),I=n(303),C=n(1302),E=n(70);t.a=(e,t)=>{const n=Object(a.useRef)(!1);n.current=c()(e);const{getValue:r,defaultValue:o=!0,logOnFailure:s=!1,logOnSuccess:u=!1,subscribe:f}=t,[p,O]=Object(a.useState)(0),v=Object(a.useRef)([void 0]),j=Object(a.useRef)(null);Object(a.useEffect)((()=>()=>{j.current&&d()(j.current,(e=>e&&e.clear()))}),[]),j.current=Object(a.useMemo)((()=>l()(e)?null:(j.current&&d()(j.current,(e=>e&&e.clear())),v.current=n.current?h()(g()(e),y()(void 0)):[],d()(b()(e),((e,t)=>{if(m()(e))return null;const n=e=>{v.current[t]=I.a.getField(e),O((e=>e+1))};return C.a.createFilterAction(e,{subscribe:(e,t)=>f(e,i()(n,e),t),getFilterBuilder:C.a.createFilterAction})})))),[e,f,O]);const T=Object(a.useMemo)((()=>j.current?d()(j.current,((e,t)=>e?(Object(E.a)(`--- Filter ${t} match start ---`,Date.now()),e.matches(r(),{logOnFailure:s,logOnSuccess:u})):!!o)):[!!o]),[e,r,o,p]);return Object(a.useMemo)((()=>n.current?d()(T,((e,t)=>({hasPassed:e,changeSource:v.current[t]}))):{hasPassed:!!T[0],changeSource:v.current[0]}),[T,v.current])}},1032:function(e,t,n){"use strict";n(39);var a=n(23),r=n.n(a);const i=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");t.a=(e,t)=>{if(r()(t))return!1;try{return new RegExp(`^${e.split(/\*+/).map(i).join(".*")}$`).test(t)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(262),r=n.n(a),i=n(325),o=n.n(i),c=n(357),s=n.n(c),l=n(843),u=n.n(l),d=n(573),f=n(263);const b=r.a.createContext({}),p=Object(a.memo)((e=>{const{getValue:t,subscribe:n}=Object(d.a)(),r=t(),[i,c]=Object(a.useState)((()=>({pagesMetaData:{[r]:[{startTime:Date.now(),endTime:void 0}]},currentPageUrl:r})));return Object(a.useEffect)((()=>{const e=n("page-context-subscriber",(e=>{let{currentUrl:t,previousUrl:n}=e;c((e=>(e=>{let{prevPageContextValue:t,previousUrl:n,currentUrl:a}=e;const r=Date.now(),i=t.pagesMetaData,c=s()(o()(i[n]),{endTime:{$set:r}});return s()(t,{pagesMetaData:{[n]:{$splice:[[u()(i[n])-1,1,c]]},[a]:{$set:[...i[a]||[],{startTime:r,endTime:void 0}]}},currentPageUrl:{$set:a}})})({prevPageContextValue:e,previousUrl:n,currentUrl:t})))}));return()=>{e()}}),[]),Object(f.jsx)(b.Provider,{value:i},e.children)}));t.b=b},1034:function(e,t,n){"use strict";t.a=class{constructor(e,t){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.enableBackOff&&(this.interval+=this.baseInterval),this.poll()}))}),this.interval))},this.start=()=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.poll()}))}),0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!e)throw new Error("No poll handler defined");var n;this.handler=(n=e,()=>n().catch((()=>{}))),this.baseInterval=t.pollInterval,this.enableBackOff=t.enableBackOff,this.interval=t.pollInterval,this.timeoutId=void 0,this.isActive=!1}}},1035:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262),r=n(332),i=n(520);const o=(e,t)=>{let{route:n,searchParams:o}=e;const c=Object(r.a)(),s=Object(i.a)(t);Object(a.useEffect)((()=>{const e=c.listen((e=>{(!o&&e.pathname===n||o&&e.pathname===n&&e.search.includes(o))&&s.current()}));return()=>{e()}}),[])}},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(262),r=n.n(a),i=n(263);const o=r.a.createContext(void 0),c=Object(a.memo)((e=>{let{children:t,history:n}=e;const[r,c]=Object(a.useState)(n);return Object(a.useEffect)((()=>{const e=n.listen((()=>{c({...n})}));return()=>e()}),[]),Object(i.jsx)(o.Provider,{value:r},t)}))},1037:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(262),r=n(67),i=n.n(r),o=n(299),c=n.n(o),s=n(473),l=n.n(s),u=n(1038),d=n(303);const f=()=>{const e=Object(u.b)(u.a.VERTICAL),t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,l()((()=>{i()(t.current,(e=>{e()}))}),[e.scrollDepth,e.scrollPercent]);const r=Object(a.useCallback)(((e,n)=>{const a=d.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=c()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((()=>({scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent})),[]),subscribe:r}}},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(262),r=n(393),i=n.n(r),o=n(291),c=n.n(o),s=n(315);const l={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},u=e=>{let{clientWindow:t,scrollDirection:n}=e;const a=t.document;let r,i;if(n===l.HORIZONTAL){const e=a.documentElement.scrollWidth;r=a.documentElement.scrollLeft+a.documentElement.clientWidth,i=e?Math.round(r/e*100):100}else{const e=a.documentElement.scrollHeight;r=a.documentElement.scrollTop+a.documentElement.clientHeight,i=e?Math.round(r/e*100):100}return{scrollDepth:r,scrollPercent:i}},d=e=>{const t=Object(s.b)(),[n,r]=Object(a.useState)((()=>(e=>{let{clientWindow:t,scrollDirection:n}=e;return Object(s.c)(t)?u({clientWindow:t,scrollDirection:n}):{scrollDepth:0,scrollPercent:0}})({clientWindow:t,scrollDirection:e})));return Object(a.useEffect)((()=>{if(Object(s.c)(t)){const n=i()((()=>{const n=u({clientWindow:t,scrollDirection:e});r(n)}),1e3);return t.addEventListener("scroll",n),()=>{t.removeEventListener("scroll",n)}}return c.a}),[]),n}},1039:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(262),r=n(67),i=n.n(r),o=n(299),c=n.n(o),s=n(473),l=n.n(s),u=n(1038),d=n(303);const f=()=>{const e=Object(u.b)(u.a.HORIZONTAL),t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,l()((()=>{i()(t.current,(e=>{e()}))}),[e.scrollDepth,e.scrollPercent]);const r=Object(a.useCallback)(((e,n)=>{const a=d.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=c()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((()=>({scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent})),[]),subscribe:r}}},1040:function(e,t,n){"use strict";var a=n(262),r=n.n(a),i=n(291),o=n.n(i);const c=r.a.createContext([null,o.a]);t.a=c},1041:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(281);const r=Object(a.a)((()=>Promise.all([n.e(0),n.e(30)]).then(n.bind(null,1880))))},1043:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(264),r=n(362),i=n(268);const o=Object(a.a)(r.a,{target:"e11sod7u0"})("position:absolute;top:40px;height:20px;width:20px;",(e=>{let{isPhone:t}=e;return t&&"\n    height: 14px;\n    width: 14px;\n    top: 20px;\n   "}),";padding:0;&:focus{",i.h,";}&:active{",i.f,";}",i.m,"{&:focus{",i.f,";}&:active{",i.h,";}}")},1044:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(135),r=n.n(a),i=n(319);const o=r()((async e=>{const t=(await i.a.get(e)).data;return(new DOMParser).parseFromString(t,"image/svg+xml")}))},1045:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(264),r=n(347),i=n(476);const o=Object(a.a)("div",{target:"ej38edm0"})("width:100%;position:relative;height:",(e=>Object(r.a)(Object(i.c)(e))),";")},1046:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(262),r=n.n(a),i=n(291),o=n.n(i),c=n(847),s=n(263);const l={debug:o.a,info:o.a,error:o.a,warning:o.a,cleanup:o.a},u=r.a.createContext(l),d=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:a,children:r}=e;const i=Object(c.a)({videoConversationId:t,conversationId:n,isAudioCall:a});return Object(s.jsx)(u.Provider,{value:i},r)}},1047:function(e,t,n){"use strict";var a=n(262),r=n(267),i=n(293),o=n(417),c=n(279),s=n(310),l=n(313),u=n(720);const d=(new i.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build();t.a=e=>{let{videoConversationId:t,conversationId:n}=e;const[i]=Object(o.a)(d,{ignoreResults:!0}),l=Object(r.d)(c.h),f=Object(s.d)(l),b=Object(a.useCallback)((e=>{const{eventType:n,activityAdditionalDetails:a}=e;return{videoConversationId:t,loggerSnUserId:f,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:a}}),[n,t,f]);return Object(a.useMemo)((()=>new u.a(i,{adapter:b,skip:!t})),[i,b,t])}},1048:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(274);const r=()=>{var e,t;const n=Object(a.a)(),r=!(null===(e=n.trigger)||void 0===e||!e.useCustomTrigger);return!(null===(t=n.trigger)||void 0===t||!t.draggable)&&!r}},1049:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(266),r=n(478),i=n(947);const o=200,c=e=>{let{theme:t,triggerWidth:n,triggerHeight:i,triggerXpadding:o,triggerYpadding:c,isTriggerHiddenWhenMaximised:s,triggerOffsetTop:l}=e;const u=Object(a.f)("frame.align")({theme:t}),d=Object(a.f)("frame.sXMargin")({theme:t}),f=Object(a.f)("frame.sYMargin")({theme:t}),b="L"===u.slice(-1)?r.f.LEFT:r.f.RIGHT,p=(e=>{let{alignType:t,frameSXMargin:n,triggerWidth:a,triggerXpadding:i}=e;switch(t){case r.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case r.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:case r.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case r.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return a+i+n;case r.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:case r.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return i+n}})({alignType:u,frameSXMargin:d,triggerWidth:n,triggerXpadding:o}),h=(e=>{let{isTriggerHiddenWhenMaximised:t,alignType:n,frameSYMargin:a,triggerHeight:i,triggerYpadding:o,triggerOffsetTop:c}=e;if(t&&!c)return o;const s=n===r.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||n===r.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;return c?c+(t?0:i+a):s?o+a:i+o+a})({isTriggerHiddenWhenMaximised:s,alignType:u,frameSYMargin:f,triggerHeight:i,triggerYpadding:c,triggerOffsetTop:l});return{xEdgeToAlign:b,xOffset:p,yOffset:h,triggerOffsetTop:l}},s=e=>{let{yOffset:t,xEdgeToAlign:n,xOffset:r,theme:i,isMaximized:o,triggerOffsetTop:c}=e;const s=`calc(100% - ${t}px)`;return` \n    ${void 0!==c?`top: ${c}px;`:`bottom: ${t}px;`}\n    height: ${s};\n    max-height: ${o?s:Object(a.f)("frame.height")({theme:i})};\n    ${n}: ${r}px;\n    max-width: calc(100% - ${r}px);\n    min-width: 200px;\n    width: ${o?`${Object(a.f)("frame.maximizedWidth")({theme:i})}px`:`${Object(a.f)("frame.width")({theme:i})}px`};\n    `},l=e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:r,isPhone:o,triggerOffsetTopBeforeReposition:l,triggerOffsetBottom:u,shouldRepositionTrigger:d}=e;if(o)return"\n    height: 100%;\n    width: 100vw;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  ";const f=Object(a.f)("trigger.size")({theme:n}),b=c({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:f,triggerWidth:f,triggerXpadding:Object(i.c)(n),triggerYpadding:null!==u&&void 0!==u?u:Object(i.b)(n),triggerOffsetTop:d&&void 0!==l?l:void 0});return s({...b,theme:n,isMaximized:r})},u=e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:i,isPhone:o,customTriggerPosition:l}=e;const u="L"===Object(a.f)("frame.align")({theme:n}).slice(-1)?r.f.LEFT:r.f.RIGHT,{xOffset:d,yOffset:f}=c({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:l.height,triggerWidth:l.width,triggerXpadding:"left"===u?l.left:l.right,triggerYpadding:l.bottom});if(o){return`\n      top: 0;\n      bottom: ${f}px;\n      ${u}: ${d}px;\n      ${"left"===u?"right":"left"}: 0;\n      width: calc(100vw - ${d}px);\n      height: calc(100% - ${f}px);\n      min-width: calc(100vw - ${d}px);\n      max-width:  100vh;\n      max-height: 100vh;\n    `}return s({xEdgeToAlign:u,xOffset:d,yOffset:f,theme:n,isMaximized:i})}},1050:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(262),r=n(393),i=n.n(r),o=n(640);const c=Object(o.c)(),s=e=>{const t=Object(a.useRef)(!1),n=Object(a.useRef)(0);return{onTouchStart:Object(a.useCallback)((()=>{t.current=!0}),[]),onTouchMove:Object(a.useCallback)(i()((()=>{t.current=!1}),100),[]),onTouchEnd:Object(a.useCallback)((()=>{t.current&&e(),t.current=!1}),[e]),onTouchCancel:Object(a.useCallback)((()=>{t.current=!1}),[]),onDragStart:Object(a.useCallback)((e=>{n.current=e.timeStamp}),[]),onDragStop:Object(a.useCallback)((a=>{c&&!t.current&&a.timeStamp-n.current<=100&&(t.current=!1,e()),n.current=0}),[e])}}},1051:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262),r=n.n(a),i=n(263);const o=r.a.createContext("MOBILE");t.b=e=>Object(i.jsx)(o.Provider,{value:e.device},e.children)},1052:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262),r=n.n(a),i=n(263);const o=r.a.createContext("ltr");t.b=e=>Object(i.jsx)(o.Provider,{value:e.direction},e.children)},1053:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(262),r=n(364),i=n.n(r),o=n(291),c=n.n(o),s=n(417),l=n(720),u=n(313),d=n(293),f=n(2),b=n(337);const p=(new d.a).setUrl("/livechat/logging/log").setType(u.a.POST).build(),h=e=>{const{message:t,userId:n}=e,a=`UI_${Object(f.a)().appId}_${n}_${i.a.v4()}`;return{message:t,timeStamp:Date.now(),clientId:a,url:Object(b.b)()}},O={debug:c.a,info:c.a,error:c.a,warning:c.a,cleanup:c.a},g=e=>{let{category:t,batch:n,log:r,skip:i,adapter:o,userId:c}=e;const[u]=Object(s.a)(p,{ignoreResults:!0}),d=Object(a.useRef)(O);d.current=Object(a.useMemo)((()=>new l.a(r||u,{batch:n,skip:i,adapter:o||h})),[u,h]),Object(a.useEffect)((()=>()=>{d.current.cleanup()}),[]);return Object(a.useMemo)((()=>({debug:e=>d.current.debug({message:e,category:t,userId:c}),error:e=>d.current.error({message:e,category:t,userId:c}),info:e=>d.current.info({message:e,category:t,userId:c}),warning:e=>d.current.warning({message:e,category:t,userId:c})})),[t,c])}},1054:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(309)),r=c(n(262)),i=c(n(378)),o=n(1055);n(1056);function c(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var l="exited";t.EXITED=l;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var f="exiting";t.EXITING=f;var b=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var r,i=n.transitionGroup,o=i&&!i.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(r=l,a.appearStatus=u):r=d:r=t.unmountOnExit||t.mountOnEnter?s:l,a.state={status:r},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getChildContext=function(){return{transitionGroup:null}},a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:l}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==d&&(t=u):n!==u&&n!==d||(t=f)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},o.performEnter=function(e,t){var n=this,a=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),o=r?i.appear:i.enter;t||a?(this.props.onEnter(e,r),this.safeSetState({status:u},(function(){n.props.onEntering(e,r),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,r)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},o.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},(function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var a=null==t&&!this.props.addEndListener;e&&!a?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,a=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"===typeof n)return n(e,a);var i=r.default.Children.only(n);return r.default.cloneElement(i,a)},a}(r.default.Component);function p(){}b.contextTypes={transitionGroup:a.object},b.childContextTypes={transitionGroup:function(){}},b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;var h=(0,o.polyfill)(b);t.default=h},1055:function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,c=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==c){var s=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=r),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",(function(){return o})),a.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},1056:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var a;(a=n(309))&&a.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1057:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=c(n(309)),r=c(n(262)),i=n(1055),o=n(1487);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function a(t,n){var a,r=(a=e.call(this,t,n)||this).handleExited.bind(l(l(a)));return a.state={handleExited:r,firstRender:!0},a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(e,t){var n=t.children,a=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,a):(0,o.getNextChildMapping)(e,n,a),firstRender:!1}},i.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["component","childFactory"]),i=u(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===t?i:r.default.createElement(t,a,i)},a}(r.default.Component);d.childContextTypes={transitionGroup:a.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,i.polyfill)(d);t.default=f,e.exports=t.default},1060:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var a=n(262),r=n(357),i=n.n(r),o=n(40),c=n.n(o),s=n(722),l=n(741),u=n(340),d=n(263);const f={byIds:{}},b=Object(a.createContext)(f),p=(e,t)=>{if(t.type===u.q){const{id:n,details:a}=t.payload;return c()(e.byIds[n])?i()(e,{byIds:{$merge:{[n]:a}}}):i()(e,{byIds:{[n]:{$merge:a}}})}return e},h=e=>{let{children:t}=e;const[n,r]=Object(a.useReducer)(p,f),i=Object(l.a)(),o=Object(a.useCallback)((e=>{const{type:t,payload:n}=e,a=null===i||void 0===i?void 0:i.find((e=>{var t,a;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(a=t.details)||void 0===a?void 0:a.id)===n.id}));a&&r({type:t,payload:{...n,id:a.id}})}),[i]);return Object(s.a)(u.q,o),Object(d.jsx)(b.Provider,{value:n},t)}},1061:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(280);const a=e=>e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0)},1062:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>n.e(67).then(n.bind(null,1657))},1063:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(280);var a=n(518),r=n(857),i=n(858),o=n(500),c=n(300);const s={[c.c.CONTACT_DETAILS_FORM]:{NAME:e=>{let{user:t}=e;return Object(o.a)(t)},FIRST_NAME:e=>{let{user:t}=e;return t.firstName},LAST_NAME:e=>{let{user:t}=e;return t.lastName},EMAIL:e=>{let{user:t}=e;return t.email},PHONE_NO:e=>{let{user:t}=e;return t.phoneNo}}},l={[c.c.CONTACT_DETAILS_FORM]:(e,t)=>{const n=r.a.getFields(i.a.getForm(e)),a=s[c.c.CONTACT_DETAILS_FORM];return n.reduce(((e,n)=>{const{id:r}=n,i=a[r];return i&&(e[r]=i(t)),e}),{})}},u=(e,t)=>{const n=l[a.a.getType(e)];return n?n(e,t):{}}},1064:function(e,t,n){n(39);var a=n(1492);e.exports=b,e.exports.parse=i,e.exports.compile=function(e,t){return c(i(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=f;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,a=[],i=0,o=0,c="",u=t&&t.delimiter||"/";null!=(n=r.exec(e));){var d=n[0],f=n[1],b=n.index;if(c+=e.slice(o,b),o=b+d.length,f)c+=f[1];else{var p=e[o],h=n[2],O=n[3],g=n[4],v=n[5],y=n[6],j=n[7];c&&(a.push(c),c="");var m=null!=h&&null!=p&&p!==h,I="+"===y||"*"===y,C="?"===y||"*"===y,E=n[2]||u,T=g||v;a.push({name:O||i++,prefix:h||"",delimiter:E,optional:C,repeat:I,partial:m,asterisk:!!j,pattern:T?l(T):j?".*":"[^"+s(E)+"]+?"})}}return o<e.length&&(c+=e.substr(o)),c&&a.push(c),a}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",d(t)));return function(t,r){for(var i="",c=t||{},s=(r||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!==typeof u){var d,f=c[u.name];if(null==f){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(a(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var b=0;b<f.length;b++){if(d=s(f[b]),!n[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===b?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(f),!n[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');i+=u.prefix+d}}else i+=u}return i}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){a(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",c=0;c<e.length;c++){var l=e[c];if("string"===typeof l)o+=s(l);else{var f=s(l.prefix),b="(?:"+l.pattern+")";t.push(l),l.repeat&&(b+="(?:"+f+b+")*"),o+=b=l.optional?l.partial?f+"("+b+")?":"(?:"+f+"("+b+"))?":f+"("+b+")"}}var p=s(n.delimiter||"/"),h=o.slice(-p.length)===p;return r||(o=(h?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+p+"|$)",u(new RegExp("^"+o,d(n)),t)}function b(e,t,n){return a(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var a=0;a<n.length;a++)t.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):a(e)?function(e,t,n){for(var a=[],r=0;r<e.length;r++)a.push(b(e[r],t,n).source);return u(new RegExp("(?:"+a.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(i(e,n),t,n)}(e,t,n)}},1065:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=new(n(712).a)},1066:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},1067:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="@chatPrompt/PROMPT_ACTION_TRIGGER"},1068:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},r={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},1069:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(319);const r=async()=>a.a.post("/livechat/conversation/refresh-token")},1302:function(e,t,n){"use strict";var a=n(23),r=n.n(a),i=n(335),o=n.n(i),c=n(727),s=n.n(c);const l=(e,t)=>s()(e)&&s()(t)?e-t:o()(e)&&o()(t)?e.localeCompare(t):o()(e)&&s()(t)?parseInt(e,10)-t:s()(e)&&o()(t)?e-parseInt(t,10):-1,u=(e,t)=>{if(r()(t))return!1;return l(t,e)<=-1},d=(e,t)=>{if(r()(t))return!1;return l(t,e)>=1},f=(e,t)=>{if(r()(t))return!1;return 0===l(t,e)};var b=n(301),p=n.n(b),h=n(40),O=n.n(h),g=n(423),v=n(70),y=n(303),j=n(436);var m=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,r=y.a.getField(this._filter),i=p()(y.a.getValues(this._filter)),o=Object(g.c)({currentValueMap:e,filter:this._filter});let c;switch(y.a.getFilterType(this._filter)){case j.a.LT:c=u(i,o);break;case j.a.LTE:c=u(i,o)||f(i,o);break;case j.a.GT:c=d(i,o);break;case j.a.GTE:c=d(i,o)||f(i,o);break;case j.a.EQUALS:c=f(i,o);break;case j.a.NOT_EQUALS:c=!f(i,o);break;case j.a.EXISTS:c=!O()(o);break;case j.a.MISSING:c=O()(o);break;default:c=!1}return c&&n&&Object(v.a)(`Range Filter succeed for ${r} with value ${o}`),!c&&a&&Object(v.a)(`Range Filter failed for ${r} with value ${o}`),c},this.clear=()=>{},this._filter=e}};var I=(e,t)=>{if(r()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return Object(v.a)("Wrong regex in filter"),!1}},C=n(1032),E=n(116),T=n.n(E),S=n(498),_=n.n(S);var A=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,r=y.a.getField(this._filter),i=y.a.getValues(this._filter),o=Object(g.c)({currentValueMap:e,filter:this._filter}),c=T()(y.a.getDetails(this._filter),"valueAdditional.isJsRegex"),s=_()(i,(e=>c?I(e,o):Object(C.a)(e,o)));return s&&n&&Object(v.a)(`Regex Filter succeed for ${r} with value ${o}`),!s&&a&&Object(v.a)(`Regex Filter failed for ${r} with value ${o}`),s},this.clear=()=>{},this._filter=e}};var x=(e,t)=>!r()(t)&&!!e.includes(t);var w=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,r=y.a.getField(this._filter),i=y.a.getValues(this._filter),o=Object(g.c)({currentValueMap:e,filter:this._filter}),c=x(i,o);return c&&n&&Object(v.a)(`In Filter succeed for ${r} with value ${o}`),!c&&a&&Object(v.a)(`In Filter failed for ${r} with value ${o}`),c},this.clear=()=>{},this._filter=e}};var R=(e,t)=>!r()(t)&&!e.includes(t);var N=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,r=y.a.getField(this._filter),i=y.a.getValues(this._filter),o=Object(g.c)({currentValueMap:e,filter:this._filter}),c=R(i,o);return c&&n&&Object(v.a)(`NotIn Filter succeed for ${r} with value ${o}`),!c&&a&&Object(v.a)(`NotIn Filter failed for ${r} with value ${o}`),c},this.clear=()=>{},this._filter=e}};class P{}P.createFilterAction=e=>{switch(y.a.getFilterType(e)){case j.a.LTE:case j.a.LT:case j.a.GT:case j.a.GTE:case j.a.NOT_EQUALS:case j.a.EXISTS:case j.a.MISSING:return new m(e);case j.a.REGEX:return new A(e);case j.a.CONTAINS:case j.a.IN:return new w(e);case j.a.NIN:return new N(e);default:return new m(e)}};var L=P;var M=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=L.createFilterAction(this._filter)}};var D=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=L.createFilterAction(e)}};var k=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=L.createFilterAction(e)}},U=n(350),F=n.n(U),B=n(410);var $=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=y.a.getDetails(this._filter),a=Object(g.c)({currentValueMap:e,filter:this._filter});let r={[B.a.BUSINESS_HOURS]:a};return!n||O()(n)||F()(n.timeToBusinessHours)||(r={[B.a.BUSINESS_HOURS]:n.timeToBusinessHours}),this._filterAction.matches(r,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const a=(e=>y.a.getFilterType(e)===j.a.IN?p()(y.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:j.a.LTE,values:[0]}):Object.assign(Object.assign({},e),{filterType:j.a.GT,values:[0]}):e)(e);this._filter=a,this._unSubscribeFn=n?n(a):null,this._filterAction=L.createFilterAction(a)}};var G=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const a=(e=>y.a.getFilterType(e)===j.a.IN?p()(y.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:j.a.GTE,values:[1]}):Object.assign(Object.assign({},e),{filterType:j.a.LTE,values:[0]}):e)(e);this._filter=a,this._unSubscribeFn=n?n(a):null,this._filterAction=L.createFilterAction(a)}};var V=class{constructor(e,t){let{subscribe:n,parentFilter:a}=t;this.matches=(e,t)=>{var n,a,r,i;let o=e;switch(this._parentFilter&&y.a.getField(this._parentFilter)){case B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:{const t=p()(y.a.getValues(this._parentFilter)),r=null!==(a=null===(n=e[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY][t])||void 0===n?void 0:n.variants)&&void 0!==a?a:[],i=Date.now()-(r[r.length-1].actionTime||0);o=Object.assign(Object.assign({},o),{[B.a.DEPENDENT_DURATION_KEY]:i});break}case B.a.INTERCEPT_CLOSED_IN_SESSION_KEY:{const t=p()(y.a.getValues(this._parentFilter)),n=null!==(i=null===(r=e[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY][t])||void 0===r?void 0:r.variants)&&void 0!==i?i:[],a=Date.now()-(n[n.length-1].actionTime||0);o=Object.assign(Object.assign({},o),{[B.a.DEPENDENT_DURATION_KEY]:a});break}}return this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._parentFilter=a,this._unSubscribeFn=n?n(e,a):null,this._filterAction=L.createFilterAction(e)}};var H=class{constructor(e,t){this.matches=(e,t)=>{const n=p()(y.a.getValues(this._filter)),a=e[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],r=this._filterAction.matches({[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY]:a[n]?n:""},t);if(r){const n=y.a.getDetails(this._filter);if(n&&!O()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return r},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=L.createFilterAction(e),this._dependentFilterAction=null}};var W=class{constructor(e,t){this.matches=(e,t)=>{const n=p()(y.a.getValues(this._filter)),a=e[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY],r=this._filterAction.matches({[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY]:a[n]?n:""},t);if(r){const n=y.a.getDetails(this._filter);if(n&&!O()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return r},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=L.createFilterAction(e),this._dependentFilterAction=null}},z=n(304);const q="PIXEL";var K=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=T()(y.a.getDetails(this._filter),"valueAdditional.valueType"),a=y.a.getField(this._filter),{scrollDepth:r,scrollPercent:i}=e[a]||z.a,o={[a]:n===q?r:i};return this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=L.createFilterAction(e)}};var Y=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(g.c)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null}};var X=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(g.c)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unsubscribeFn&&this._unsubscribeFn(),this._unsubscribeFn=null},this._filter=e,this._unsubscribeFn=n?n(e):null}};class Z{}Z.createFilterAction=(e,t)=>{switch(y.a.getField(e)){case B.a.AVAILABLE_AGENTS:return new D(e,t);case B.a.AGENT_OUT_OF_CAPACITY:return new k(e,t);case B.a.BUSINESS_HOURS:return new $(e,t);case B.a.IS_CONVERSATION_OPEN:return new G(e,t);case B.a.DEPENDENT_DURATION_KEY:return new V(e,t);case B.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new W(e,t);case B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new H(e,t);case B.a.CURRENT_URL:case B.a.TOTAL_TIME_SPENT:case B.a.ACTIVE_TIME_SPENT:case B.a.INACTIVE_TIME_SPENT:case B.a.DEVICE_TYPE:case B.a.USER_IP_DETAILS_COUNTRY:case B.a.USER_IP_DETAILS_CITY:case B.a.USER_IP_DETAILS_REGION:return new M(e,t);case B.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case B.a.VERTICAL_PAGE_SCROLL_DEPTH:return new K(e,t);case B.a.TIME_SPENT_ON_SESSION:return new Y(e,t);case B.a.NUM_SNOOZE_ALLOWED:return new X(e,t);default:return Object(g.e)(y.a.getField(e))?new M(e,t):void 0}};var Q=Z,J=n(67),ee=n.n(J),te=n(69),ne=n.n(te);var ae=class{constructor(e,t){this.matches=(e,t)=>{let n=!0;return ne()(this._filterActions,(a=>!!a.matches(e,t)||(n=!1,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(y.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};var re=class{constructor(e,t){this.matches=(e,t)=>{let n=!1;return ne()(this._filterActions,(a=>!a.matches(e,t)||(n=!0,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(y.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};let ie=0;class oe{}oe.createFilterAction=(e,t)=>{const n=(e=>{var t,n;return ie+=1,Object.assign(Object.assign({},e),{id:null!==(n=null===(t=null===e||void 0===e?void 0:e.details)||void 0===t?void 0:t.id)&&void 0!==n?n:ie})})(e),a=Q.createFilterAction(n,t);if(a)return a;switch(y.a.getFilterType(n)){case j.a.AND:return new ae(e,t);case j.a.OR:return new re(e,t);default:return L.createFilterAction(n)}};t.a=oe},1312:function(e,t,n){"use strict";var a,r=n(262),i=n.n(r),o=(n(317),n(265)),c=n(294),s=n(264);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function u(e,t){let{title:n,titleId:i,...o}=e;return r.createElement("svg",l({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidCobrowsing",className:"sw--bx sw--by sw--mw sw--mx",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,a||(a=r.createElement("path",{d:"M12.752 0H1.248A1.328 1.328 0 00.024 1.416v8.66a1.328 1.328 0 001.224 1.416h11.504a1.328 1.328 0 001.224-1.416v-8.66A1.328 1.328 0 0012.752 0zM5.648 5.19a.362.362 0 01-.11-.263c0-.005-.006-.01-.006-.015v-.525h-1.05a.896.896 0 00-.895.895v.928a.889.889 0 00.262.633.918.918 0 00.632.263.5.5 0 010 1 1.914 1.914 0 01-1.34-.556 1.882 1.882 0 01-.554-1.34v-.928A1.896 1.896 0 014.48 3.387h1.051v-.52c0-.005.006-.01.006-.016a.343.343 0 01.11-.268.361.361 0 01.517.01l.996 1.038c.005.01.015.016.02.027a.369.369 0 01.08.179.2.2 0 010 .079.34.34 0 01-.095.221v.005H7.16L6.165 5.18a.361.361 0 01-.517.01zm5.765 1.02A1.897 1.897 0 019.52 8.106h-.88v.519c0 .005-.005.01-.005.016a.343.343 0 01-.111.268.361.361 0 01-.516-.01l-.996-1.038c-.005-.01-.016-.016-.021-.026a.369.369 0 01-.08-.18.2.2 0 010-.079.34.34 0 01.096-.22V7.35h.005l.996-1.038a.364.364 0 01.627.253c0 .005.005.01.005.016v.525h.879a.896.896 0 00.894-.896v-.928a.891.891 0 00-.263-.634.918.918 0 00-.631-.26.5.5 0 010-1 1.914 1.914 0 011.34.554 1.885 1.885 0 01.554 1.34zM10.3 12.584H3.597a.7.7 0 000 1.4H10.3a.7.7 0 100-1.4z"})))}const d=r.forwardRef(u);n.p;const f=Object(s.a)(d,{target:"e1s9shjt0"})({name:"ta0e1",styles:"width:48px;height:48px;margin-bottom:18px;fill:var(--spr-lc-d-1);"});var b=n(1318),p=n(646),h=n(500),O=n(263);var g={name:"19cy8uy",styles:"max-width:218px;"};var v=i.a.memo(Object(o.h)((e=>{const{onStopSession:t,brandUser:n,intl:a}=e,i=Object(c.a)(),o=Object(r.useMemo)((()=>({agentName:Object(h.a)(n,i)})),[n,i]),s=Object(r.useMemo)((()=>a.formatMessage(p.a.settingUpCobrowsing,o)),[o,a]),l=Object(r.useMemo)((()=>g),[]);return Object(O.jsx)(b.a,{onClose:t,Icon:f,description:s,descriptionStyles:l})}))),y=n(497);t.a=e=>{const{sessionState:t}=e;return t!==y.c.INITIATED&&t!==y.c.SETUP&&t!==y.c.RESUMED?null:Object(O.jsx)(v,e)}},1315:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(262),r=n.n(a),i=n(40),o=n.n(i),c=n(69),s=n.n(c),l=n(422),u=n.n(l),d=n(291),f=n.n(d),b=n(267),p=n(365),h=n(331);var O=()=>e=>{const t={eventId:e.label,eventType:e.action.id,additional:{...e.additional,conversationId:e.conversationId,page:e.page,appId:e.appId}};Object(p.a)({topic:h.e,payload:{data:t}})},g=n(319),v=n(341),y=n(66);const j=new Set([v.a.AGENT_ASSIGNED.id,v.a.VIDEO_CALL_OUTGOING_STARTING.id,v.a.AUDIO_CALL_OUTGOING_STARTING.id,v.a.CALL_ENDED.id,v.a.CALL_MISSED.id,v.a.CALL_DECLINED.id,v.a.CALL_FAILED.id,v.a.CALL_PAGE_MAXIMISED.id,v.a.CALL_PAGE_MINIMISED.id,v.a.ATTACHMENT_BUTTON_CLICKED.id,v.a.SEND_BUTTON_CLICKED.id]);var m=()=>async e=>{if(j.has(e.action.id))return;const t={page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT",sourceSubType:e.sourceSubType,...e.additional};try{await g.a.post("/livechat/prompt/browse/event",t)}catch(n){Object(y.b)(n)}},I=n(385),C=n(274),E=n(278),T=n(384),S=n(279),_=n(391),A=n(2),x=n(0),w=n(798),R=n(263);const N=r.a.createContext(f.a);let P=[];const L=e=>Object(_.c)(Object(S.e)(e)),M=e=>{const t=Object(I.a)(),r=Object(C.a)(),i=Object(a.useRef)(P),[c,l]=Object(a.useState)(!o()(i.current)),d=Object(E.a)(T.c),f=Object(E.a)(T.b),p=Object(b.d)(L),h=Object(x.S)();return Object(a.useEffect)((()=>{if(c&&p.length){const e={...p[0],category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone,appId:Object(A.a)().appId};((e,t)=>{Object(w.c)((()=>{s()(e,(e=>{e(t)}))}))})(i.current,e),f()}}),[p,c]),Object(a.useEffect)((()=>{h||c||(e=>{var t,a,r,i,o,c;const s=[],l=null===(t=e.settings)||void 0===t||null===(a=t.analyticsSettings)||void 0===a||null===(r=a.googleAnalytics)||void 0===r?void 0:r.trackerId,u=null===(i=e.settings)||void 0===i||null===(o=i.analyticsSettings)||void 0===o||null===(c=o.sprinklrAnalytics)||void 0===c?void 0:c.enabled;return null!==l&&void 0!==l&&l.startsWith("UA-")?s.push(n.e(137).then(n.bind(null,1986)).then((e=>e.default.createTracker({trackerId:l},{canAccessParent:Object(x.Q)()}))).catch((()=>{}))):null!==l&&void 0!==l&&l.startsWith("G-")&&s.push(n.e(77).then(n.bind(null,1987)).then((e=>e.default.createTracker({trackerId:l},{canAccessParent:Object(x.Q)()}))).catch((()=>{}))),u&&s.push(m()),s.push(O()),Promise.all(s)})(r).then((e=>{i.current=u()(e),P=i.current,l(!0)}))}),[]),Object(R.jsx)(N.Provider,{value:d},e.children)};t.b=r.a.memo(M)},1318:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));n(262);var a=n(265),r=n(264),i=n(263),o=n(266),c=n(268),s=n(451),l=n(362);const u=Object(r.a)("div",{target:"e1exikj40"})("position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:",(e=>Object(o.f)("frame.zIndex")(e)),";transform:translateZ(",(e=>Object(o.f)("frame.translateZ")(e)),"px);"),d=Object(r.a)(s.a,{target:"e1exikj41"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),f={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"},b=Object(r.a)("div",{target:"e1exikj42"})("width:100%;height:100%;position:relative;",(e=>e.isPhone&&"backdrop-filter: blur(2px);"),""),p=Object(r.a)("div",{target:"e1exikj43"})("position:absolute;padding:",(e=>{const t=+Object(o.f)("confirmationBox.paddingTop")(e),n=+Object(o.f)("confirmationBox.paddingRight")(e),a=+Object(o.f)("confirmationBox.paddingLeft")(e);return`${t}px ${n}px ${+Object(o.f)("confirmationBox.paddingBottom")(e)}px ${a}px`}),";",(e=>e.isPhone?"\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0.95;\n      ":`\n      box-shadow: ${Object(o.f)("frame.boxShadow")(e)};\n      border-radius: ${Object(o.a)("frame.borderRadius")(e)};\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      max-width: 312px;\n      width: 85%;\n  `)," color:var(--spr-lc-d-1);background-color:",Object(o.f)("confirmationBox.backgroundColor"),";"),h=Object(r.a)("div",{target:"e1exikj44"})("font-size:",Object(o.f)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(o.d)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(o.f)("confirmationBox.header.title.fontWeight"),";padding-bottom:",Object(o.f)("confirmationBox.header.paddingBottom"),"px;"),O=Object(r.a)("div",{target:"e1exikj45"})("font-size:",Object(o.f)("confirmationBox.description.fontSize"),"px;font-weight:normal;color:var(--spr-lc-d-1);text-align:center;"),g=Object(r.a)(l.a,{target:"e1exikj46"})("position:absolute;top:var(--spr-lc-safe-area-top);",Object(c.c)("right: var(--spr-lc-safe-area-right);","left: var(--spr-lc-safe-area-left);"),""),v=e=>Object(i.css)({height:`${Object(o.f)("confirmationBox.header.iconButton.icon.height")({theme:e})}px`,width:`${Object(o.f)("confirmationBox.header.iconButton.icon.width")({theme:e})}px`,fill:"var(--spr-lc-d-1)"},""),y=e=>Object(i.css)({height:`${Object(o.f)("confirmationBox.header.iconButton.button.height")({theme:e})}px`,width:`${Object(o.f)("confirmationBox.header.iconButton.button.width")({theme:e})}px`},"");var j=n(367),m=n(271),I=n(272),C=n(277),E=n(646);const T=Object(a.h)((e=>{let{onClose:t,title:n,description:a,descriptionStyles:r,Icon:o,intl:c}=e;const s=Object(C.b)(),l=Object(m.a)(),{direction:T}=Object(I.a)();return Object(i.jsx)(u,{className:"spr-chat__cobrowseInfo-box spr-live-chat-frame __cbio_ignored"},Object(i.jsx)(d,{name:"spr-chat__cobrowseInfo-frame","aria-label":c.formatMessage(E.a.coBrowseInformation),title:c.formatMessage(E.a.coBrowseInformation)},Object(i.jsx)(i.Global,{styles:f}),Object(i.jsx)(b,{isPhone:l},Object(i.jsx)(p,{isPhone:l},Object(i.jsx)("div",{className:"flex-column-container center-x-y spr full-width full-height"},Object(i.jsx)(g,{direction:T,iconName:"closeIcon",Icon:j.a,onClick:t,iconCss:v(s),css:y(s)}),Object(i.jsx)(o,null),n&&Object(i.jsx)(h,null,n),a&&Object(i.jsx)(O,{css:r},a))))))}))},1323:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(291),r=n.n(a),i=n(1061);const o=5;function c(e,t){return new Promise(((n,a)=>{setTimeout((()=>{e().then(n,a)}),t)}))}const s={},l=(e,t)=>{s[t]=e,e.catch(r.a).finally((()=>{delete s[t]}))};var u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{maxAttempts:n=o}=t;function a(e){return 1e3*(e?Math.pow(2,Math.min(e-1,n)):0)}function r(e,t){return c(e,a(t)).catch((a=>{if(t===n)throw a;return r(e,t+1)}))}const u=Object(i.a)(e.toString());if(s[u])return s[u];const d=r(e,0);return l(d,u),d};const d=()=>u((()=>n.e(48).then(n.bind(null,1954))),{maxAttempts:3})},1423:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},1424:function(e,t,n){var a=n(635);e.exports=function(e,t){for(var n=-1,r=e.length;++n<r&&a(t,e[n],0)>-1;);return n}},1470:function(e,t,n){var a=n(176)("length");e.exports=a},1471:function(e,t){var n="[\\ud800-\\udfff]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+a+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+s+("(?:\\u200d(?:"+[i,o,c].join("|")+")"+l+s+")*"),d="(?:"+[i+a+"?",a,o,c,n].join("|")+")",f=RegExp(r+"(?="+r+")|"+d+u,"g");e.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},1477:function(e,t,n){var a={"./classic/pages":[1879,14,102],"./modern/pages":[1878,14,103]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=1477,e.exports=r},1478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(395),r=a.__importStar(n(262)),i=n(262),o=a.__importDefault(n(1479)),c=a.__importDefault(n(1480));t.default=function(e){return function(t){var n,s;s=r.isValidElement(t)?(n=t).props:t;var l=o.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),u=l[0],d=l[1],f=i.useRef(null),b=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},p=function(){return d({paused:!1})},h=function(){return d({paused:!0})},O=function(){var e=f.current;e&&d({muted:e.muted,volume:e.volume})},g=function(){var e=f.current;if(e){var t=e.duration,n=e.buffered;d({duration:t,buffered:c.default(n)})}},v=function(){var e=f.current;e&&d({time:e.currentTime})},y=function(){var e=f.current;e&&d({buffered:c.default(e.buffered)})};n=n?r.cloneElement(n,a.__assign(a.__assign({controls:!1},s),{ref:f,onPlay:b(s.onPlay,p),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,O),onDurationChange:b(s.onDurationChange,g),onTimeUpdate:b(s.onTimeUpdate,v),onProgress:b(s.onProgress,y)})):r.createElement(e,a.__assign(a.__assign({controls:!1},s),{ref:f,onPlay:b(s.onPlay,p),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,O),onDurationChange:b(s.onDurationChange,g),onTimeUpdate:b(s.onTimeUpdate,v),onProgress:b(s.onProgress,y)}));var j=!1,m={play:function(){var e=f.current;if(e&&!j){var t=e.play();if("object"===typeof t){j=!0;var n=function(){j=!1};t.then(n,n)}return t}},pause:function(){var e=f.current;if(e&&!j)return e.pause()},seek:function(e){var t=f.current;t&&void 0!==u.duration&&(e=Math.min(u.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=f.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,d({volume:e}))},mute:function(){var e=f.current;e&&(e.muted=!0)},unmute:function(){var e=f.current;e&&(e.muted=!1)}};return i.useEffect((function(){var e=f.current;e&&(d({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&m.play())}),[s.src]),[n,u,m,f]}}},1479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(262);t.default=function(e){void 0===e&&(e={});var t=a.useState(e),n=t[0],r=t[1];return[n,a.useCallback((function(e){r((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[r])]}},1480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1481:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(309));var a=c(n(1482)),r=c(n(1485)),i=c(n(262)),o=c(n(1054));n(1056);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},d=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).onEnter=function(e,n){var a=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,a),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,a),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.getClassNames("appear").doneClassName,r=t.getClassNames("enter").doneClassName,i=n?a+" "+r:r;t.removeClasses(e,n?"appear":"enter"),l(e,i),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,a="string"===typeof n,r=a?(a&&n?n+"-":"")+e:n[e];return{className:r,activeClassName:a?r+"-active":n[e+"Active"],doneClassName:a?r+"-done":n[e+"Done"]}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.removeClasses=function(e,t){var n=this.getClassNames(t),a=n.className,r=n.activeClassName,i=n.doneClassName;a&&u(e,a),r&&u(e,r),i&&u(e,i)},r.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},r.render=function(){var e=s({},this.props);return delete e.classNames,i.default.createElement(o.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(i.default.Component);d.defaultProps={classNames:""},d.propTypes={};var f=d;t.default=f,e.exports=t.default},1482:function(e,t,n){"use strict";var a=n(1483);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=a(n(1484));e.exports=t.default},1483:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1484:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1485:function(e,t,n){"use strict";function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}n(39),e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))}},1486:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n(309));var a=o(n(262)),r=n(378),i=o(n(1057));function o(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function o(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=o.prototype;return c.handleLifecycle=function(e,t,n){var i,o=this.props.children,c=a.default.Children.toArray(o)[t];c.props[e]&&(i=c.props)[e].apply(i,n),this.props[e]&&this.props[e]((0,r.findDOMNode)(this))},c.render=function(){var e=this.props,t=e.children,n=e.in,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["children","in"]),o=a.default.Children.toArray(t),c=o[0],s=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,a.default.createElement(i.default,r,n?a.default.cloneElement(c,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(a.default.Component);c.propTypes={};var s=c;t.default=s,e.exports=t.default},1487:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return r(e.children,(function(n){return(0,a.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var c=r(e.children),s=i(t,c);return Object.keys(s).forEach((function(r){var i=s[r];if((0,a.isValidElement)(i)){var l=r in t,u=r in c,d=t[r],f=(0,a.isValidElement)(d)&&!d.props.in;!u||l&&!f?u||!l||f?u&&l&&(0,a.isValidElement)(d)&&(s[r]=(0,a.cloneElement)(i,{onExited:n.bind(null,i),in:d.props.in,exit:o(i,"exit",e),enter:o(i,"enter",e)})):s[r]=(0,a.cloneElement)(i,{in:!1}):s[r]=(0,a.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:o(i,"exit",e),enter:o(i,"enter",e)})}})),s};var a=n(262);function r(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),n}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var a,r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var c={};for(var s in t){if(r[s])for(a=0;a<r[s].length;a++){var l=r[s][a];c[r[s][a]]=n(l)}c[s]=n(s)}for(a=0;a<i.length;a++)c[i[a]]=n(i[a]);return c}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1490:function(e,t,n){var a=n(802);e.exports=function(e){return a(e,5)}},1491:function(e,t,n){var a=n(635),r=n(117),i=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var c=null==n?0:r(n);return c<0&&(c=i(o+c,0)),a(e,t,c)}},1492:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1493:function(e,t,n){n(39);var a=n(1494),r=n(41),i=/[&<>"']/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,a):e}},1494:function(e,t,n){var a=n(649)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=a},1980:function(e,t,n){"use strict";var a=n(389),r=n(580),i=n(633),o=n(710),c=Number.isInteger||function(e){return e<<0===e},s=n(989),l=n(1451),u=Object(r.a)((function e(t,n,a){if(0===t.length)return n;var r=t[0];if(t.length>1){var u=!Object(l.a)(a)&&Object(i.a)(r,a)?a[r]:c(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,u)}if(c(r)&&Object(o.a)(a)){var d=[].concat(a);return d[r]=n,d}return Object(s.a)(r,n,a)})),d=n(1314),f=n(988),b=Object(a.a)((function(e){return Object(d.a)(Object(f.a)(e),u(e))}));t.a=b},260:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return yv}));var a=n(825),r=n.n(a),i=n(718),o=n.n(i),c=n(116),s=n.n(c),l=n(40),u=n.n(l),d=n(2),f=n(0);var b=new class{constructor(){var e=this;this.queue=void 0,this.buffer=void 0,this._isFlushingInProgress=void 0,this._isReFlushPending=void 0,this.getQueue=()=>this.queue,this.getBufferQueue=()=>this.buffer,this.isFlushingInProgress=()=>this._isFlushingInProgress,this.setIsFlushingInProgress=e=>{this._isFlushingInProgress=e},this.isReFlushPending=()=>this._isReFlushPending,this.setIsReFlushPending=e=>{this._isReFlushPending=e},this.addCmdToQueue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];u()(n)||e.push(...n)},this.move=(e,t)=>{e.forEach((()=>{this.addCmdToQueue(t,this.popNextCmd(e))}))},this.isEmpty=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return u()(t)},this.popNextCmd=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return t.shift()},this.queue=[],this.buffer=[],this._isFlushingInProgress=!1,this._isReFlushPending=!1}},p=n(719),h=n(70);const O="AVAILABLE",g="UN_AVAILABLE",v="PENDING";let y=v;const j=e=>{y=e?O:g},m=()=>y===g,I=()=>y===v,C="PENDING",E="SUCCESS",T="FAIL",S="EXPIRED";let _=C;const A=e=>{_=e},x=()=>_===C,w=()=>_===T,R=()=>_===S;var N=n(421),P=n(357),L=n.n(P),M=n(390);const D="APP_AVAILABLE",k="APP_IN_SESSION";function U(e,t){const n=Object(f.R)(t);if(u()(n))return;const a=L()(Object(d.a)(),{userContext:{$merge:n}});Object(d.f)(a),e({type:M.f,payload:n})}U.dependecies=[k];const F="@user/UPDATE_USER_SETTINGS";function B(e,t){e({type:F,payload:t})}B.dependecies=[k];var $=n(340),G=n(304);function V(e){e({type:$.f,payload:G.a})}function H(e,t,n){new Promise(((n,a)=>{e({type:$.l,payload:null!==t&&void 0!==t?t:G.a,promise:{resolve:n,reject:a}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}V.dependecies=[k],H.dependecies=[D];var W=n(452),z=n.n(W),q=n(291),K=n.n(q),Y=n(796);const X=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a,newSubscriber:r}=e;return Object(Y.b)(K.a,{topic:t,subscriber:r}),n.push({legacySubscriber:a,newSubscriber:r}),n},Z=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a}=e;const r=z()(n,(e=>{let{legacySubscriber:t}=e;return t===a}));return-1!==r&&(Object(Y.c)(K.a,{topic:t,subscriber:n[r].newSubscriber}),n.splice(r,1)),n};var Q=n(331);function J(e){Object(f.Q)()&&e({type:$.b,payload:G.a})}J.dependecies=[D];let ee=[];let te=[];let ne=[];var ae=n(636);function re(e,t){e({type:ae.a,payload:t})}function ie(e,t){e({type:ae.b,payload:{promptId:t.id}})}re.dependecies=[k,D],ie.dependecies=[k];let oe=[];var ce=n(1),se=n.n(ce),le=n(7),ue=n.n(le),de=n(365),fe=n(637);const be="sendExternalEvent",pe="openNewConversation",he="updateConversationContext",Oe="getAvailableAgents";function ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=se()(t)?t:s()(t,"initialMessages");new Promise(((a,r)=>{e(Object(fe.b)({initialMessages:n,conversationContext:s()(t,"conversationContext"),assignToUser:s()(t,"assignToUser"),createCase:!!s()(t,"autoInitiateConversation"),additional:!se()(t)&&ue()(t)?{...t.additional,externalCaseId:t.id}:void 0,silent:!!s()(t,"silent")})({resolve:a,reject:r}))})).then((e=>{Object(de.a)({topic:pe,payload:{data:{conversationId:e},request:t}})})).catch((e=>{Object(de.a)({topic:pe,payload:{error:e,request:t}})}))}ge.dependecies=[k,D];var ve=n(453);function ye(e,t){const n=Object(ve.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}ye.dependecies=[D];var je=n(350),me=n.n(je),Ie=n(316);function Ce(e,t){me()(t.payload)?Object(de.a)({topic:be,payload:{error:N.a.INCORRECT_PAYLOAD,request:t}}):e({type:Ie.z,payload:t})}Ce.dependecies=[k,D];var Ee=n(826);function Te(e,t){const n={...t,context:Object(f.R)(t.context)};new Promise(((a,r)=>{const i=t.conversationId;Ee.a.info({chatConversationId:i,message:`${i}: updateConversationContext SDK called`,additionalDetails:{params:n}}),e({type:Ie.k,payload:n,promise:{resolve:a,reject:r}})})).then((e=>{Object(de.a)({topic:he,payload:{data:e,request:{...n,conversationId:n.conversationId||e.conversationId},shouldLogEvent:!0}})})).catch((e=>{Object(de.a)({topic:he,payload:{error:e,request:n,shouldLogEvent:!0}})}))}function Se(e,t){const n=Object(f.R)(t);if(u()(n))return;const a=L()(Object(d.a)(),{clientContext:{$merge:n}});Object(d.f)(a),e({type:Ie.e,payload:{context:n}})}Te.dependecies=[k],Se.dependecies=[D];let _e=[];let Ae=[];let xe=[];let we=[];function Re(e){Object(f.Q)()&&e({type:$.i,payload:G.a})}function Ne(e){Object(f.Q)()&&e({type:$.h,payload:G.a})}Re.dependecies=[k],Ne.dependecies=[D];let Pe=[];var Le=n(584);function Me(e,t){e({type:Le.c,payload:t})}function De(e,t){e({type:Le.b,payload:t})}Me.dependecies=[k],De.dependecies=[k];var ke=n(123),Ue=n.n(ke),Fe=n(319),Be=n(582);Be.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const $e={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},Ge=Object.assign(Object.assign({},$e),{deviceToken:{type:"string",presence:!0}});function Ve(e,t){if(t.appVersion=Ue()(t.appVersion),n=t,Object(Be.a)(n,Ge))throw Object(h.a)("Invalid device registration payload",t),new Error(N.a.INCORRECT_PAYLOAD);var n;return Fe.a.post("/livechat/event/push/register-device",t).then((()=>({}))).catch((()=>{throw new Error(N.a.NETWORK_FAILURE)}))}Ve.dependecies=[k];let He=[];function We(e,t){if(t.appVersion=Ue()(t.appVersion),n=t,Object(Be.a)(n,$e))throw Object(h.a)("Invalid device unregistration payload",t),new Error(N.a.INCORRECT_PAYLOAD);var n;return Fe.a.post("/livechat/event/push/unregister-device",t).then((()=>({}))).catch((()=>{throw new Error(N.a.NETWORK_FAILURE)}))}We.dependecies=[k];let ze=[];let qe=[];const Ke="NEW_MESSAGE",Ye="MESSAGE_UPDATED",Xe="EXTERNAL_EVENT",Ze="CHAT_USER_UPDATED",Qe="CHAT_USER_START_TYPING",Je="CHAT_USER_STOP_TYPING",et="LOCK_CONVERSATIONS",tt="UNLOCK_CONVERSATIONS",nt="CONVERSATION_UPDATED",at="VIDEO_CALL_STARTING",rt="VIDEO_CALL_ENDED",it="VIDEO_CALL_TOGGLE",ot="VIDEO_CALL_OFFER_ACCEPTED",ct="VIDEO_CALL_DECLINED",st="VIDEO_CALL_MISSED",lt="CO_BROWSE_STATUS",ut="ADD_TO_CART",dt="USER_SESSION_EXPIRED",ft="VIDEO_PARTICIPANT_UPDATED";var bt=n(66);function pt(e,t){const{type:n,...a}=t;switch(n){case Ke:{const t=a.cId;new Promise(((n,a)=>{e(Object(fe.a)({conversationId:t},{resolve:n,reject:a}))})).catch((e=>{Object(bt.b)(e)}));break}}}pt.dependecies=[k,D];var ht=n(42),Ot=n.n(ht);const gt=e=>{mt(K.a,e)};let vt=null,yt=gt;function jt(e,t){Ot()(t)&&(yt=t)}function mt(e,t){vt&&(vt(t),vt=null)}Object(Y.b)(K.a,{topic:Q.j,subscriber:e=>{let{response:t}=e;const{data:n={}}=t||{},{callBack:a,permissions:r}=n;vt=a,yt(r)}});const It=(e,t,n)=>{e({type:$.a,payload:{id:t.id,filters:t.filters,cb:n}})};It.dependecies=[k];const Ct=(e,t)=>{e({type:$.m,payload:{id:t.id}})};Ct.dependecies=[k];const Et=e=>{Fe.a.post("/livechat/conversation/fetchAgentAvailabilityDetails").then((e=>{Object(de.a)({topic:Oe,payload:{data:e.data}})})).catch((()=>{Object(de.a)({topic:Oe,payload:{error:N.a.NETWORK_FAILURE}})}))};Et.dependecies=[k];var Tt=n(48);function St(e,t){new Promise(((n,a)=>{const r=ue()(t)?t:{conversationId:t};r.externalCaseId&&r.conversationId?a(Tt.a.NOT_ACCEPTABLE):e(Object(fe.a)(r,{resolve:n,reject:a}))})).catch((e=>{Object(bt.b)(e)}))}St.dependecies=[k,D];var _t=n(1017);function At(e,t,n){new Promise(((n,a)=>{e({type:M.e,payload:{locale:t},promise:{resolve:n,reject:a}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}At.dependecies=[k,D];var xt=n(19);const wt={updateUserContext:[U],updateUserSettings:[B],open:[H],close:[J],onUnreadCountChange:[function(e,t){te=X({topic:Q.m,legacySubscriberMap:te,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(s()(n,"count"))}})}],offUnreadCountChange:[function(e,t){te=Z({topic:Q.m,legacySubscriberMap:te,legacySubscriber:t})}],onExternalEvent:[function(e,t){ne=X({topic:Q.g,legacySubscriberMap:ne,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offExternalEvent:[function(e,t){ne=Z({topic:Q.g,legacySubscriberMap:ne,legacySubscriber:t})}],onClose:[function(e,t){ee=X({topic:Q.d,legacySubscriberMap:ee,legacySubscriber:t,newSubscriber:()=>{t()}})}],offClose:[function(e,t){ee=Z({topic:Q.d,legacySubscriberMap:ee,legacySubscriber:t})}],enable:[Re],disable:[Ne],onAvailabilityChange:[function(e,t){qe=X({topic:Q.c,legacySubscriberMap:qe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}})}],offAvailabilityChange:[function(e,t){qe=Z({topic:Q.c,legacySubscriberMap:qe,legacySubscriber:t})}],subscribeToUpdate:[Y.b],unsubscribeToUpdate:[Y.c],addFilterToEvaluate:[It],removeFilterToEvaluate:[Ct],openNewPrompt:[re],clearPrompt:[ie],onPromptAction:[function(e,t){oe=X({topic:Q.k,legacySubscriberMap:oe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offPromptAction:[function(e,t){oe=Z({topic:Q.k,legacySubscriberMap:oe,legacySubscriber:t})}],[pe]:[ge],[be]:[Ce],clearSession:[V],[he]:[Te],updateClientContext:[Se],updateThemeMode:[function(e,t,n){new Promise(((n,a)=>{const r=Object(d.a)().skin===xt.a;!t||!f.a.includes(t)||r&&"DARK"===t?a(N.a.INCORRECT_PAYLOAD):(Object(d.f)({themeMode:t}),e({type:$.p,payload:{themeMode:t},promise:{resolve:n,reject:a}}))})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}],onShowMedia:[function(e,t){xe=X({topic:Q.i,legacySubscriberMap:xe,legacySubscriber:t,newSubscriber:()=>{t()}})}],offShowMedia:[function(e,t){xe=Z({topic:Q.i,legacySubscriberMap:xe,legacySubscriber:t})}],onCloseMedia:[function(e,t){we=X({topic:Q.h,legacySubscriberMap:we,legacySubscriber:t,newSubscriber:()=>{t()}})}],offCloseMedia:[function(e,t){we=Z({topic:Q.h,legacySubscriberMap:we,legacySubscriber:t})}],onEvent:[function(e,t){Pe=X({topic:Q.e,legacySubscriberMap:Pe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offEvent:[function(e,t){Pe=Z({topic:Q.e,legacySubscriberMap:Pe,legacySubscriber:t})}],[Oe]:[Et],openExistingConversation:[St],updateWidget:[function(e,t){const n=t.details.status;_t.a[n]?e({type:$.q,payload:t}):(Object(h.a)("Invaild status code",n),Object(de.a)({topic:$.q,payload:{data:t,error:N.a.INCORRECT_PAYLOAD}}))}],updateLocale:[At],updateCart:[Me],removeFromCart:[De],registerDevice:[Ve,function(e,t){Object(de.a)({topic:Q.l,payload:{data:t,error:e}})}],onDeviceRegister:[function(e,t){He=X({topic:Q.l,legacySubscriberMap:He,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offDeviceRegister:[function(e,t){He=Z({topic:Q.l,legacySubscriberMap:He,legacySubscriber:t})}],unregisterDevice:[We,function(e,t){Object(de.a)({topic:Q.n,payload:{data:t,error:e}})}],onUnregisterDevice:[function(e,t){ze=X({topic:Q.n,legacySubscriberMap:ze,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offUnregisterDevice:[function(e,t){ze=Z({topic:Q.n,legacySubscriberMap:ze,legacySubscriber:t})}],onLoad:[function(e,t){_e=X({topic:Q.a,legacySubscriberMap:_e,legacySubscriber:t,newSubscriber:()=>{t()}})}],offLoad:[function(e,t){_e=Z({topic:Q.a,legacySubscriberMap:_e,legacySubscriber:t})}],onLoadComplete:[function(e,t){Ae=X({topic:Q.b,legacySubscriberMap:Ae,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offLoadComplete:[function(e,t){Ae=Z({topic:Q.b,legacySubscriberMap:Ae,legacySubscriber:t})}],goBack:[ye],onNotification:[pt],onSeekPermission:[jt],offSeekPermission:[function(e){jt(0,gt)}],grantPermission:[mt]},Rt=async()=>{if(!b.isEmpty()){const[e,...t]=b.popNextCmd();await Lt(b.getBufferQueue(),e,...t),await Rt()}},Nt=async()=>{b.isFlushingInProgress()?b.setIsReFlushPending(!0):(b.setIsFlushingInProgress(!0),await Rt(),b.setIsFlushingInProgress(!1),b.isEmpty(b.getBufferQueue())||b.move(b.getBufferQueue(),b.getQueue()),b.isReFlushPending()&&(b.setIsReFlushPending(!1),await Nt()))};async function Pt(e,t,n){if(!t)return;for(var a=arguments.length,r=new Array(a>3?a-3:0),i=3;i<a;i++)r[i-3]=arguments[i];const o=[p.a.emit.bind(p.a),...r];try{const e=await t(...o);n&&n(void 0,e)}catch(c){Object(h.a)(c),n&&n(c)}}async function Lt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.getQueue(),t=arguments.length>1?arguments[1]:void 0;const n=wt[t]&&wt[t][0],a=wt[t]&&wt[t][1],r=n&&n.dependecies&&n.dependecies.includes(D),i=n&&n.dependecies&&n.dependecies.includes(k);for(var o=arguments.length,c=new Array(o>2?o-2:0),s=2;s<o;s++)c[s-2]=arguments[s];if(i||r)return r&&!i?m()?void(a&&a(N.a.CHAT_UNAVAILABLE)):I()?void b.addCmdToQueue(e,[t,...c]):void Pt(t,n,a,...c):i&&!r?w()||R()?void(a&&a(N.a.CHAT_UNAVAILABLE)):x()?void b.addCmdToQueue(e,[t,...c]):void Pt(t,n,a,...c):void(w()||R()||m()?a&&a(N.a.CHAT_UNAVAILABLE):x()||I()?b.addCmdToQueue(e,[t,...c]):Pt(t,n,a,...c));Pt(t,n,a,...c)}var Mt=n(299),Dt=n.n(Mt),kt=n(1016),Ut=n.n(kt),Ft=n(564),Bt=n(382),$t=n(324),Gt=n(375),Vt=n(789),Ht=n(337);var Wt=n(383),zt=n(514);const qt=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const r=await(async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const{appId:r}=Object(d.a)(),i=[{key:"idpId",value:t},{key:"x-chat-token",value:await Object(Gt.a)(r)}];return n&&i.push({key:"conversationId",value:n}),a&&i.push({key:"messageId",value:a}),i})({ssoId:t,conversationId:n,messageId:a});return`https://www.samsung.com/chat/api/livechat/authenticate/begin?${Object(Wt.e)(r)}`},Kt=e=>{var t,n,a;return(null===(t=Object(d.a)().user)||void 0===t?void 0:t.isSSOAuthorized)&&!(null===(n=e.otherConfigs)||void 0===n||null===(a=n.settings)||void 0===a||!a.autoLoginSSOId)},Yt=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const r=(e=>{const t=screen.width/2,n=screen.height/2,a=t-t/2,r=n-n/2;return window.open(e,"_blank",`height=${n},width=${t},top=${r},left=${a}`)})(await qt({ssoId:t,conversationId:n,messageId:a}));return(()=>{const e=window.document.createElement("iframe");e.id="subscriberIframe",e.src=`https://live-chat-static.sprinklr.com/api/livechat/authenticate/listener.html?appId=${Object(d.a)().appId}`,e.style.visibility="hidden",window.document.body.appendChild(e)})(),new Promise(((e,t)=>{let n,a;a=Object(zt.d)("/logout",(()=>{o(),t()})),n=setInterval((()=>{r&&r.closed&&(o(),t())}),1500);const i=async n=>{if(n.origin.match(/(sprinklr\.com)/g))try{const{params:t}=JSON.parse(n.data);await Object(Gt.l)(Object(d.a)().appId,t.authToken),e(t)}catch(a){t(),Object(bt.b)(a)}finally{o()}},o=()=>{clearInterval(n),a&&a(),window.removeEventListener("message",i)};window.addEventListener("message",i)})).finally((()=>{r&&r.close(),(()=>{const e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)})()}))};var Xt=n(326),Zt=n(315);const Qt=e=>{let{handshakeDetails:t,applicationConfig:n,getSessionToken:a}=e;if(a&&Object(Fe.b)({getSessionToken:a}),t&&Object(Fe.b)({userId:t.chatUser.userId}),n){const e=Bt.a.getAutoExpireUserSessionTimeInMinutes(n),t=s()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(Fe.b)({sessionExpiryTimeInMinutes:e,sessionExpiryAlertTime:t})}},Jt=async e=>{const t=e.appId,n=e.user,a=null===n||void 0===n?void 0:n.authToken;if(Ut()(n,"isSSOAuthorized")){const e=(e=>{if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return G.a})(await Object(Gt.a)(t));Object(Xt.b)(e.chatUserId)&&await Object(Gt.h)(t)}a&&(await Object(Gt.h)(t),await Object(Gt.l)(t,a))};async function en(e){const{appId:t,user:n,userContext:a,sessionOrigin:r,customUser:i,otp:o,locale:c,meetingId:l}=e,d=Dt()(n,["authToken","isSSOAuthorized","oneTimeToken"]);let f,b;if(!!r){const{primaryToken:e,secondaryToken:n}=await async function(e){let t,n,a;try{t=await Object(Gt.e)(e)}catch(o){console.warn(o)}try{n=await Object(Gt.b)(e,Vt.a)}catch(o){console.warn(o)}try{a=await Object(Gt.b)(e,Vt.b)}catch(o){console.warn(o)}const r=n||a||t;let i=a||t;return i=i===r?void 0:i,{primaryToken:r,secondaryToken:i}}(t);f=e,b=n}else f=await Object(Gt.e)(t);const p={appId:t,oneTimeToken:s()(n,"oneTimeToken"),chatSessionToken:f,secondaryChatToken:b,page:Object(Ht.b)(),pageTitle:Object(Ht.c)(),referralPage:Object(Ht.d)(),timezone:Object(Ht.f)(),userAgent:Object(Ht.e)(),enforcedLocale:c,fallbackLocales:Object(Zt.a)(),meetingId:l,otp:o,customUser:i};if(!u()(d)){const{id:e,hash:t,...n}=d;Object.assign(p,{chatUser:{userId:e,...n},chatUserSignature:t})}return u()(a)||Object.assign(p,{customContext:a}),p}const tn=async e=>Object(Ft.c)(e),nn=async e=>{const t=await Object(Ft.a)(await en(e));if(!!e.sessionOrigin&&await(async e=>{try{await Object(Gt.i)(e,Vt.d)}catch(t){console.warn(t)}try{await Object(Gt.i)(e,Vt.b)}catch(t){console.warn(t)}})(e.appId),await Object(Gt.l)(e.appId,t.chatSessionToken),!t.userPreferences){const e=await Object(Gt.g)(t.chatUser.userId);return{...t,userPreferences:e}}return t},an=e=>{p.a.on(e),A(E)},rn=async()=>{A(T),j(!1),await Nt(),Object(de.a)({topic:Q.b,payload:{error:!0}})};var on=n(376),cn=n(1984),sn=n(1882),ln=n(1985);const un=Object(cn.a)("isSSOAuthorized"),dn=Object(cn.a)("authToken"),fn=Object(cn.a)("oneTimeToken");class bn{}bn.isSSOAuthorized=Object(sn.a)(un),bn.getAuthToken=Object(sn.a)(dn),bn.hasIsSSOAuthorized=e=>e&&Object(ln.a)("isSSOAuthorized",e),bn.getOneTimeToken=Object(sn.a)(fn);var pn=n(76),hn=n(638),On=n.n(hn);function gn(e){const t=Object(bt.a)();t&&t.setUser&&t.setUser({id:e.userId,username:On()(`${e.firstName||""} ${e.lastName||""}`),email:e.email||""})}var vn=n(262),yn=n.n(vn),jn=n(378),mn=n.n(jn),In=n(384),Cn=n(263),En=n(267),Tn=n(1315),Sn=n(1019),_n=n(473),An=n.n(_n),xn=n(287),wn=n(457),Rn=n(431),Nn=n(343),Pn=n(275);const Ln=e=>Object(Nn.c)(Object(Pn.b)(e)),Mn=e=>{const t=Object(wn.a)(),n=Object(xn.a)(),a=Object(En.d)(Ln),r=Object(f.P)(),i=Bt.a.getVisibilityConfigFilter(n),{hasPassed:o}=Object(Rn.a)(r?void 0:i,{logOnSuccess:!0,defaultValue:!1}),c=!o&&a;return Object(vn.useEffect)((()=>{o&&Object(h.a)("Sprinklr Chat hidden by visibility criteria"),a||Object(h.a)("Sprinklr Chat disabled by sdk"),j(c),Object(de.a)({topic:Q.c,payload:{data:{isChatVisible:c}}})}),[o,a,c]),Object(vn.useEffect)((()=>((async()=>{await Nt(),Object(de.a)({topic:Q.a,payload:{}}),Object(de.a)({topic:Q.b,payload:{error:!1}})})(),()=>{Object(de.a)({topic:Q.c,payload:{data:{isChatVisible:!1}}})})),[]),An()((()=>{Nt()}),[t]),c?e.children:null};var Dn=yn.a.memo(Mn),kn=n(729),Un=n(841);const Fn=e=>Object(Cn.jsx)(Un.a,{history:e.history},Object(Cn.jsx)(kn.b,null,e.children));var Bn=n(495),$n=n(270),Gn=n(265),Vn=n(332),Hn=n(277),Wn=n(1041),zn=n(367),qn=n(264),Kn=n(437),Yn=n(451),Xn=n(1043),Zn=n(733),Qn=n(266),Jn=n(268);const ea=e=>Object(Cn.css)("fill:",Object(Qn.b)("white")({theme:e}),";height:100%;width:100%;"),ta=Object(qn.a)("div",{target:"e12lx3wm0"})("position:fixed;top:0;left:0;z-index:",(e=>Object(Qn.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(Qn.f)("frame.translateZ")(e)),"px) !important;height:100%;width:100%;"),na=Object(qn.a)(Yn.a,{target:"e12lx3wm1"})({name:"774i4t",styles:"height:100%;width:100%;border-width:0px;"}),aa=e=>Object(Cn.css)(".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:",Object(Kn.l)(.2,Object(Qn.b)("charcoal")({theme:e})),";}"),ra=Object(qn.a)(Zn.c,{target:"e12lx3wm2"})({name:"hgqvtn",styles:"width:48px;height:48px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"}),ia=Object(qn.a)(Zn.c,{target:"e12lx3wm3"})({name:"uwwqev",styles:"width:100%;height:100%;"}),oa=Object(qn.a)(Xn.a,{target:"e12lx3wm4"})("margin-top:var(--spr-lc-safe-area-top);",(e=>{let{isPhone:t,direction:n}=e;return t?`${Object(Jn.c)("right: calc(20px + var(--spr-lc-safe-area-right))","left: calc(20px + var(--spr-lc-safe-area-left))")({direction:n})};`:`${Object(Jn.c)("right: calc(40px + var(--spr-lc-safe-area-right))","left: calc(40px + var(--spr-lc-safe-area-left))")({direction:n})};`}),"");var ca=n(271),sa=n(272),la=n(269),ua=n(521);const da=Object(Gn.g)({preview:{id:"preview",defaultMessage:"Preview"}});var fa=Object(Gn.h)((e=>{let{previewItem:t,intl:n}=e;const a=Object(Hn.b)(),r=Object(ca.a)(),i=Object(Vn.a)(),o=!!t&&t.type!==ua.a.DIALOGUE,{direction:c}=Object(sa.a)(),s=Object(vn.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),i.goBack()}),[i]);return Object(Cn.jsx)(ta,{className:"spr-chat__modal-box spr-live-chat-frame"},Object(Cn.jsx)(na,{name:"spr-chat__modal-frame","aria-label":n.formatMessage(da.preview),title:n.formatMessage(da.preview)},Object(Cn.jsx)(Cn.Global,{styles:aa(a)}),Object(Cn.jsx)(vn.Suspense,{fallback:Object(Cn.jsx)(ra,null,Object(Cn.jsx)(ia,{className:"center-x center-y"}))},Object(Cn.jsx)(Wn.a,{previewItem:t})),o&&Object(Cn.jsx)(oa,{Icon:zn.a,iconCss:ea(a),iconName:la.b.CLOSE,"aria-label":la.b.CLOSE,direction:c,isPhone:r,onClick:s})))}));var ba=e=>{if(!e.search.includes("preview=1"))return null;const t=s()(e.state,"sprPreview.type");switch(t){case ua.a.DIALOGUE:return{type:t,message:s()(e.state,"sprPreview.message"),title:s()(e.state,"sprPreview.title"),cancelLabel:s()(e.state,"sprPreview.cancelLabel"),confirmationLabel:s()(e.state,"sprPreview.confirmationLabel"),onConfirm:s()(e.state,"sprPreview.onConfirm"),onCancel:s()(e.state,"sprPreview.onCancel")};case ua.a.IMAGE:case ua.a.VIDEO:return{type:t,url:s()(e.state,"sprPreview.url"),downloadParams:s()(e.state,"sprPreview.downloadParams")};default:return null}};var pa=()=>{const e=Object(Vn.a)().location,t=Object(vn.useMemo)((()=>ba(e)),[e.search,e.state]);return t?Object(Cn.jsx)(fa,{previewItem:t}):null},ha=n(281);const Oa=()=>n.e(19).then(n.bind(null,1961)),ga=e=>n(1477)(`./${e.toLowerCase()}/pages`),va=Object(ha.a)(Oa);va.preload=e=>Promise.all([ga(e),Oa()]);var ya=va;const ja=Object(qn.a)("div",{target:"eh59bmw0"})("@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}");var ma=n(735),Ia=n(1045),Ca=n(284);var Ea=()=>Object(Cn.jsx)(ma.b,{className:"flex-column-container full-height"},Object(Cn.jsx)(Ia.a,null),Object(Cn.jsx)("div",{className:"flex-item-1 p-x-4 p-y-4 p-t-6"},Object(Cn.jsx)(ma.a,{className:"full-height"},Object(Cn.jsx)(Ca.c,{className:"flex-row-container center-x-y full-height"})))),Ta=n(736);var Sa=()=>Object(Cn.jsx)("div",{className:"flex-column-container full-height"},Object(Cn.jsx)(Ta.c,null,Object(Cn.jsx)(Ta.b,null)),Object(Cn.jsx)("div",{className:"flex-item-1 spr"},Object(Cn.jsx)(Ca.c,{className:"flex-row-container center-x-y full-height"}))),_a=n(846),Aa=n(476),xa=n(385);var wa=()=>{const e=Object(xa.a)().isDarkMode;return Object(Cn.jsx)("div",{className:"flex-column-container full-height"},Object(Cn.jsx)(Aa.b,null,Object(Cn.jsx)(Aa.a,null)),Object(Cn.jsx)(_a.a,{isDarkMode:e,className:"flex-item-1 spr"},Object(Cn.jsx)(Ca.c,{className:"flex-row-container center-x-y full-height"})))};var Ra=()=>{const e=Object(f.z)()===xt.b,t=Object(Vn.a)(),{location:{pathname:n}}=t;return"/home"===n&&!Object(f.F)()?e?Object(Cn.jsx)(Sa,null):Object(Cn.jsx)(Ea,null):Object(Cn.jsx)(wa,null)},Na=n(592);var Pa=()=>{const e=Object(Na.a)(),[t,n]=Object(vn.useState)();return Object(vn.useLayoutEffect)((()=>{ya.preload(e).then((e=>{let[t]=e;n(t)}))}),[]),Object(Cn.jsx)(ja,{className:"flex-column-container full-height full-width spr ovf-hidden"},t?Object(Cn.jsx)(vn.Suspense,{fallback:null},Object(Cn.jsx)(ya,{pages:t})):Object(Cn.jsx)(Ra,null))},La=n(278),Ma=n(588),Da=n.n(Ma),ka=n(394),Ua=n(848),Fa=n(1046),Ba=n(849),$a=n(279),Ga=n(432),Va=n(322),Ha=n(292);const Wa=e=>Object(Ga.d)(Object($a.b)(e)),za=e=>Object(Ga.f)(Object($a.b)(e)),qa=e=>Object(Nn.g)(Object(Pn.b)(e)),Ka=e=>Object(Ga.r)(Object($a.b)(e)),Ya=e=>Object(Ga.i)(Object($a.b)(e)),Xa=e=>{const t=Object(ca.a)(),n=Object(En.d)(za),a=Object(En.d)(Wa),r=Object(En.d)(Ka),i=Object(En.d)(qa),o=Object(La.a)(Ha.g),c=Object(En.d)(Ya),s=Object(ka.a)(),l=n.state,d=a.state,f=Da()(l),b=Da()(d);return Object(vn.useEffect)((()=>{i&&(t&&l&&l!==f||d===Va.g.WAITING)&&o(!1)}),[i,l,f,o,d,b]),Object(vn.useEffect)((()=>{const e=()=>{s.info({message:`Currently on live chat tab: ${!document.hidden}`})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[s]),u()(n)&&(r||u()(a))||t&&i&&!c?null:Object(Cn.jsx)(vn.Suspense,{fallback:null},Object(Cn.jsx)(Ua.a,Object($n.a)({},e,{outgoingCallDetails:n,incomingCallDetails:a})))},Za=e=>Object(Ga.c)(Object($a.b)(e)),Qa=e=>Object(Ga.n)(Object($a.b)(e)),Ja=e=>{const t=Object(En.d)(Za),n=Object(En.d)(Qa);return Object(Cn.jsx)(Ba.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(Cn.jsx)(Fa.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(Cn.jsx)(Xa,e)))};var er=yn.a.memo(Ja),tr=n(1312),nr=n(850),ar=n(647),rr=n(310),ir=n(851);const or=Object(ha.a)((()=>Promise.all([n.e(0),n.e(22)]).then(n.bind(null,1955)))),cr={endCobrowseSession:ar.c,resumeCobrowseSession:ar.n,markCobrowseSessionFailed:ar.e};var sr=()=>{const e=Object(En.d)(Pn.f),t=Object(vn.useMemo)((()=>t=>Object(rr.g)(Object($a.h)(t),e.agentId)),[e.agentId]),n=Object(En.d)(t),{endCobrowseSession:a,resumeCobrowseSession:r,markCobrowseSessionFailed:i}=Object(La.a)(cr),o=!function(e){const t=Object(vn.useRef)();return Object(vn.useEffect)((()=>{t.current=e}),[e]),t.current}(Object(wn.a)()),c=Object(vn.useCallback)((()=>{a({messageId:e.messageId})}),[e.messageId]),{appId:s}=Object(vn.useMemo)((()=>Object(d.a)()),[]);return Object(vn.useEffect)((()=>{if(!o)return;(async()=>{const e=await nr.a.get(s);try{if(e){const{conversationId:t,messageId:n,agentId:a}=e;r({state:{conversationId:t,messageId:n,agentId:a}})}}catch{i({reason:ir.a.RESUME_SESSION_FAILED})}})()}),[r,s,o]),u()(e)?null:Object(Cn.jsx)(vn.Suspense,{fallback:Object(Cn.jsx)(tr.a,{sessionState:e.sessionState,onStopSession:c,brandUser:n})},Object(Cn.jsx)(or,{cobrowseState:e}))};const lr=Object(ha.a)((()=>Promise.all([n.e(0),n.e(122)]).then(n.bind(null,1973))));var ur=()=>{const e=Object(xn.a)();return null!==e&&void 0!==e&&e.autoExpireUserSessionTimeInMinutes?Object(Cn.jsx)(vn.Suspense,{fallback:null},Object(Cn.jsx)(lr,null)):null},dr=n(301),fr=n.n(dr),br=n(393),pr=n.n(br),hr=n(336),Or=n(522),gr=n(274),vr=n(455);const yr=yn.a.createContext(null),jr=(e,t)=>{if(!e)return null;const{width:n,height:a,left:r,top:i}=e.getBoundingClientRect();return{width:n,height:a,left:r,right:t.innerWidth-r-n,bottom:t.innerHeight-i-a}},mr=e=>{var t;let{children:n}=e;const a=window.parent,r=!(null===(t=Object(gr.a)().trigger)||void 0===t||!t.useCustomTrigger),i=Object(d.a)().triggerContainer,o=Object(vn.useRef)(!0),c=Object(vr.a)(),s=Object(vn.useMemo)((()=>r&&i?a.document.querySelector(i):null),[i]),[l,u]=Object(vn.useState)((()=>jr(s,a))),f=Object(vn.useCallback)(pr()((()=>{u((()=>jr(s,a)))}),200),[]),b=Object(hr.a)(a,f),p=Object(Or.a)(a,f);return o.current&&(o.current=!1,s&&(b(s),p(s))),Object(vn.useLayoutEffect)((()=>{s&&f()}),[c]),r&&!s?(Object(h.a)('Error in Sprinklr Live Chat. "triggerContainer" missing in window.sprChatSettings.'),null):Object(Cn.jsx)(yr.Provider,{value:l},n)},Ir=()=>Object(vn.useContext)(yr);var Cr=n(477),Er=n(285);const Tr=Object(ha.a)((()=>Promise.all([n.e(0),n.e(54)]).then(n.bind(null,1956)))),Sr=e=>Object(Nn.f)(Object(Pn.b)(e)),_r=e=>Object(Er.b)(Object(Er.q)(Object($a.c)(e)));var Ar=e=>{var t;const n=Object(En.d)(Pn.d),a=Object(En.d)(Sr),r=Object(En.d)(_r),i=Object(gr.a)(),o=Ir(),c=!(null===i||void 0===i||null===(t=i.proactivePrompt)||void 0===t||!t.showWithBoxOpen),s=Object(vn.useRef)();s.current=Object(vn.useMemo)((()=>fr()(n)),[n]);const l=Object(Cr.c)(),d=a&&!o&&!c;var f;return u()(s.current)||d||!r?(null===l||void 0===l||null===(f=l.onAction)||void 0===f||f.call(l,{type:"UPDATE_PROMPT_HEIGHT",payload:0}),null):Object(Cn.jsx)(vn.Suspense,{fallback:null},Object(Cn.jsx)(Tr,Object($n.a)({},e,{visiblePrompt:s.current,customTriggerPosition:o,showWithBoxOpen:c})))},xr=n(586);const wr=Object(qn.a)(Yn.a,{target:"eyl7zqk0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Rr=Object(qn.a)("div",{target:"eyl7zqk1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(Qn.f)("page.gradients"),";background-color:",Object(Qn.f)("page.backgroundColor"),";"),Nr=Object(qn.a)("div",{target:"eyl7zqk2"})("height:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(Qn.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );width:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(Qn.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );border-radius:",(e=>Object(Qn.c)("page.minPadding",{defaultUnit:"px"})(e).absoluteValue?"8px":"0px"),";box-shadow:",(e=>Object(Qn.f)("frame.boxShadow")(e)),";overflow:hidden;background-color:var(--spr-lc-d-15);",(e=>!e.isPhone&&!Object(xr.a)()&&`max-width: ${Object(Qn.f)("page.maxWidth")(e)};\n    max-height: ${Object(Qn.f)("page.maxHeight")(e)};`),""),Pr={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var Lr=n(298),Mr=n(593),Dr=n(424);const kr=["/conversation/"],Ur={survey:Dr.a.SURVEY,401:Dr.a[401],home:Dr.a.HOME,"guided-workflow":Dr.a.GUIDED_WORKFLOW,logout:Dr.a.LOGOUT},Fr=e=>{let t;const n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?Dr.a.KNOWLEDGE_BASE:Dr.a.KNOWLEDGE_BASE_LIST);break;case"conversation":n.length>3&&"survey"===n[3]?t=Dr.a.SURVEY:n.length>2&&(t="all"===n[2]?Dr.a.CONVERSATION_LIST:Dr.a.CONVERSATION);break;default:t=Ur[n[1]]}return t};var Br=n(327);const $r=()=>{var e;const t=Object(Lr.a)(),n=Object(Vn.a)(),a=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,r=null===n||void 0===n?void 0:n.action,i=Object(vn.useMemo)((()=>Fr(a)),[a]);Object(vn.useEffect)((()=>{i&&((e,t)=>!("REPLACE"===t&&kr.filter((t=>null===e||void 0===e?void 0:e.match(t))).length))(a,r)&&t({action:Br.a.PAGE_OPENED,additional:{value:i}})}),[i,a])};var Gr=n(286);const Vr=e=>{const t=Object(ca.a)(),n=Object(Lr.a)();return $r(),Object(vn.useEffect)((()=>(n({action:Br.a.CONVERSATION_WINDOW_OPENED}),()=>{n({action:Br.a.CONVERSATION_WINDOW_CLOSED})})),[]),Object(Cn.jsx)(Rr,null,Object(Cn.jsx)(Nr,{ref:e.pageBoxRef,className:"spr",isPhone:t},Object(Cn.jsx)(Pa,null)))};var Hr=Object(Gn.h)((e=>{var t,n,a;const r=Object(xn.a)(),i=Object(vn.useRef)(),o=e.intl.formatMessage,c=Object(Mr.a)(),s=Object(La.a)(In.e),l=!(null===(t=r.otherConfigs.trigger)||void 0===t||!t.useCustomTrigger),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(Cn.css)("html,body{height:100%;}body{margin:0;}",e,"")}(null===(n=r.otherConfigs)||void 0===n||null===(a=n.settings)||void 0===a?void 0:a.pageGlobalStyles),d=Object(vn.useCallback)((()=>{c(i),s()}),[c,s]);return Object(Cn.jsx)(yn.a.Fragment,null,Object(Cn.jsx)(Cn.Global,{styles:u}),Object(Cn.jsx)(wr,{"aria-label":o(Gr.a.liveChat),name:"spr-chat__page-frame",contentDidMount:d,title:o(Gr.a.liveChat)},Object(Cn.jsx)(Cn.Global,{styles:Pr}),Object(Cn.jsx)(ur,null),Object(Cn.jsx)(Vr,Object($n.a)({},e,{pageBoxRef:i}))),l?Object(Cn.jsx)(mr,null,Object(Cn.jsx)(Ar,null)):null,Object(Cn.jsx)(er,{parentFrameRef:i}),Object(Cn.jsx)(sr,null),Object(Cn.jsx)(pa,null))})),Wr=n(501),zr=n(1048);const qr=Object(ha.a)((()=>n.e(5).then(n.bind(null,1981)).then((e=>({default:e.DraggableTriggerContextProvider}))))),Kr=e=>{let{children:t}=e;return Object(zr.a)()?Object(Cn.jsx)(vn.Suspense,{fallback:null},Object(Cn.jsx)(qr,null,t)):Object(Cn.jsx)(yn.a.Fragment,null,t)},Yr=e=>{let{children:t}=e;return Object(Cn.jsx)(mr,null,Object(Cn.jsx)(Kr,null,t))};var Xr=n(523),Zr=n(853),Qr=n(856),Jr=n(341);const ei=e=>Object(Nn.g)(Object(Pn.b)(e)),ti=Object(Gn.h)((e=>{var t,n;const a=Object(En.d)(ei),r=e.intl.formatMessage,i=Object(gr.a)(),o=!(null===i||void 0===i||null===(t=i.trigger)||void 0===t||!t.hideWhenOpen),c=Object(Lr.a)(),s=Object(ca.a)(),l=Object(Cr.c)(),u=Object(vn.useRef)(null),d=Object(Mr.a)(),f=Object(La.a)(In.e),[b,p]=Object(vn.useState)(!1),h=Object(Hn.b)(),O=Object(En.d)($a.h),g=Object(rr.d)(O);$r();const v=Object(vn.useCallback)((e=>{p(e)}),[]),y=Ir(),j=y?Zr.b:Zr.c;An()((()=>{const e=a?Jr.a.CONVERSATION_WINDOW_CLOSED:Jr.a.CONVERSATION_WINDOW_OPENED;c({action:e})}),[a]);const m=Object(vn.useCallback)((()=>{d(u),f()}),[d]);An()((()=>{f()}),[g]);const I=Object(vn.useMemo)((()=>({setIsFrameMaximized:v,isFrameMaximized:b})),[v,b]),C=Object(Zr.h)({theme:h,isPhone:s,isTriggerHiddenWhenMaximised:!(null===i||void 0===i||null===(n=i.trigger)||void 0===n||!n.hideWhenOpen),triggerOffsetTopBeforeReposition:null===l||void 0===l?void 0:l.triggerOffsetTopBeforeReposition,shouldRepositionTrigger:null===l||void 0===l?void 0:l.shouldRepositionTrigger,triggerOffsetBottom:null===l||void 0===l?void 0:l.triggerOffsetBottom});return Object(Cn.jsx)(yn.a.Fragment,null,Object(Cn.jsx)(Cn.Global,{styles:C}),Object(Cn.jsx)(Xr.CSSTransition,{in:!a,classNames:Zr.f,timeout:{enter:Zr.a,exit:Zr.a},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Cn.jsx)(Qr.a.Provider,{value:I},Object(Cn.jsx)(j,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:s,customTriggerPosition:y,isTriggerHiddenWhenMaximised:o,isMaximized:b,triggerOffsetBottom:null===l||void 0===l?void 0:l.triggerOffsetBottom,triggerOffsetTopBeforeReposition:null===l||void 0===l?void 0:l.triggerOffsetTopBeforeReposition,shouldRepositionTrigger:null===l||void 0===l?void 0:l.shouldRepositionTrigger},Object(Cn.jsx)(Zr.e,{isPhone:s},Object(Cn.jsx)(Zr.d,{"aria-label":r(Gr.a.liveChat),name:"spr-chat__box-frame",isPhone:s,contentDidMount:m,title:r(Gr.a.liveChat)},Object(Cn.jsx)(Cn.Global,{styles:Zr.g}),Object(Cn.jsx)("div",{className:"full-height full-width",ref:u},Object(Cn.jsx)(ur,null),Object(Cn.jsx)(Pa,null))))))))}));var ni=yn.a.forwardRef(((e,t)=>Object(Cn.jsx)(ti,{frameRef:t}))),ai=n(947);var ri=()=>{const e=Object(vn.useRef)(null);return Object(Cn.jsx)(Yr,null,Object(Cn.jsx)(Ar,{chatBoxFrameRef:e}),Object(Cn.jsx)(ai.a,null),Object(Cn.jsx)(ni,{ref:e}),Object(Cn.jsx)(er,{parentFrameRef:e}),Object(Cn.jsx)(sr,null),Object(Cn.jsx)(pa,null))},ii=n(626),oi=n(572),ci=n(1040);const si=e=>{const t=Object(vn.useState)(null);return Object(Cn.jsx)(ci.a.Provider,{value:t},e.children)};var li=n(346),ui=n(1033),di=n(792),fi=n(1036),bi=n(699);const pi=yn.a.createContext("MODERN");var hi=e=>Object(Cn.jsx)(pi.Provider,{value:e.skin},e.children),Oi=n(1051),gi=n(1052),vi=n(16),yi=n.n(vi);const ji=e=>{let{isDarkMode:t,theme:n,targetDocument:a,container:r,children:i}=e;const{targetElement:o,cssVariables:c}=Object(vn.useMemo)((()=>{const e=a&&r?a.querySelector(r):null,i=yi()(t?n.tokens.dark:Dt()(n.tokens,"dark"),((e,t,n)=>`${e}${n}:${t};`),"");let o;return o=e?t?`.spr-lc-dark{${i}}`:`.spr-lc-light{${i}}`:`:root {${i}}`,{targetElement:e,cssVariables:o}}),[n.tokens,t,a,r]);return Object(vn.useLayoutEffect)((()=>{o&&function(e,t){t?e.classList.contains("spr-lc-dark")||(e.classList.add("spr-lc-dark"),e.classList.remove("spr-lc-light")):e.classList.contains("spr-lc-light")||(e.classList.add("spr-lc-light"),e.classList.remove("spr-lc-dark"))}(o,t)}),[o,t]),Object(Cn.jsx)(yn.a.Fragment,null,Object(Cn.jsx)(Cn.Global,{styles:Object(Cn.css)(c,"","")}),i)};var mi=n(949);var Ii=e=>{let{theme:t,isDarkMode:n,targetDocument:a,container:r,skipAutoGenerate:i,children:o}=e;const c=Object(vn.useContext)(pi),s=Object(vn.useMemo)((()=>{if(i)return t;const e=Object(mi.a)({appColors:t.colors,appTypography:t.typography,appIcons:t.icons,appTokens:t.tokens});return Object(mi.c)({appBase:e,styles:t.styles,skin:c})}),[t,c,i]);return Object(Cn.jsx)(Hn.a,{theme:s},Object(Cn.jsx)(ji,{isDarkMode:n,targetDocument:a,container:r,theme:s},o))};function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ci.apply(this,arguments)}const Ei={direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},Ti=e=>{let{direction:t,device:n,skin:a,ownerDocument:r,intl:i,children:o,themeConfig:c}=e;const s=Object(vn.useMemo)((()=>{return e=r,Object(bi.a)({container:e.head});var e}),[r]);return Object(Cn.jsx)(Cn.CacheProvider,{value:s},Object(Cn.jsx)(Gn.e,i,Object(Cn.jsx)(hi,{skin:a},Object(Cn.jsx)(Ii,Ci({},c,{targetDocument:r}),Object(Cn.jsx)(gi.b,{direction:t},Object(Cn.jsx)(Oi.b,{device:n},o))))))};Ti.defaultProps=Ei;var Si=Ti,_i=n(79),Ai=n.n(_i),xi=n(69),wi=n.n(xi),Ri=n(1490),Ni=n.n(Ri),Pi=n(724),Li=n.n(Pi),Mi=n(516),Di=n.n(Mi),ki=n(67),Ui=n.n(ki),Fi=n(423),Bi=n(478);const $i=e=>e?yi()(e,((e,t,n)=>"filters"===n?(e[n]=Ui()(t,(e=>(null!==e&&void 0!==e&&e.filter&&(e.filter=Object(Fi.a)(e.filter)),e))),e):(e[n]=$i(t),e)),e):e,Gi=(e,t)=>{const n=[];return wi()(e,((e,a)=>{"filters"===a?wi()(e,(e=>{let{filter:a,value:r}=e;u()(a)||u()(r)||n.push({field:a.field,filterType:a.fieldType||a.filterType,filters:a.filters,values:a.values,details:{...a.details,path:t,value:r}})})):n.push(...Gi(e,t?`${t}.${a}`:a))})),n},Vi=e=>{let{triggerAlign:t,frameAlign:n}=e;if(t===Bi.f.LEFT)switch(n){case Bi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:return Bi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT;case Bi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return Bi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT;case Bi.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:return Bi.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;default:return n||Bi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT}switch(n){case Bi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return Bi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT;case Bi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return Bi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT;case Bi.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:return Bi.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT;default:return n||Bi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT}},Hi=e=>{let{framePath:t,passedStyleFilters:n}=e,a=!1,r=!1;return wi()(n,(e=>{var n,i,o,c,s,l,u,d,f,b;(null!==(n=e.value)&&void 0!==n&&null!==(i=n[t])&&void 0!==i&&i.align||(null===(o=e.details)||void 0===o?void 0:o.path)===t&&null!==(c=e.details)&&void 0!==c&&null!==(s=c.value)&&void 0!==s&&s.align)&&(r=!0),(null!==(l=e.value)&&void 0!==l&&null!==(u=l.trigger)&&void 0!==u&&u.align||"trigger"===(null===(d=e.details)||void 0===d?void 0:d.path)&&null!==(f=e.details)&&void 0!==f&&null!==(b=f.value)&&void 0!==b&&b.align)&&(a=!0)})),a&&!r},Wi=e=>{let{styles:t,passedStyleFilters:n}=e;if(!Hi({framePath:"frame",passedStyleFilters:n}))return{styles:t,passedStyleFilters:n};const a=Vi({triggerAlign:Object(Qn.f)("trigger.align",Bi.f.RIGHT)({theme:{styles:t}}),frameAlign:Object(Qn.f)("frame.align")({theme:{styles:t}})});return{styles:{...t,frame:{...(null===t||void 0===t?void 0:t.frame)||G.a,align:a}},passedStyleFilters:n}},zi=e=>{var t;let{styles:n,passedStyleFilters:a}=e;if(!!(null===(t=n.proactivePrompt)||void 0===t||!t.align)||!Hi({framePath:"proactivePrompt",passedStyleFilters:a}))return{styles:n,passedStyleFilters:a};const r=Vi({triggerAlign:Object(Qn.f)("trigger.align",Bi.f.RIGHT)({theme:{styles:n}}),frameAlign:Object(Qn.f)("proactivePrompt.align")({theme:{styles:n}})});return{styles:{...n,proactivePrompt:{...n.proactivePrompt,align:r}},passedStyleFilters:a}};var qi=e=>{let{children:t}=e;const n=Object(xn.a)(),a=Object(Na.a)(),r=Object(vn.useMemo)((()=>Ai()(n.otherConfigs.theme,Object(d.a)().theme)),[Object(d.a)().theme]),{appBase:i,appStyleFilters:o}=Object(vn.useMemo)((()=>{const e=Object(mi.a)({appColors:r.colors,appTypography:r.typography,appIcons:r.icons,appTokens:r.tokens});return{appBase:e,appStyleFilters:Object(mi.b)({appBase:e,legacyStyleFilters:$i(n.otherConfigs.theme.styleFilters),modernStyleFilters:n.configFilters,skin:a})}}),[r,a]),c=Object(vn.useMemo)((()=>o?se()(o)?o.map((e=>e.filter)):Gi(o,""):[]),[o]),l=Object(Rn.a)(c),u=Object(vn.useMemo)((()=>{const e=(se()(o)?o:c).filter(((e,t)=>l[t].hasPassed));let t=(e=>{var t;let{styles:n,passedStyleFilters:a}=e;const r=Ni()(n);return null!==(t=a[0])&&void 0!==t&&t.value?yi()(a,((e,t)=>{let{value:n}=t;return Ai()(e,n)}),r):(wi()(a,(e=>{e.details&&Li()(r,e.details.path,{...s()(r,e.details.path),...e.details.value})})),r)})({styles:r.styles,passedStyleFilters:e});return t=(e=>{let{styles:t,passedStyleFilters:n}=e;return Di()([Wi,zi])({styles:t,passedStyleFilters:n}).styles})({styles:t,passedStyleFilters:e}),Object(mi.c)({appBase:i,styles:t,skin:a})}),[r,c,l,a]);return Object(Cn.jsx)(Hn.a,{theme:u},t)};const Ki=Object(Gn.h)((e=>{let{intl:t,children:n}=e;const a=Object(xa.a)(),r=Object(sa.a)(),i=Object(Na.a)(),o=Object(Hn.b)(),c=Object(vn.useMemo)((()=>({locale:t.locale,messages:t.messages,defaultLocale:t.defaultLocale})),[t]),s=Object(vn.useMemo)((()=>({theme:o,isDarkMode:a.isDarkMode,skipAutoGenerate:!0,container:"#spr-live-chat-app"})),[o,a.isDarkMode]);return Object(Cn.jsx)(Si,{ownerDocument:Object(d.b)().document,direction:r.direction,device:a.device,skin:i,intl:c,themeConfig:s},n)})),Yi=e=>{let{children:t}=e;return Object(Cn.jsx)(qi,null,Object(Cn.jsx)(Ki,null,t))};var Xi=yn.a.memo(Yi),Zi=n(732);const Qi=e=>{let{id:t,filters:n,cb:a}=e;const r=Object(Rn.a)(n);return Object(vn.useEffect)((()=>{a({data:{id:t,filters:n,results:se()(r)?Ui()(r,(e=>({passed:e.hasPassed}))):{passed:r.hasPassed}}})}),[r,n,a]),null},Ji=e=>Object(Nn.b)(Object(Pn.b)(e)),eo=yn.a.memo((e=>{const t=Object(En.d)(Ji);return Object(Cn.jsx)(yn.a.Fragment,null,Ui()(t,((e,t)=>{let{filters:n,cb:a}=e;return Object(Cn.jsx)(Qi,{key:t,id:t,filters:n,cb:a})})),e.children)}));var to=n(1060),no=n(591);var ao=function(e){let{applicationConfig:t,store:n,history:a}=e;const r=Object(d.b)(),i=Object(f.P)()?Hr:ri,o=Object(vn.useCallback)((e=>Object(rr.f)(Object(Pn.g)(n.getState()),e)),[]),c=Object(vn.useMemo)((()=>Object(no.a)(r.document)),[r.document]);return Object(vn.useEffect)((()=>{n.dispatch(Object(In.d)())}),[n]),Object(Cn.jsx)(Cn.CacheProvider,{value:c},Object(Cn.jsx)(di.a,{window:r},Object(Cn.jsx)(En.a,{store:n},Object(Cn.jsx)(Bn.c.Provider,{value:t},Object(Cn.jsx)(si,null,Object(Cn.jsx)(Sn.b,null,Object(Cn.jsx)(ii.a,null,Object(Cn.jsx)(Zi.b,null,Object(Cn.jsx)(Fn,{history:a},Object(Cn.jsx)(li.b,null,Object(Cn.jsx)(oi.b,null,Object(Cn.jsx)(ui.a,null,Object(Cn.jsx)(fi.b,{history:a},Object(Cn.jsx)(eo,null,Object(Cn.jsx)(to.b,null,Object(Cn.jsx)(Dn,null,Object(Cn.jsx)(Xi,null,Object(Cn.jsx)(Wr.b.Provider,{value:o},Object(Cn.jsx)(Tn.b,null,Object(Cn.jsx)(i,null))))))))))))))))))))},ro=n(415),io=function(e){return"@@redux-saga/"+e},oo=io("CANCEL_PROMISE"),co=io("CHANNEL_END"),so=io("IO"),lo=io("MATCH"),uo=io("MULTICAST"),fo=io("SAGA_ACTION"),bo=io("SELF_CANCELLATION"),po=io("TASK"),ho=io("TASK_CANCEL"),Oo=io("TERMINATE"),go=io("LOCATION"),vo=n(435),yo=n(585),jo=function(e){return null===e||void 0===e},mo=function(e){return null!==e&&void 0!==e},Io=function(e){return"function"===typeof e},Co=function(e){return"string"===typeof e},Eo=Array.isArray,To=function(e){return e&&Io(e.then)},So=function(e){return e&&Io(e.next)&&Io(e.throw)},_o=function e(t){return t&&(Co(t)||wo(t)||Io(t)||Eo(t)&&t.every(e))},Ao=function(e){return e&&Io(e.take)&&Io(e.close)},xo=function(e){return Io(e)&&e.hasOwnProperty("toString")},wo=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var Ro=function(e,t){var n;void 0===t&&(t=!0);var a=new Promise((function(a){n=setTimeout(a,e,t)}));return a[oo]=function(){clearTimeout(n)},a},No=function(e){return function(){return e}}(!0),Po=function(){};var Lo=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Mo=function(e,t){Object(vo.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function Do(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function ko(e){var t=!1;return function(){t||(t=!0,e())}}var Uo=function(e){throw e},Fo=function(e){return{value:e,done:!0}};function Bo(e,t,n){void 0===t&&(t=Uo),void 0===n&&(n="iterator");var a={meta:{name:n},next:e,throw:t,return:Fo,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(a[Symbol.iterator]=function(){return a}),a}function $o(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var Go=function(e){return Array.apply(null,new Array(e))},Vo=function(e){return function(t){return e(Object.defineProperty(t,fo,{value:!0}))}},Ho=function(e){return e===Oo},Wo=function(e){return e===ho},zo=function(e){return Ho(e)||Wo(e)};function qo(e,t){var n=Object.keys(e),a=n.length;var r,i=0,o=Eo(e)?Go(a):{},c={};return n.forEach((function(e){var n=function(n,c){r||(c||zo(n)?(t.cancel(),t(n,c)):(o[e]=n,++i===a&&(r=!0,t(o))))};n.cancel=Po,c[e]=n})),t.cancel=function(){r||(r=!0,n.forEach((function(e){return c[e].cancel()})))},c}function Ko(e){return{name:e.name||"anonymous",location:Yo(e)}}function Yo(e){return e[go]}var Xo={isEmpty:No,put:Po,take:Po};function Zo(e,t){void 0===e&&(e=10);var n=new Array(e),a=0,r=0,i=0,o=function(t){n[r]=t,r=(r+1)%e,a++},c=function(){if(0!=a){var t=n[i];return n[i]=null,a--,i=(i+1)%e,t}},s=function(){for(var e=[];a;)e.push(c());return e};return{isEmpty:function(){return 0==a},put:function(c){var l;if(a<e)o(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[r]=c,i=r=(r+1)%e;break;case 4:l=2*e,n=s(),a=n.length,r=n.length,i=0,n.length=l,e=l,o(c)}},take:c,flush:s}}var Qo=function(){return Xo},Jo=function(e){return Zo(e,3)},ec=function(e){return Zo(e,4)},tc=Object.freeze({__proto__:null,none:Qo,fixed:function(e){return Zo(e,1)},dropping:function(e){return Zo(e,2)},sliding:Jo,expanding:ec}),nc="TAKE",ac="PUT",rc="ALL",ic="RACE",oc="CALL",cc="FORK",sc="CANCEL",lc="SELECT",uc="ACTION_CHANNEL",dc="CANCELLED",fc=function(e,t){var n;return(n={})[so]=!0,n.combinator=!1,n.type=e,n.payload=t,n},bc=function(e){return fc(cc,Object(vo.a)({},e.payload,{detached:!0}))};function pc(e,t){return void 0===e&&(e="*"),_o(e)?fc(nc,{pattern:e}):Ao(n=e)&&n[uo]&&mo(t)&&_o(t)?fc(nc,{channel:e,pattern:t}):Ao(e)?fc(nc,{channel:e}):void 0;var n}function hc(e,t){return jo(t)&&(t=e,e=void 0),fc(ac,{channel:e,action:t})}function Oc(e){var t=fc(rc,e);return t.combinator=!0,t}function gc(e){var t=fc(ic,e);return t.combinator=!0,t}function vc(e,t){var n,a=null;return Io(e)?n=e:(Eo(e)?(a=e[0],n=e[1]):(a=e.context,n=e.fn),a&&Co(n)&&Io(a[n])&&(n=a[n])),{context:a,fn:n,args:t}}function yc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return fc(oc,vc(e,n))}function jc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return fc(cc,vc(e,n))}function mc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return bc(jc.apply(void 0,[e].concat(n)))}function Ic(e){return void 0===e&&(e=bo),fc(sc,e)}function Cc(e){void 0===e&&(e=Lo);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return fc(lc,{selector:e,args:n})}function Ec(e,t){return fc(uc,{pattern:e,buffer:t})}var Tc=yc.bind(null,Ro);function Sc(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var _c=Sc,Ac=[],xc=0;function wc(e){try{Pc(),e()}finally{Lc()}}function Rc(e){Ac.push(e),xc||(Pc(),Mc())}function Nc(e){try{return Pc(),e()}finally{Mc()}}function Pc(){xc++}function Lc(){xc--}function Mc(){var e;for(Lc();!xc&&void 0!==(e=Ac.shift());)wc(e)}var Dc=function(e){return function(t){return e.some((function(e){return $c(e)(t)}))}},kc=function(e){return function(t){return e(t)}},Uc=function(e){return function(t){return t.type===String(e)}},Fc=function(e){return function(t){return t.type===e}},Bc=function(){return No};function $c(e){var t="*"===e?Bc:Co(e)?Uc:Eo(e)?Dc:xo(e)?Uc:Io(e)?kc:wo(e)?Fc:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Gc={type:co},Vc=function(e){return e&&e.type===co};function Hc(e){void 0===e&&(e=ec());var t=!1,n=[];return{take:function(a){t&&e.isEmpty()?a(Gc):e.isEmpty()?(n.push(a),a.cancel=function(){Do(n,a)}):a(e.take())},put:function(a){if(!t){if(0===n.length)return e.put(a);n.shift()(a)}},flush:function(n){t&&e.isEmpty()?n(Gc):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var a=0,r=e.length;a<r;a++){(0,e[a])(Gc)}}}}}function Wc(e,t){void 0===t&&(t=Qo());var n,a=!1,r=Hc(t),i=function(){a||(a=!0,Io(n)&&n(),r.close())};return n=ko(n=e((function(e){Vc(e)?i():r.put(e)}))),a&&n(),{take:r.take,flush:r.flush,close:i}}function zc(){var e=function(){var e,t=!1,n=[],a=n,r=function(){a===n&&(a=n.slice())},i=function(){t=!0;var e=n=a;a=[],e.forEach((function(e){e(Gc)}))};return(e={})[uo]=!0,e.put=function(e){if(!t)if(Vc(e))i();else for(var r=n=a,o=0,c=r.length;o<c;o++){var s=r[o];s[lo](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=Bc),t?e(Gc):(e[lo]=n,r(),a.push(e),e.cancel=ko((function(){r(),Do(a,e)})))},e.close=i,e}(),t=e.put;return e.put=function(e){e[fo]?t(e):Rc((function(){t(e)}))},e}function qc(e,t){var n=e[oo];Io(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Kc,Yc=0,Xc=function(){return++Yc};function Zc(e){e.isRunning()&&e.cancel()}var Qc=((Kc={}).TAKE=function(e,t,n){var a=t.channel,r=void 0===a?e.channel:a,i=t.pattern,o=t.maybe,c=function(e){e instanceof Error?n(e,!0):!Vc(e)||o?n(e):n(Oo)};try{r.take(c,mo(i)?$c(i):null)}catch(s){return void n(s,!0)}n.cancel=c.cancel},Kc.PUT=function(e,t,n){var a=t.channel,r=t.action,i=t.resolve;Rc((function(){var t;try{t=(a?a.put:e.dispatch)(r)}catch(o){return void n(o,!0)}i&&To(t)?qc(t,n):n(t)}))},Kc.ALL=function(e,t,n,a){var r=a.digestEffect,i=Yc,o=Object.keys(t);if(0!==o.length){var c=qo(t,n);o.forEach((function(e){r(t[e],i,c[e],e)}))}else n(Eo(t)?[]:{})},Kc.RACE=function(e,t,n,a){var r=a.digestEffect,i=Yc,o=Object.keys(t),c=Eo(t)?Go(o.length):{},s={},l=!1;o.forEach((function(e){var t=function(t,a){l||(a||zo(t)?(n.cancel(),n(t,a)):(n.cancel(),l=!0,c[e]=t,n(c)))};t.cancel=Po,s[e]=t})),n.cancel=function(){l||(l=!0,o.forEach((function(e){return s[e].cancel()})))},o.forEach((function(e){l||r(t[e],i,s[e],e)}))},Kc.CALL=function(e,t,n,a){var r=t.context,i=t.fn,o=t.args,c=a.task;try{var s=i.apply(r,o);if(To(s))return void qc(s,n);if(So(s))return void cs(e,s,c.context,Yc,Ko(i),!1,n);n(s)}catch(l){n(l,!0)}},Kc.CPS=function(e,t,n){var a=t.context,r=t.fn,i=t.args;try{var o=function(e,t){jo(e)?n(t):n(e,!0)};r.apply(a,i.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(c){n(c,!0)}},Kc.FORK=function(e,t,n,a){var r=t.context,i=t.fn,o=t.args,c=t.detached,s=a.task,l=function(e){var t=e.context,n=e.fn,a=e.args;try{var r=n.apply(t,a);if(So(r))return r;var i=!1;return Bo((function(e){return i?{value:e,done:!0}:(i=!0,{value:r,done:!To(r)})}))}catch(o){return Bo((function(){throw o}))}}({context:r,fn:i,args:o}),u=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Ko(t)}(l,i);Nc((function(){var t=cs(e,l,s.context,Yc,u,c,void 0);c?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},Kc.JOIN=function(e,t,n,a){var r=a.task,i=function(e,t){if(e.isRunning()){var n={task:r,cb:t};t.cancel=function(){e.isRunning()&&Do(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Eo(t)){if(0===t.length)return void n([]);var o=qo(t,n);t.forEach((function(e,t){i(e,o[t])}))}else i(t,n)},Kc.CANCEL=function(e,t,n,a){var r=a.task;t===bo?Zc(r):Eo(t)?t.forEach(Zc):Zc(t),n()},Kc.SELECT=function(e,t,n){var a=t.selector,r=t.args;try{n(a.apply(void 0,[e.getState()].concat(r)))}catch(i){n(i,!0)}},Kc.ACTION_CHANNEL=function(e,t,n){var a=t.pattern,r=Hc(t.buffer),i=$c(a),o=function t(n){Vc(n)||e.channel.take(t,i),r.put(n)},c=r.close;r.close=function(){o.cancel(),c()},e.channel.take(o,i),n(r)},Kc.CANCELLED=function(e,t,n,a){n(a.task.isCancelled())},Kc.FLUSH=function(e,t,n){t.flush(n)},Kc.GET_CONTEXT=function(e,t,n,a){n(a.task.context[t])},Kc.SET_CONTEXT=function(e,t,n,a){var r=a.task;Mo(r.context,t),n()},Kc);function Jc(e,t){return e+"?"+t}function es(e){var t=e.name,n=e.location;return n?t+"  "+Jc(n.fileName,n.lineNumber):t}function ts(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var ns=null,as=[],rs=function(){ns=null,as.length=0},is=function(){var e=as[0],t=as.slice(1),n=e.crashedEffect?function(e){var t=Yo(e);return t?t.code+"  "+Jc(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+es(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+es(e.meta)})),[ts(as)]).join("\n")};function os(e,t,n,a,r,i,o){var c;void 0===o&&(o=Po);var s,l,u=0,d=null,f=[],b=Object.create(n),p=function(e,t,n){var a,r=[],i=!1;function o(e){t(),s(),n(e,!0)}function c(t){r.push(t),t.cont=function(c,s){i||(Do(r,t),t.cont=Po,s?o(c):(t===e&&(a=c),r.length||(i=!0,n(a))))}}function s(){i||(i=!0,r.forEach((function(e){e.cont=Po,e.cancel()})),r=[])}return c(e),{addTask:c,cancelAll:s,abort:o,getTasks:function(){return r}}}(t,(function(){f.push.apply(f,p.getTasks().map((function(e){return e.meta.name})))}),h);function h(t,n){if(n){if(u=2,(i={meta:r,cancelledTasks:f}).crashedEffect=ns,as.push(i),O.isRoot){var a=is();rs(),e.onError(t,{sagaStack:a})}l=t,d&&d.reject(t)}else t===ho?u=1:1!==u&&(u=3),s=t,d&&d.resolve(t);var i;O.cont(t,n),O.joiners.forEach((function(e){e.cb(t,n)})),O.joiners=null}var O=((c={})[po]=!0,c.id=a,c.meta=r,c.isRoot=i,c.context=b,c.joiners=[],c.queue=p,c.cancel=function(){0===u&&(u=1,p.cancelAll(),h(ho,!1))},c.cont=o,c.end=h,c.setContext=function(e){Mo(b,e)},c.toPromise=function(){return d||(d=_c(),2===u?d.reject(l):0!==u&&d.resolve(s)),d.promise},c.isRunning=function(){return 0===u},c.isCancelled=function(){return 1===u||0===u&&1===t.status},c.isAborted=function(){return 2===u},c.result=function(){return s},c.error=function(){return l},c);return O}function cs(e,t,n,a,r,i,o){var c=e.finalizeRunEffect((function(t,n,a){if(To(t))qc(t,a);else if(So(t))cs(e,t,l.context,n,r,!1,a);else if(t&&t[so]){(0,Qc[t.type])(e,t.payload,a,u)}else a(t)}));d.cancel=Po;var s={meta:r,cancel:function(){0===s.status&&(s.status=1,d(ho))},status:0},l=os(e,s,n,a,r,i,o),u={task:l,digestEffect:f};return o&&(o.cancel=l.cancel),d(),l;function d(e,n){try{var r;n?(r=t.throw(e),rs()):Wo(e)?(s.status=1,d.cancel(),r=Io(t.return)?t.return(ho):{done:!0,value:ho}):r=Ho(e)?Io(t.return)?t.return():{done:!0}:t.next(e),r.done?(1!==s.status&&(s.status=3),s.cont(r.value)):f(r.value,a,d)}catch(i){if(1===s.status)throw i;s.status=2,s.cont(i,!0)}}function f(t,n,a,r){void 0===r&&(r="");var i,o=Xc();function s(n,r){i||(i=!0,a.cancel=Po,e.sagaMonitor&&(r?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),r&&function(e){ns=e}(t),a(n,r))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:r,effect:t}),s.cancel=Po,a.cancel=function(){i||(i=!0,s.cancel(),s.cancel=Po,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},c(t,o,s)}}function ss(e,t){var n=e.channel,a=void 0===n?zc():n,r=e.dispatch,i=e.getState,o=e.context,c=void 0===o?{}:o,s=e.sagaMonitor,l=e.effectMiddlewares,u=e.onError,d=void 0===u?$o:u;for(var f=arguments.length,b=new Array(f>2?f-2:0),p=2;p<f;p++)b[p-2]=arguments[p];var h=t.apply(void 0,b);var O,g=Xc();if(s&&(s.rootSagaStarted=s.rootSagaStarted||Po,s.effectTriggered=s.effectTriggered||Po,s.effectResolved=s.effectResolved||Po,s.effectRejected=s.effectRejected||Po,s.effectCancelled=s.effectCancelled||Po,s.actionDispatched=s.actionDispatched||Po,s.rootSagaStarted({effectId:g,saga:t,args:b})),l){var v=ro.d.apply(void 0,l);O=function(e){return function(t,n,a){return v((function(t){return e(t,n,a)}))(t)}}}else O=Lo;var y={channel:a,dispatch:Vo(r),getState:i,sagaMonitor:s,onError:d,finalizeRunEffect:O};return Nc((function(){var e=cs(y,h,c,g,Ko(t),!0,void 0);return s&&s.effectResolved(g,e),e}))}var ls=function(e){var t,n=void 0===e?{}:e,a=n.context,r=void 0===a?{}:a,i=n.channel,o=void 0===i?zc():i,c=n.sagaMonitor,s=Object(yo.a)(n,["context","channel","sagaMonitor"]);function l(e){var n=e.getState,a=e.dispatch;return t=ss.bind(null,Object(vo.a)({},s,{context:r,channel:o,dispatch:a,getState:n,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return o.put(t),n}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(e){Mo(r,e)},l},us=ls,ds=n(381),fs=n.n(ds),bs=n(454),ps=n(352);class hs{constructor(){this.data={}}setReducer(e){return this.data.reducer=e,this}setSaga(e){return this.data.saga=e,this}setPreloadedState(e){return this.data.preloadedState=e,this}setHTTPClient(e){return this.data.httpClient=e,this}setApplicationConfig(e){return e&&(this.data.applicationConfig=e),this}setHandshakeDetails(e){return e&&(this.data.handshakeDetails=e),this}setChatSettings(e){return e&&(this.data.chatSettings=e),this}build(){const{applicationConfig:e,handshakeDetails:t,chatSettings:n,httpClient:a,reducer:r,preloadedState:i,saga:o}=this.data,c=n.clientContext;fs()(a,"HTTP Client is not configured"),Object(bs.b)(a),fs()(r,"Reducer is not configured");const s=[];const l=us();s.push(l);const u=Object(ro.e)(r,i,Object(ro.a)(...s));o&&l.run(o);const d={payload:{applicationConfig:e,handshakeDetails:t,clientContext:c},type:ps.a};return u.dispatch(d),this.data.store=u,u}}var Os=function(e){return{done:!0,value:e}},gs={};function vs(e){return Ao(e)?"channel":xo(e)?String(e):Io(e)?e.name:String(e)}function ys(e,t,n){var a,r,i,o=t;function c(t,n){if(o===gs)return Os(t);if(n&&!r)throw o=gs,n;a&&a(t);var c=n?e[r](n):e[o]();return o=c.nextState,i=c.effect,a=c.stateUpdater,r=c.errorState,o===gs?Os(t):i}return Bo(c,(function(e){return c(null,e)}),n)}function js(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i,o={done:!1,value:pc(e)},c=function(e){return{done:!1,value:jc.apply(void 0,[t].concat(a,[e]))}},s=function(e){return i=e};return ys({q1:function(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(i)}}},"q1","takeEvery("+vs(e)+", "+t.name+")")}function ms(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i,o,c={done:!1,value:pc(e)},s=function(e){return{done:!1,value:jc.apply(void 0,[t].concat(a,[e]))}},l=function(e){return{done:!1,value:Ic(e)}},u=function(e){return i=e},d=function(e){return o=e};return ys({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){return i?{nextState:"q3",effect:l(i)}:{nextState:"q1",effect:s(o),stateUpdater:u}},q3:function(){return{nextState:"q1",effect:s(o),stateUpdater:u}}},"q1","takeLatest("+vs(e)+", "+t.name+")")}function Is(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i,o={done:!1,value:pc(e)},c=function(e){return{done:!1,value:yc.apply(void 0,[t].concat(a,[e]))}},s=function(e){return i=e};return ys({q1:function(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(i)}}},"q1","takeLeading("+vs(e)+", "+t.name+")")}function Cs(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return jc.apply(void 0,[js,e,t].concat(a))}var Es=n(366);function Ts(e){return e.type===et||e.type===tt}function*Ss(e){try{yield Oc(e.filter(Ts).map((e=>hc(e))))}catch(t){Object(bt.b)(t)}}function*_s(e){try{const{events:t}=e.payload;yield yc(Ss,t)}catch(t){Object(bt.b)(t)}}function*As(){try{yield Cs(Es.k,_s)}catch(e){Object(bt.b)(e)}}function*xs(e){try{yield Tc(e),yield hc(Object(In.h)())}catch(t){Object(bt.b)(t)}}function*ws(){let e;const t=yield Ec([et,tt]);for(;;)try{const n=yield pc(t);e&&!e.isCancelled()&&(yield Ic(e)),n.type===et&&(e=yield jc(xs,n.payload.waitTime),yield hc(Object(In.f)({waitTime:n.payload.waitTime,reason:n.payload.reason}))),n.type===tt&&(yield hc(Object(In.h)()))}catch(n){Object(bt.b)(n)}}function*Rs(){try{yield Oc([jc(ws)])}catch(e){Object(bt.b)(e)}}function*Ns(){try{yield Oc([jc(As),jc(Rs)])}catch(e){Object(bt.b)(e)}}var Ps=n(422),Ls=n.n(Ps),Ms=n(843),Ds=n.n(Ms),ks=n(302),Us=n.n(ks),Fs=n(323),Bs=n(305),$s=n(373),Gs=n(386),Vs=n(524),Hs=n(328);function*Ws(e){Object(Gs.k)(e)&&(yield hc(Object(Hs.p)(e)))}function zs(e){return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){let t=e;Object(Gs.j)(e)||(t=Dt()(e,"id"));return yield Object(Vs.t)(t)}))}function*qs(e){try{return yield yc(zs,e)}catch(t){return void Object(bt.b)(t)}}function*Ks(e){const t=e.id,n=Bs.a.getConversationId(e);let a;const r=s()($s.a.getAttachment(Bs.a.getMessagePayload(e)),"messageId");try{a=yield yc(zs,e)}catch(i){throw yield hc({type:Ie.J,payload:{chatMessage:new Bs.a(e).setCreationTime(Date.now()).build(),conversationId:Bs.a.getConversationId(e)}}),yield hc({payload:{conversationId:n,transientId:t,postbackParentMessageId:r},type:Ie.G}),i}Object(Gs.k)(a)&&(yield hc({payload:{chatMessage:a,conversationId:n,transientId:t},type:Ie.H}))}var Ys=n(1323);var Xs=()=>Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Object(Ys.a)()).default}));function*Zs(e){try{const t=(yield Xs()).makeTextMessage(e.payload);yield yc(Ws,t),yield yc(Ks,t)}catch(t){Object(bt.b)(t)}}function*Qs(){try{yield Cs(Ie.ab,Zs)}catch(e){Object(bt.b)(e)}}var Js=n(300);const el=(e,t)=>{const n=$s.a.getAttachment(Bs.a.getMessagePayload(e));return L()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},tl=(e,t)=>{const n=$s.a.getAttachment(Bs.a.getMessagePayload(e));return L()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},nl={[Js.c.CARD]:el,[Js.c.CAROUSEL]:el,[Js.c.CO_BROWSE_INVITE]:el,[Js.c.PRODUCT_CARD]:el,[Js.c.PRODUCT_SHOWCASE_CARD]:el,[Js.c.INFO_CARD]:el,[Js.c.PRODUCT_BANNER]:el,[Js.c.PRODUCT_LIST]:el,[Js.c.FORM]:tl,[Js.c.CONTACT_DETAILS_FORM]:tl,[Js.c.SECURE_FORM]:tl,[Js.c.APPOINTMENT]:(e,t)=>L()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}}),[Js.c.SURVEY]:(e,t)=>L()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}}),[Js.c.VIDEO_CHAT]:(e,t)=>L()(e,{messagePayload:{attachment:{currentState:{$merge:{state:t.state,createdTime:Date.now()}},previousStates:{$push:[e.messagePayload.attachment.currentState]}}}})},al=(e,t)=>{var n,a;if(!e||!t)return{};switch(null===(a=null===(n=e.messagePayload)||void 0===n?void 0:n.attachment)||void 0===a?void 0:a.type){case Js.c.CAROUSEL:case Js.c.CO_BROWSE_INVITE:case Js.c.PRODUCT_CARD:case Js.c.PRODUCT_SHOWCASE_CARD:case Js.c.INFO_CARD:case Js.c.PRODUCT_BANNER:case Js.c.PRODUCT_LIST:case Js.c.CARD:return{buttonId:t.messagePayload.attachment.buttonId};case Js.c.SURVEY:return{submitted:!t.messagePayload.attachment.reSubmittable,opened:!0};case Js.c.SECURE_FORM:case Js.c.FORM:case Js.c.CONTACT_DETAILS_FORM:return{filledForm:t.messagePayload.attachment.filledForm};case Js.c.APPOINTMENT:{const e=t.messagePayload.attachment;return{selectedDate:e.selectedDate,selectedSlot:e.selectedSlot}}default:return{}}};function*rl(e){let{chatMessage:t,conversationId:n,params:a}=e;if(!t)return null;const r=nl[$s.a.getAttachment(Bs.a.getMessagePayload(t)).type];if(r){const e=r(t,a);return yield hc({type:Ie.J,payload:{chatMessage:e,conversationId:n}}),e}return null}function*il(e){const{postback:{messageId:t},conversationId:n}=e.payload;let a;const r=yield Cc($a.c),i=Object(Er.k)(Object(Er.m)(r,n),t);try{const t=(yield Xs()).makeTemplatePostbackAttachmentMessage(e.payload);a=yield yc(rl,{chatMessage:i,conversationId:n,params:al(i,t)}),t&&(yield yc(Ws,t),yield yc(Ks,t),e.promise.resolve())}catch(o){a&&(yield hc({type:Ie.J,payload:{chatMessage:i,conversationId:n}})),e.promise.reject(),Object(bt.b)(o)}}function*ol(){try{yield Cs(Ie.Z,il)}catch(e){Object(bt.b)(e)}}function*cl(e){try{const t=(yield Xs()).makeQuickReplyPostbackAttachmentMessage(e.payload);t&&(yield yc(Ws,t),yield yc(Ks,t))}catch(t){Object(bt.b)(t)}}function*sl(){try{yield Cs(Ie.S,cl)}catch(e){Object(bt.b)(e)}}var ll=n(380),ul=n.n(ll),dl=n(499),fl=n(345);const bl=e=>({userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:"",locale:"en"});function*pl(e){try{const t=Ui()(e,(e=>e.sender)),n=yield yc(dl.b,e),a=Ui()(n,(e=>fl.a.getId(e)));let r=[];wi()(t,(e=>{!a.includes(e)&&Object(Xt.c)(e)&&(r=[...r,bl(e)])})),yield hc({type:M.g,payload:{users:[...n,...r]}})}catch(t){Object(bt.b)(t)}}function*hl(e){try{const t=ul()(e);if(0===t.length)return;const n=((e,t)=>{const n={};return yi()(t,((t,a)=>{const r=a.sender;return n[r]||!!Object(rr.g)(e,r)||(n[r]=r,t.push(a)),t}),[])})(yield Cc($a.h),t);if(0===n.length)return;yield yc(pl,n)}catch(t){Object(bt.b)(t)}}function*Ol(e){try{yield yc(pl,ul()(e))}catch(t){Object(bt.b)(t)}}const gl="/co-browse/conversation",vl=e=>{let{messageId:t,markCompletedSession:n}=e;return Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield bs.a.post(`${gl}/${n?"completed":"cancelled"}?messageId=${t}`)).data}))},yl=e=>{let{messageId:t,actionPayload:n}=e;return Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield bs.a.post(`${gl}/push?messageId=${t}`,{type:"CO_BROWSE",payload:n})).data}))},jl=e=>{let{messageId:t,payload:n}=e;return Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield bs.a.post(`${gl}/push/status?messageId=${t}`,n)).data}))},ml=e=>{let{messageId:t,otp:n,additionalInfo:a}=e;return Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){return jl({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:a}})}))},Il=e=>{let{messageId:t,reason:n}=e;return Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){return jl({messageId:t,payload:{status:"FAILED",reason:n}})}))},Cl=e=>{let{messageId:t,payload:n}=e;return bs.a.post(`${gl}/event?messageId=${t}`,n)},El=e=>{let{messageId:t}=e;return Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield bs.a.post(`${gl}/session/live?messageId=${t}`)).data}))};var Tl=n(726);function*Sl(e){try{const{messageId:t}=yield Cc($a.f);yield yc(yl,{messageId:t,actionPayload:e.payload})}catch(t){Object(bt.b)(t)}}function*_l(e){const{messageId:t,conversationId:n,agentId:a}=yield Cc($a.f);try{const{otp:r,additionalInfo:i}=e.payload;yield yc(ml,{messageId:t,otp:r,additionalInfo:i}),yield hc(Object(ar.i)({state:{messageId:t,conversationId:n,agentId:a}}))}catch(r){try{yield hc(Object(ar.e)({reason:ir.a.OTP_SEND_FAILED})),yield yc(Il,{messageId:t,reason:ir.a.OTP_SEND_FAILED})}catch(i){Object(bt.b)(r)}}}function*Al(e){try{const{messageId:t,reason:n}=e.payload;yield hc(Object(ar.e)({reason:n})),yield yc(Il,{messageId:t,reason:n})}catch(t){Object(bt.b)(t)}}function*xl(e){let{messageId:t}=e;const[n,a]=yield gc([pc((e=>{let{type:n,payload:a}=e;return n===Ie.H&&s()(a,"chatMessage.messagePayload.attachment.messageId")===t})),pc((e=>{let{type:n,payload:a}=e;return n===Ie.G&&s()(a,"postbackParentMessageId")===t})),pc(Tl.g),pc(Tl.h)]);n&&(yield hc(Object(ar.p)())),a&&(yield hc(Object(ar.e)({reason:ir.a.POSTBACK_SEND_FAILED})))}function*wl(e){try{const{messageId:t}=yield Cc($a.f);yield yc(Cl,{messageId:t,payload:e.payload})}catch(t){Object(bt.b)(t)}}function*Rl(e){try{const{messageId:t,endedByAgent:n,markCompletedSession:a}=e.payload;if(n||!t)return;return void(yield yc(vl,{messageId:t,markCompletedSession:a}))}catch(t){Object(bt.b)(t)}}function*Nl(e){try{const{shouldNotifyAgent:t,mode:n}=e.payload;t&&(yield hc(Object(ar.j)({type:n,payload:{status:"ACCEPT"}})))}catch(t){Object(bt.b)(t)}}function*Pl(e){try{const{mode:t}=e.payload;yield hc(Object(ar.j)({type:t,payload:{status:"REJECT"}}))}catch(t){Object(bt.b)(t)}}function*Ll(e){try{const{mode:t}=e.payload;yield hc(Object(ar.j)({type:t,payload:{status:"STOP"}}))}catch(t){Object(bt.b)(t)}}function*Ml(e){const{messageId:t,conversationId:n,agentId:a}=e.payload.state;try{const[e]=yield Oc([yc(El,{messageId:t}),yc(hl,{sender:a,conversationId:n})]);e?yield hc(Object(ar.o)({state:{conversationId:n,messageId:t,agentId:a}})):yield hc(Object(ar.e)({reason:ir.a.RESUME_SESSION_FAILED}))}catch(r){yield hc(Object(ar.f)({messageId:t,reason:ir.a.RESUME_SESSION_FAILED})),Object(bt.b)(r)}}function*Dl(){yield Cs(Tl.g,Rl)}function*kl(){yield Cs(Tl.o,_l)}function*Ul(){yield Cs(Tl.p,Al)}function*Fl(){yield Cs(Tl.a,Nl)}function*Bl(){yield Cs(Tl.d,Pl)}function*$l(){yield Cs(Tl.b,Ll)}function*Gl(){yield Cs(Tl.e,Sl)}function*Vl(){yield Cs(Tl.k,Ml)}function*Hl(){yield Cs(Tl.f,wl)}function*Wl(){yield Oc([jc(kl),jc(Ul),jc(Dl),jc(Fl),jc(Bl),jc($l),jc(Gl),jc(Vl),jc(Hl)])}var zl=n(470);function*ql(e){const t=e?ul()(e):zl.a;if(0===t.length)return;const n=Bs.a.getConversationId(t[0]),a=Ui()(t,(e=>({sender:Bs.a.getSender(e),conversationId:n})));yield yc(hl,a)}var Kl=n(498),Yl=n.n(Kl),Xl=n(335),Zl=n.n(Xl),Ql=n(23),Jl=n.n(Ql),eu=n(857),tu=n(858),nu=n(1062),au=n(71),ru=n(525),iu=n(1063),ou=e=>{let{messageId:t,messagePayload:n,creationTime:a,conversationId:r,sender:i,clientMessageId:o,deleted:c}=e;if(n&&(!$s.a.isEmpty(n)||c))return(new Bs.a).setId(t).setMessagePayload(n).setConversationId(r).setCreationTime(a||+new Date).setSender(i).setClientMessageId(o).setDeleted(c).build()};const cu=(e,t)=>{const n=fl.a.getId(t),a=$s.a.getAttachment(Bs.a.getMessagePayload(e)),r=Object(iu.a)(a,{user:t}),i=Yl()(eu.a.getFields(tu.a.getForm(a)),(e=>{const{id:t,validator:n}=e;return"EQUALITY"!==n&&u()(r[t])}));return!Object(Xt.b)(n)&&i},su=e=>({resolve:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.promise.resolve(Object.assign(Object.assign({},e),t))},reject:e.promise.reject}),lu=(e,t,n,a)=>{let r;return r="string"===typeof e?(new Bs.a).setMessagePayload((new $s.a).setMessageType(ru.b).setMessageText(e).setMessageDisableManualResponse(!!a).build()).build():e,ou(Object.assign({messageId:n,conversationId:t,sender:au.b},r))},uu=e=>{if(Zl()(e))return e;switch(Object(pn.f)(e)?s()(e,"response.status",404):-1){case 401:case 404:return Tt.a.NOT_FOUND;case 406:return Tt.a.NOT_ACCEPTABLE;default:return Tt.a.UNEXPECTED_ERROR}},du=e=>{let{encryptedData:t,unencryptedData:n,publicKeyForEncryption:a,formFields:r}=e;return Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){const e=yi()(t,((e,t,n)=>(e[n]={eData:t,externallyEncrypted:!0},e)),{});if(!n)return e;const{dataEncrypter:i}=yield Object(nu.a)();return yi()(r,((e,t)=>{const r=t.fieldName,o=null===n||void 0===n?void 0:n[r];if(!Jl()(o)&&""!==o){const t=Zl()(o)?o:JSON.stringify(o);e[r]=i(t,a)}return e}),e)}))},fu=e=>{let{values:t,publicKeyForEncryption:n,multiSubmitResponseUrl:a}=e;return Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){const{secureData:e,unencryptedData:r,encryptedData:i,originalData:o}=t;return a?{data:yield du({encryptedData:i,unencryptedData:u()(i)&&u()(r)?o.values:r,formFields:o.fields,publicKeyForEncryption:n})}:Zl()(e)?{data:e}:e}))};var bu=n(513),pu=n(396),hu=n(409);let Ou={};function*gu(e){try{const n=e.payload.conversationId;if(Ou[n]){for(;;){const[t,a]=yield gc([pc(Ie.M),pc(Ie.N)]);if(s()(t||a,"payload.transientConversationId")===n){e.promise&&(t&&e.promise.resolve({conversationId:t.payload.conversationResponse.id,caseNumber:t.payload.conversationResponse.caseNumber}),a&&e.promise.reject(a.payload.error));break}}return}try{Ou[n]=!0;const t=yield Cc($a.c),a=yield Cc($a.d),r=fr()(a),i=Object(Er.m)(t,n),o=Object(Er.q)(t),c=Object(Er.h)(o,n),l=s()(Object(Er.g)(o,n),"assignToUser"),u=Object(Er.y)(i),d=Object(Er.f)(Object(Er.q)(t),n)||{},f=d.clickedOnPrompt,b=yield yc(Vs.o,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{chatMessages:Object(Er.l)(i).map((e=>({messagePayload:Bs.a.getMessagePayload(e),sender:Bs.a.getSender(e)})))}:void 0),{createCase:Object(Er.C)(Object(Er.q)(t),n),startedByContext:c}),d),e.payload.appContext),!f&&r?{creativeId:r.additional.creativeId,interceptId:r.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:l})),p=yield Cc($a.h),h=Object(rr.b)(p),O=Object(rr.d)(p);yield hc({payload:{transientConversationId:n,conversationResponse:b,botUserIds:h,userId:O},type:Ie.M}),e.promise&&e.promise.resolve({conversationId:b.id,caseNumber:b.caseNumber})}catch(t){yield hc({type:Ie.N,payload:{transientConversationId:e.payload.conversationId,error:uu(t)}}),e.promise&&e.promise.reject(uu(t)),Object(bt.b)(t)}finally{delete Ou[e.payload.conversationId]}}catch(n){}}function*vu(e){try{const t=Ls()(ul()($t.a.getDefaultMessages(Bt.a.getCustomizationConfig(e)))),n=Ls()(t.map(((e,t)=>lu(e,au.e,`${au.d}${t}`))));if(n.length){const e=yield Cc($a.h),t=n.map((t=>{const n=Object(bu.e)(e,Bs.a.getSender(t));return hc(Object(pu.g)(t,n))}));yield Oc(t)}return n}catch(t){Object(bt.b)(t)}}function*yu(e,t){try{const n=$t.a.getContactDetailsMessage(Bt.a.getCustomizationConfig(e)),a=[];if(n&&cu(n,hu.a.getChatUser(t))){const e=lu(n,au.e,au.c),t=yield Cc($a.h),r=Object(bu.e)(t,Bs.a.getSender(e));a.push(e),yield hc(Object(pu.g)(e,r))}return a}catch(n){Object(bt.b)(n)}}function*ju(e,t){try{const n=yield yc(vu,e),a=yield yc(yu,e,t);return[...n,...a]}catch(n){Object(bt.b)(n)}}function mu(){Ou={}}function*Iu(){try{const t=s()(Object(rr.c)(yield Cc($a.h)),"userId");for(;;)try{const e=yield Cc($a.c),n=Object(Er.m)(e,au.e),a=Object(Er.k)(n,au.c);if(!a)break;const{payload:{users:r}}=yield pc(M.g),i=r.find((e=>e.userId===t));i&&!cu(a,i)&&(yield hc(Object(pu.h)(au.e,au.c)))}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*Cu(){try{yield Cs(ps.c,mu)}catch(e){Object(bt.b)(e)}}function*Eu(){try{yield Cs(Ie.L,gu)}catch(e){Object(bt.b)(e)}}function*Tu(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield pc(ps.a);yield yc(ju,e,t),yield Oc([jc(Iu),jc(Eu),jc(Cu)])}catch(e){Object(bt.b)(e)}}var Su=n(474);function*_u(e){try{const{payload:t}=e,{actionParams:n}=t;n.actionType===Su.a&&(yield hc(Object(pu.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}catch(t){Object(bt.b)(t)}}function*Au(e){try{const{payload:t}=e,{actionParams:n}=t;n.actionType===Su.b&&(yield hc(Object(pu.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}catch(t){Object(bt.b)(t)}}function*xu(e){try{yield Oc([yc(_u,e),yc(Au,e)])}catch(t){Object(bt.b)(t)}}function*wu(e){try{const{payload:t}=e,{actionParams:n}=t;let a=K.a;new Promise(((e,t)=>{const n=setTimeout((()=>t(new Error("Timeout"))),6e4);a=(a,r)=>(clearTimeout(n),r?t(r):e(a))})).then((t=>{const n=L()(e,{payload:{actionParams:{values:{$merge:t}}}});e.promise.resolve(n)})).catch((t=>e.promise.reject(t)));yield hc(Object(pu.k)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId},callback:a}))}catch(t){e.promise.reject(t),Object(bt.b)(t)}}function*Ru(e){const{messageId:t,conversationId:n}=e.payload,a=yield Cc($a.c),r=Object(Er.k)(Object(Er.m)(a,n),t);let i;try{i=yield yc(rl,{chatMessage:r,conversationId:n,params:{opened:!0}}),yield yc(Vs.r,t)}catch(o){i&&(yield hc({type:Ie.J,payload:{chatMessage:r,conversationId:n}})),Object(bt.b)(o)}}function*Nu(e){try{const{attachment:t}=e.payload;return void(s()(t,"opened")||(yield yc(Ru,e)))}catch(t){Object(bt.b)(t)}}function*Pu(){try{yield Cs(Ie.W,Nu)}catch(e){Object(bt.b)(e)}}var Lu=n(397),Mu=n(728),Du=n(436),ku=n(392),Uu=n(860),Fu=n(496),Bu=n(996),$u=n(645),Gu=n(1302),Vu=n(391);function Hu(e){return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){return bs.a.post("/livechat/event/publish",Object.assign({type:e.type},e.payload))}))}var Wu=n(639);const zu=e=>Object(Vu.e)(Object($a.e)(e));function qu(e){return e===Su.a||e===Su.b}function Ku(e){return e===Su.c}function Yu(e){return e===Mu.a.OPEN_URL}function Xu(e){return e===Mu.a.DIAL}function Zu(e){return e===Mu.a.FETCH_APPOINTMENT_TIME_SLOTS}function Qu(e){return e===Mu.a.RESERVE_APPOINTMENT_TIME_SLOT}function Ju(e){return e===Mu.a.START_VIDEO_CALL}function ed(e){return e===Mu.a.START_AUDIO_CALL}function td(e){return e===Mu.a.REJOIN_CALL}function nd(e){return e===Mu.a.ACCOUNT_LINK}function*ad(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{if(!(yield Cc(zu)))for(;;){const{payload:e}=yield pc(Es.e);if(e.status===Wu.a.CONNECTED)break}return yield yc(e,t)}catch(a){if(Object(pn.c)(a)&&n>1)return yield yc(ad,e,t,n-1);throw a}}function rd(e,t){return ou({messageId:e.id,messagePayload:Bs.a.getMessagePayload(e),conversationId:t,sender:Bs.a.getSender(e),creationTime:Bs.a.getCreationTime(e),clientMessageId:Bs.a.getClientMessageId(e),deleted:Bs.a.getDeleted(e)})}function*id(e){try{const{payload:t}=e,{conversationId:n,cursor:a}=t,r=yield yc(Vs.g,n,{size:t.size,cursor:a}),i=Ls()(r.results.map((e=>rd(e,n))));yield yc(ql,i),yield hc({payload:{conversationMessagesResponse:Object.assign(Object.assign({},r),{results:i}),conversationId:n,cursor:a},type:Ie.m}),e.promise&&e.promise.resolve()}catch(t){e.promise&&e.promise.reject(),yield hc({type:Ie.n,payload:{conversationId:e.payload.conversationId}}),Object(bt.b)(t)}}function*od(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:r}=t,i=r?yield yc(Vs.c,n):yield yc(Vs.d,a,n);yield hc(Object(pu.a)({conversationId:a,includeAll:r,deleted:!0,surveyUrl:null===i||void 0===i?void 0:i.surveyUrl}))}catch(t){Object(bt.b)(t)}}function*cd(){try{yield Cs(Ie.i,od)}catch(e){Object(bt.b)(e)}}function*sd(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:r}=t,i=r?yield yc(Vs.a,n):yield yc(Vs.b,a,n);yield hc(Object(pu.a)({conversationId:a,includeAll:r,closed:!0,surveyUrl:null===i||void 0===i?void 0:i.surveyUrl}))}catch(t){Object(bt.b)(t)}}function*ld(){try{yield Cs(Ie.h,sd)}catch(e){Object(bt.b)(e)}}function*ud(){try{yield Cs(Ie.l,id)}catch(e){Object(bt.b)(e)}}function*dd(e){try{const{query:t,conversationId:n,faqAttachment:a,locale:r}=e.payload,i=yield yc(Vs.k,n,t,a,r);e.promise&&e.promise.resolve(i)}catch(t){e.promise&&e.promise.reject(),Object(bt.b)(t)}}function*fd(){try{yield Cs(Ie.B,dd)}catch(e){Object(bt.b)(e)}}function*bd(e){try{const t=yi()(e,((e,t)=>{const n=ku.a.getParticipants(t);return wi()(n,(n=>{e.push({sender:n,conversationId:t.id})})),e}),[]);yield yc(hl,t)}catch(t){Object(bt.b)(t)}}function*pd(){try{for(;;)try{const e=yield pc(Ie.f),t=yield yc(Vs.e,e.payload);yield yc(bd,t.results);const n=yield Cc($a.h),a=Object(rr.b)(n),r=Object(rr.d)(n);yield hc({payload:{conversationResponse:t,botUserIds:a,chatUserId:r},type:Ie.g})}catch(e){Object(bt.b)(e)}}catch(t){Object(bt.b)(t)}}function*hd(){try{for(;;){let n,a,r;const i=yield pc(Ie.s);a=i.payload.caseId,n=i.payload.conversationId,r=i.payload.context;const o=yield Cc($a.h),c=Object(rr.b)(o),s=Object(rr.d)(o);try{const e=yield yc(Vs.h,i.payload.caseId);yield hc({payload:{caseId:a,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ie.t})}catch(e){try{if(Object(pn.a)(e))throw e;{const e=yield yc(Vs.o,Object.assign({createCase:!0,caseId:a},r));yield hc({payload:{caseId:a,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ie.t})}}catch(t){yield hc({payload:{conversationId:n,error:uu(t)},type:Ie.u})}}}}catch(n){Object(bt.b)(n)}}function*Od(){try{for(;;){let t,n,a;try{const e=yield pc(Ie.v);t=e.payload.conversationId,n=e.payload.externalCaseId,t?a=yield yc(Vs.j,t):n&&(a=yield yc(Vs.i,n));const r=yield Cc($a.h),i=Object(rr.b)(r),o=Object(rr.d)(r);yield hc({payload:{conversationResponse:a,botUserIds:i,chatUserId:o},type:Ie.w})}catch(e){yield hc({payload:Object.assign(Object.assign(Object.assign({},t?{conversationId:t}:{}),n?{externalCaseId:n}:{}),{error:uu(e)}),type:Ie.x}),Object(bt.b)(e)}}}catch(t){Object(bt.b)(t)}}function*gd(e){try{for(;;){const n=yield Cc(zu);try{if(n){const t=e.payload,{conversationId:n}=t,a=rd(yield yc(Vs.l,n,t.messageId),n);return yield yc(ql,a),a}yield pc(Es.e)}catch(t){if(Object(bt.b)(t),!Object(pn.c)(t))break}}return null}catch(n){return Object(bt.b)(n),null}}function*vd(e){try{const t=e.payload;yield hc(Object(pu.l)({type:t.actionType,payload:Dt()(e.payload,["actionType"])}))}catch(t){Object(bt.b)(t)}}function*yd(e){try{const t=yield yc(gd,e);t&&(yield hc({type:Ie.J,payload:{chatMessage:t,conversationId:Bs.a.getConversationId(t)}}))}catch(t){Object(bt.b)(t)}}function*jd(e){try{const t=yield Cc($a.c),n=Object(Er.q)(t),a=Object(rr.c)(yield Cc($a.h)),{sender:r,deleted:i,closed:o,caseNumber:c,conversationId:s,requestClientId:l}=e.payload,u=Object(Er.g)(n,s);(r!==a.userId||l&&l!==Bu.a.get()||c&&u&&!u.caseNumber&&!i&&!o)&&(yield hc(Object(pu.a)(e.payload)),c&&u&&!u.caseNumber&&(yield hc(Object(In.c)({action:Br.a.NEW_CONVERSATION_CREATED,conversationId:s,additional:{caseNumber:c}}))))}catch(t){Object(bt.b)(t)}}function*md(e){try{const{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}=e.payload;yield hc({type:Ie.d,payload:{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}})}catch(t){Object(bt.b)(t)}}function*Id(e){try{const{payload:t}=e,{actionParams:n}=t;qu(n.actionType)&&(yield yc(xu,e),e.promise.resolve(e))}catch(t){e.promise.reject(),Object(bt.b)(t)}}function*Cd(e){try{const{payload:t}=e,{actionParams:n}=t;Ku(n.actionType)&&(yield yc(wu,e))}catch(t){Object(bt.b)(t)}}function*Ed(e){try{const{payload:t}=e,{actionParams:n,conversationId:a}=t;if(nd(n.actionType)){const t=Object($u.a)(n.actionId,n.attachment);yield hc(Object(In.a)({ssoId:t.accountLinkUrl,conversationId:a,messageId:n.messageId})(su(e)))}}catch(t){e.promise.reject(),Object(bt.b)(t)}}function*Td(e){try{const{actionParams:{attachment:t,values:n}}=e.payload,a=t,r=yield yc(fu,{values:n,publicKeyForEncryption:a.publicKeyForEncryption,multiSubmitResponseUrl:a.multiSubmitResponseUrl});return{fieldNameVsToken:yield yc(Vs.u,a,r),originalData:n.originalData}}catch(t){return Object(bt.b)(t),null}}function*Sd(e){try{const{actionParams:{messageId:t,actionType:n,values:a},conversationId:r}=e.payload;if(n===Mu.a.ACCEPT_CO_BROWSE){const e=yield Cc((e=>Object(Er.k)(Object(Er.m)(Object($a.c)(e),r),t))),n=Bs.a.getSender(e);yield hc(Object(ar.d)({messageId:t,conversationId:r,agentId:n})),yield mc(xl,{messageId:t})}return a}catch(t){return Object(bt.b)(t),null}}function*_d(e){try{const{actionParams:{attachment:t,actionId:n,values:a,messageId:r},conversationId:i}=e.payload,o=s()(Object($u.a)(n,t),"surveyUrl","");yield hc(Object(pu.e)({surveyUrl:o,conversationId:i})),yield hc({type:Ie.W,payload:{messageId:r,conversationId:i,attachment:t}});const[c]=yield gc([pc(Ie.X),pc(Ie.U),pc(Ie.Y)]);return c?a:null}catch(t){return Object(bt.b)(t),null}}function*Ad(e){try{const{actionParams:{actionType:t,values:n}}=e.payload;return function(e){return e===Mu.a.SECURE_FORM_POST_BACK}(t)?yield yc(Td,e):function(e){return e===Mu.a.ACCEPT_CO_BROWSE||e===Mu.a.DENY_CO_BROWSE}(t)?yield yc(Sd,e):function(e){return e===Mu.a.SURVEY_POST_BACK}(t)?yield yc(_d,e):n}catch(t){return Object(bt.b)(t),null}}function*xd(e){try{const{payload:a}=e,{actionParams:r,appContext:i}=a;if(!qu(t=r.actionType)&&!Yu(t)&&!Xu(t)&&!Zu(t)&&!Qu(t)&&!ed(t)&&!Ju(t)&&!td(t)&&!nd(t)&&!Ku(t))try{const t=yield yc(Ad,e);o()(t)?e.promise&&e.promise.resolve(e):yield hc(Object(pu.p)({conversationId:a.conversationId,sender:a.sender,postback:{attachment:r.attachment,values:t,additional:r.additional,appContext:i,messageId:r.messageId,postbackId:r.actionId,postbackType:r.actionType},inReplyToChatMessageId:a.inReplyToChatMessageId})(su(e)))}catch(n){e.promise.reject(),Object(h.a)(n)}}catch(a){e.promise.reject(),Object(bt.b)(a)}var t}function*wd(e){try{const{payload:t}=e,{actionParams:n}=t;Yu(n.actionType)&&(yield hc(Object(pu.f)({attachment:n.attachment,actionId:n.actionId})(su(e))))}catch(t){e.promise.reject(),Object(bt.b)(t)}}function*Rd(e){try{const{payload:t}=e,{actionParams:n}=t;Xu(n.actionType)&&(yield hc(Object(pu.d)({attachment:n.attachment,actionId:n.actionId})(su(e))))}catch(t){e.promise.reject(),Object(bt.b)(t)}}function*Nd(e){var t,n;try{const{payload:a}=e,{actionParams:{actionId:r,actionType:i,attachment:o,messageId:c,values:l},conversationId:u,appContext:d}=a;if(td(i)){l.callMode&&l.participantPermissions||Object(bt.b)(`Call mode (${l.callMode}) or participant permissions (${l.participantPermissions}) unset`),l.participantInfos||Object(bt.b)("Participant infos is unset");const a=l.audioOnly?Va.d.AUDIO:Va.d.VIDEO,r=null!==(t=l.callMode)&&void 0!==t?t:Object(Fu.b)(a);yield hc(Object(Lu.p)({conversationId:u,isPhone:d.isPhone,type:a,isIncomingCall:l.isIncomingCall,videoConversationId:l.videoChatConversationId,participantPermissions:null!==(n=l.participantPermissions)&&void 0!==n?n:Object(Fu.c)(r),callMode:r,participantInfos:l.participantInfos,prevState:Object(Uu.a)(l.currentState,l.isIncomingCall)})),e.promise&&e.promise.resolve(e)}else if(Ju(i)||ed(i)){const t=yield Cc($a.b);if(Object(Ga.a)(t))return void(e.promise&&e.promise.reject());const n=Ju(i)?Va.d.VIDEO:Va.d.AUDIO,a=s()(Object($u.a)(r,o),"title","");let l={};r&&(l={sourceButtonId:r,messageId:c,messageText:a}),yield hc(Object(Lu.i)(Object.assign({conversationId:u,isPhone:d.isPhone,type:n},l))),e.promise&&e.promise.resolve(e)}}catch(a){e.promise.reject(),Object(bt.b)(a)}}function*Pd(e){try{const{payload:n}=e,{actionParams:a,conversationId:r,appContext:i}=n,o=Zu(a.actionType),c=Qu(a.actionType);let s,l;if(o||c)try{const t=yield Cc($a.c);let n;s=Object(Er.k)(Object(Er.m)(t,r),a.messageId),o&&(yield hc({type:Ie.J,payload:{chatMessage:L()(s,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:r}}),l=yield yc(Vs.f,{selectedDate:a.values.selectedDate,slotDefinitionId:a.attachment.slotDefinitionConfigId,timeZone:i.timeZone,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),yield hc({type:Ie.J,payload:{chatMessage:L()(s,{messagePayload:{attachment:{$merge:{slots:l}}}}),conversationId:r}})),c&&(l=yield yc(Vs.s,{selectedDate:a.values.selectedDate,selectedSlot:a.values.selectedSlot,timeZone:i.timeZone,slotDefinitionId:a.attachment.slotDefinitionConfigId,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),n=l.reservationId,n||(yield hc({type:Ie.J,payload:{chatMessage:L()(s,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},l.slots?{slots:l.slots}:{}),l.availableDates?{availableDates:l.availableDates}:{})}}}),conversationId:r}}))),e.promise.resolve({actionType:a.actionType,response:{reservationId:n,selectedSlot:a.values.selectedSlot,selectedDate:a.values.selectedDate,visibleSlots:a.values.visibleSlots}})}catch(t){Object(bt.b)(t),e.promise.reject({actionType:a.actionType,response:{error:l}})}}catch(n){e.promise.reject(),Object(bt.b)(n)}}function*Ld(e){try{yield Oc([yc(Id,e),yc(Cd,e),yc(xd,e),yc(wd,e),yc(Rd,e),yc(Ed,e),yc(Pd,e),yc(Nd,e)])}catch(t){Object(bt.b)(t)}}function*Md(e,t){try{const n=L()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Dt()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),a=new Promise(((e,t)=>{n.promise={resolve:e,reject:t}}));return yield yc(Ld,n),yield a}catch(n){throw Object(bt.b)(n),n}}function*Dd(e){try{const t=e.payload.actionParams.actionTypes;let n=e;for(let e=0;e<Ds()(t);e+=1)n=yield yc(Md,n,t[e]);e.promise.resolve(n)}catch(t){e.promise.reject(t),Object(bt.b)(t)}}function*kd(){try{yield Cs(Ie.c,Dd)}catch(e){Object(bt.b)(e)}}function*Ud(e){try{let n,a;try{const{disclaimerStatus:t}=e.payload,r=yield Cc($a.c),i=Object(Er.q)(r);n=e.payload.conversationId,a=s()(Object(Er.i)(i,n),"disclaimerStatus"),yield hc({type:Ie.r,payload:{conversationId:n,disclaimerStatus:t}}),yield yc(Vs.w,n,t),e.promise.resolve()}catch(t){e.promise.reject(),yield hc({type:Ie.r,payload:{conversationId:n,disclaimerStatus:a}}),Object(bt.b)(t)}}catch(n){Object(bt.b)(n)}}function*Fd(){try{yield Cs(Ie.q,Ud)}catch(e){Object(bt.b)(e)}}const Bd={field:"closed",values:[!0],filterType:Du.a.NIN};function*$d(e){try{const{context:t,filters:n}=e.payload,a=yield Cc($a.c),r=Object(Er.w)(a),i=n||Bd,o=Us()(r.ids,(e=>{let t=!1;if(u()(i))return!0;Gu.a.createFilterAction(i,{getFilterBuilder:Gu.a.createFilterAction}).matches(r.byId[e],{logOnFailure:!0})&&(t=!0);return t}));o?(yield yc(ad,Vs.v,{context:t,conversationId:o,payload:e.payload}),e.promise.resolve({conversationId:o})):e.promise.reject(Tt.a.NOT_FOUND)}catch(t){e.promise.reject(uu(t)),Object(bt.b)(t)}}function*Gd(e){try{yield pc(Ie.g),yield yc($d,e)}catch(t){e.promise.reject(uu(t)),Object(bt.b)(t)}}function*Vd(e){try{const{context:t,conversationId:n,includeDeleted:a}=e.payload;if(n)return yield yc(ad,Vs.v,{context:t,conversationId:n,payload:e.payload}),void e.promise.resolve({conversationId:n});if(a)return yield yc(ad,Vs.x,{context:t,updateLatest:a,payload:e.payload}),void e.promise.resolve({conversationId:n});const r=yield Cc($a.c),i=Object(Er.q)(r);if(Object(Er.b)(i))return void(yield yc($d,e));yield jc(Gd,e)}catch(t){e.promise.reject(uu(t)),Object(bt.b)(t)}}function*Hd(){try{yield Cs(Ie.k,Vd)}catch(e){Object(bt.b)(e)}}function*Wd(e){try{const{lastReadMessageId:t}=e.payload;yield yc(Hu,{type:"MESSAGE_READ",payload:{messageId:t}})}catch(t){Object(bt.b)(t)}}function*zd(){try{yield Cs(Ie.P,Wd)}catch(e){Object(bt.b)(e)}}function*qd(e){try{const e=yield yc(Vs.m);yield hc({payload:{openConversationCount:e},type:Ie.bb})}catch(t){Object(bt.b)(t)}}function*Kd(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return jc.apply(void 0,[Is,e,t].concat(a))}(Ie.C,qd)}catch(e){Object(bt.b)(e)}}function*Yd(){try{yield Oc([jc(pd),jc(Od),jc(fd),jc(Tu),jc(ud),jc(cd),jc(ld),jc(Qs),jc(ol),jc(sl),jc(kd),jc(Hd),jc(hd),jc(Fd),jc(zd),jc(Pu),jc(Kd)])}catch(e){Object(bt.b)(e)}}const Xd={},Zd="START_TYPING",Qd="STOP_TYPING";function*Jd(e,t){try{yield yc(Hu,{type:e,payload:{conversationId:t}})}catch(n){Object(bt.b)(n)}}function*ef(e,t){for(;;)try{yield jc(Jd,Zd,e),yield Tc(25e3),yield pc(t)}catch(n){Object(bt.b)(n)}}function*tf(e,t){let n,a;try{for(n=Hc(tc.dropping(1)),a=yield jc(ef,e,n);;){const e=yield pc(t);if(e.type!==Ie.cb)break;n.put(e)}}catch(r){Object(bt.b)(r)}finally{yield jc(Jd,Qd,e),n&&n.close(),a&&a.cancel()}}function*nf(e,t){for(;;)try{let n;if(n=yield pc(t),n.type!==Ie.cb)continue;yield yc(tf,e,t)}catch(n){Object(bt.b)(n)}}function*af(){try{for(;;)try{const e=yield gc([pc(Ie.cb),pc(Ie.db)]),t=Ls()(e)[0],{payload:{conversationId:n}}=t;let a=Xd[n];a||(a=Hc(tc.sliding(1)),Xd[n]=a,yield jc(nf,n,a)),a.put(t)}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*rf(){try{yield jc(af)}catch(e){Object(bt.b)(e)}}var of=n(312),cf=n.n(of),sf=n(364),lf=n.n(sf),uf=(n(280),n(456)),df=n.n(uf);const ff={};function*bf(){throw yield Tc(3e4),new Error("")}function*pf(e,t,n,a){let r;try{for(yield hc({type:Ie.a,payload:{conversationId:t,userId:n,actionTime:a}}),r=yield jc(bf);;){const a=yield pc(e);if(a.type===Qe)r.isCancelled()||(yield Ic(r)),r=yield jc(bf),yield hc({type:Ie.a,payload:{conversationId:t,userId:n,actionTime:a.payload.actionTime}});else{const e=yield Cc($a.c),r=Object(Er.m)(e,t),i=Object(Er.u)(r,n);if(i&&Bs.a.getCreationTime(i)<a.payload.actionTime)break}}}catch(i){Object(bt.b)(i)}finally{yield hc({type:Ie.b,payload:{conversationId:t,userId:n}}),r&&!r.isCancelled()&&(yield Ic(r))}}function*hf(e,t,n){for(;;)try{let a;if(a=yield pc(e),a.type!==Qe)continue;yield yc(pf,e,t,n,a.payload.actionTime)}catch(a){}}function*Of(e){try{const{payload:{conversationId:t,sender:n}}=e,a=yield Cc($a.h),r=fr()(Object(bu.e)(a,n)),i=function(e,t){return`${e}_${t}`}(t,r);let o=ff[i];o||(o=Hc(tc.sliding(1)),ff[i]=o,yield jc(hf,o,t,r)),o.put(e)}catch(t){Object(bt.b)(t)}}function*gf(e){try{yield Oc(e.map((e=>yc(Of,e))))}catch(t){Object(bt.b)(t)}}function*vf(e){try{yield Oc(e.map((e=>yc(Of,e))))}catch(t){Object(bt.b)(t)}}const yf=["AGENT_ASSIGNED","AGENT_UNASSIGNED","AGENT_ASSIGNMENT_CHANGED","WORK_QUEUE_ASSIGNED"];function*jf(e,t,n){try{if((a=e)&&yf.includes(a.type)){const{newAgentId:a,oldAgentId:r,queueId:i}=e,o=[],c=[];r&&(o.push({conversationId:t,sender:r}),c.push(r)),a&&(o.push({conversationId:t,sender:a}),c.push(a)),yield yc(hl,o),yield hc(Object(pu.a)({conversationId:t,agentAssigned:!!a,participants:c,workQueueAssigned:!!i}));const s=yield Cc((e=>a?Object(rr.g)(Object($a.h)(e),a):void 0)),l={currentlyAssignedUser:s,previouslyAssignedUser:yield Cc((e=>r?Object(rr.g)(Object($a.h)(e),r):void 0)),assignmentTime:n};a&&(yield hc(Object(In.c)({conversationId:t,additional:l,action:Br.a.AGENT_ASSIGNED})))}}catch(r){Object(bt.b)(r)}var a}function*mf(e){try{const{conversationId:t,messagePayload:n,creationTime:a}=e,r=n.events;yield Oc(r.map((e=>yc(jf,e,t,a))))}catch(t){Object(bt.b)(t)}}function*If(e){try{const t=e.data;Object(Gs.f)(t)&&(yield Oc([yc(mf,t)]))}catch(t){Object(bt.b)(t)}}const Cf=(()=>{const e=new Set;return{add:t=>e.add(t),has:t=>e.has(t),delete:t=>e.delete(t),clear:()=>e.clear()}})(),Ef=(()=>{let e=[];return{set:t=>{e=t},get:()=>e,push:t=>{e=[...e,...ul()(t)]},clear:()=>{e=[]}}})();function Tf(e){return e.type===Ke}function Sf(e){return e.type===Qe}function _f(e){return e.type===Je}function*Af(e){try{const{data:t}=e;if(t){yield yc(If,e);const n=yield Cc($a.h),a=Object(bu.e)(n,Bs.a.getSender(t));yield hc(Object(pu.g)(t,a))}}catch(t){Object(bt.b)(t)}}function*xf(e){try{const t=e.filter(Tf);yield Oc(t.map((e=>yc(Af,e))));const n=t.reduce(((e,t)=>{const{data:n}=t;return n&&e.push(Bs.a.getId(n)),e}),[]);u()(n)||(yield yc(Vs.q,n))}catch(t){Object(bt.b)(t)}}function*wf(e){try{const t=e.filter(Sf);if(!t.length)return;yield yc(gf,t)}catch(t){Object(bt.b)(t)}}function*Rf(e){try{const t=e.filter(_f);if(!t.length)return;yield yc(vf,t)}catch(t){Object(bt.b)(t)}}function*Nf(e){try{yield Oc([yc(xf,e),yc(wf,e),yc(Rf,e)])}catch(t){Object(bt.b)(t)}}function*Pf(e){try{const{id:t,data:n}=e;if(Cf.add(t),wi()(Ef.get(),(e=>{if(e.id===t)return e.data=n,!1})),t===s()(fr()(Ef.get()),"id")){const{resolvedEvents:e,unresolvedEvents:t}=yi()(Ef.get(),((e,t)=>Cf.has(t.id)&&u()(e.unresolvedEvents)?(Cf.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[...e.resolvedEvents,t]})):Object.assign(Object.assign({},e),{unresolvedEvents:[...e.unresolvedEvents,t]})),{resolvedEvents:[],unresolvedEvents:[]});Ef.set(t),yield jc(Nf,e)}}catch(t){Object(bt.b)(t)}}function*Lf(e){try{if(Tf(e)){const t=yield yc(gd,e);yield yc(Pf,{id:e.id,data:t})}}catch(t){Object(bt.b)(t)}}function*Mf(e){try{if(Sf(e)){const t=df()(e.payload,["conversationId","sender"]);yield yc(hl,t),yield yc(Pf,{id:e.id,data:{}})}}catch(t){Object(bt.b)(t)}}function*Df(e){try{_f(e)&&(yield yc(Pf,{id:e.id,data:{}}))}catch(t){Object(bt.b)(t)}}function*kf(e){try{yield Oc([yc(Lf,e),yc(Mf,e),yc(Df,e)])}catch(t){Object(bt.b)(t)}}function*Uf(e){try{Ef.push(e),yield Oc(e.map((e=>jc(kf,e))))}catch(t){Object(bt.b)(t)}}var Ff=n(975),Bf=n.n(Ff);function $f(e){return e.type===Ye}function Gf(e){return e.type===it}function Vf(e){return e.type===Ze}function Hf(e){return e.type===Xe}function Wf(e){return e.type===nt}function*zf(e){try{yield Oc(e.filter(Hf).map((e=>yc(vd,e))))}catch(t){Object(bt.b)(t)}}function*qf(e){try{yield Oc(e.filter($f).map((e=>yc(yd,e))))}catch(t){Object(bt.b)(t)}}function*Kf(e){try{yield Oc(Bf()(e.filter(Vf).map((e=>[yc(Ol,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),hc(Object(In.c)({conversationId:e.payload.conversationId,action:Br.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]))))}catch(t){Object(bt.b)(t)}}function*Yf(e){try{yield Oc(e.filter(Wf).map((e=>yc(jd,e))))}catch(t){Object(bt.b)(t)}}function*Xf(e){try{yield Oc(e.filter(Gf).map((e=>yc(md,e))))}catch(t){Object(bt.b)(t)}}function*Zf(e){try{yield Oc([yc(zf,e),yc(qf,e),yc(Kf,e),yc(Yf,e),yc(Xf,e)])}catch(t){Object(bt.b)(t)}}const Qf=[Ke,Qe,Je];function*Jf(e){try{const{events:t}=e.payload;let n=[],a=[];wi()(t,(e=>{cf()(Qf,e.type)?n=[...n,Object.assign(Object.assign({},e),{id:lf()()})]:a=[...a,e]})),yield yc(Uf,n),yield yc(Zf,a)}catch(t){Object(bt.b)(t)}}function*eb(){try{yield Cs(Es.k,Jf)}catch(e){Object(bt.b)(e)}}function*tb(){try{yield pc(ps.c),Cf.clear(),Ef.clear()}catch(e){Object(bt.b)(e)}}function*nb(){try{yield Oc([jc(eb),jc(tb)])}catch(e){Object(bt.b)(e)}}var ab=n(410);const rb=e=>{const t=Bt.a.getNoDisplayConfigFilter(e);return!u()(t)&&Object(Fi.d)(t,ab.a.IS_CONVERSATION_OPEN)};function*ib(e){try{const t=yield Cc($a.c),n=Object(Er.q)(t);if(!Object(Er.b)(n))return;yield hc(Object(pu.b)({shouldFetchNumberOfOpenConversation:rb(e.applicationConfig),size:n.ids.length}))}catch(t){Object(bt.b)(t)}}function*ob(){try{const e=yield Cc($a.c),t=Object(Er.q)(e),n=Object(Er.o)(e),a=yi()(n,((e,n,a)=>{const r=n.messages;if(!a.startsWith(au.e)&&Object(Er.a)(r)&&!Object(Er.A)(t,a)){const t=Object(pu.c)(a,{size:Object(Er.l)(r).length})();e.push(hc(t))}return e}),[]);a.length&&(yield Oc(a))}catch(e){Object(bt.b)(e)}}function*cb(e){yield Oc([jc(ib,e),jc(ob)])}function*sb(){const{payload:{applicationConfig:e}}=yield pc(ps.a);yield Cs(Es.l,cb,{applicationConfig:e})}function*lb(){try{yield Oc([jc(Yd),jc(rf),jc(nb),jc(sb)])}catch(e){Object(bt.b)(e)}}function*ub(e){try{const t=e.payload,n=Object(rr.c)(yield Cc($a.h));yield yc(dl.d,Object.assign(Object.assign({},n),{customContext:t})),yield hc(Object(In.c)({action:Br.a.USER_PROFILE_UPDATED}))}catch(t){Object(bt.b)(t)}}function*db(){try{yield Cs(M.f,ub)}catch(e){Object(bt.b)(e)}}function*fb(e){try{const t=e.payload,n=yield yc(dl.c,t);e.promise.resolve(n);const a=n.results;yield hc({type:M.g,payload:{users:a}})}catch(t){e.promise.reject(t),Object(bt.b)(t)}}function*bb(){try{yield Cs(M.d,fb)}catch(e){console.error(e)}}function*pb(e){try{const{userId:t}=e.payload,n=yield yc(dl.a,t);e.promise.resolve(n),yield hc({type:M.g,payload:{users:[n]}})}catch(t){e.promise.reject(t),Object(bt.b)(t)}}function*hb(){try{yield Cs(M.b,pb)}catch(e){Object(bt.b)(e)}}function*Ob(){try{yield Oc([jc(db),jc(bb),jc(hb)])}catch(e){Object(bt.b)(e)}}var gb=n(642),vb=n(587);function yb(e){return e.type===at}function jb(e){return e.type===rt}function mb(e){return e.type===ct}function Ib(e){return e.type===st}function Cb(e){return e.type===ot}function Eb(e){return e.type===ft}function*Tb(e){try{const t=Object(rr.c)(yield Cc($a.h));yield Oc(e.filter(yb).map((e=>{var n,a;const r=e.payload.participantInfos.find((e=>e.snId===t.userId)),i=e.payload.type,o=null!==(n=null===r||void 0===r?void 0:r.callMode)&&void 0!==n?n:Object(Fu.b)(i),c=null!==(a=null===r||void 0===r?void 0:r.permissions)&&void 0!==a?a:Object(Fu.c)(o);return hc(Object(Lu.o)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,callMode:o,permissions:c,participantInfos:e.payload.participantInfos,type:i}))})))}catch(t){Object(bt.b)(t)}}function*Sb(e){try{const t=yield Cc($a.b);yield Oc(e.filter(jb).map((e=>{const{callDetails:n,isIncomingCall:a,isOutgoingCall:r}=Object(gb.a)(t,e.payload.videoConversationId),i=a&&n.state===Va.g.WAITING;if((a||r)&&!Object(Fu.e)({isIncomingCall:a,state:n.state}))return hc(i?Object(Lu.q)({videoConversationId:e.payload.videoConversationId}):Object(Lu.m)({callDetails:n,isIncomingCall:a,notifyAgent:!1,notifyUser:!0,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e)))}catch(t){Object(bt.b)(t)}}function*_b(e){try{const t=yield Cc($a.b);yield Oc(e.filter(Ib).map((e=>{const{callDetails:n,isIncomingCall:a,isOutgoingCall:r}=Object(gb.a)(t,e.payload.videoConversationId);if((a||r)&&!Object(Fu.e)({isIncomingCall:a,state:n.state}))return hc(Object(Lu.h)({isIncomingCall:a,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e)))}catch(t){Object(bt.b)(t)}}function*Ab(e){try{const t=yield Cc($a.b),n=e.filter(mb).map((e=>{const{callDetails:n,isOutgoingCall:a}=Object(gb.a)(t,e.payload.videoConversationId);if(a&&!Object(Fu.e)({isIncomingCall:!1,state:n.state}))return hc(Object(Lu.c)({isIncomingCall:!1,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e));yield Oc(n)}catch(t){Object(bt.b)(t)}}function*xb(e){try{yield Oc(e.filter(Cb).map((e=>hc(Object(Lu.v)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}})))))}catch(t){Object(bt.b)(t)}}function*wb(e){try{yield Oc(e.filter(Eb).map((e=>hc({type:vb.x,payload:{videoConversationId:e.payload.videoConversationId,participantPermissions:e.payload.permissions,callMode:e.payload.callMode}}))))}catch(t){Object(bt.b)(t)}}function*Rb(e){try{const{events:t}=e.payload;yield Oc([yc(Sb,t),yc(Tb,t),yc(Ab,t),yc(xb,t),yc(_b,t),yc(wb,t)])}catch(t){Object(bt.b)(t)}}function*Nb(){try{yield Cs(Es.k,Rb)}catch(e){Object(bt.b)(e)}}function Pb(e){let{videoConversationId:t,shouldWaitForConnection:n}=e;return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){return(yield bs.a.post(`video-chat/conversation/accept/${t}?shouldWaitForConnection=${n}`)).data}))}function Lb(e){let{videoConversationId:t}=e;return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){return bs.a.post(`video-chat/conversation/leave/${t}`)}))}function Mb(e){let{conversationId:t,audioOnly:n,messageText:a,sourceButtonId:r,postBackChatMessageId:i,shouldWaitForConnection:o,videoConversationId:c,activityEventType:s}=e;return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){return(yield bs.a.post(`video-chat/conversation/initiate/${t}`,{audioOnly:n,messageText:a,clickedButtonId:r,postBackChatMessageId:i,shouldWaitForConnection:o,videoChatConversationId:c,activityEventType:s})).data}))}function Db(e){let{videoConversationId:t,meetingId:n}=e;return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){return(yield bs.a.post(`video-chat/conversation/participant/connected/${t}?meetingId=${n}`)).data}))}function kb(e){return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){return(yield bs.a.post(`video-chat/conversation/fetch/ongoing/conversation?caseId=${e}`)).data}))}function Ub(e){let{videoConversationId:t,reason:n,subReason:a}=e;return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){return(yield bs.a.post(`video-chat/conversation/callFailed/${t}`,{reason:n,subReason:a})).data}))}var Fb=n(725);function*Bb(e,t,n){const a=yield Cc($a.c),r=Object(Uu.b)(a,e,t);r&&(yield yc(rl,{chatMessage:r,conversationId:e,params:{state:n}}))}function*$b(e){try{const{notifyAgent:t,notifyUser:n,callDetails:a,videoConversationId:r,isIncomingCall:i}=e.payload,o=a.conversationId;if(yield hc(Object(In.c)({conversationId:o,action:Br.a.CALL_ENDED,additional:{videoConversationId:r,userInitiated:!n}})),yield yc(Bb,o,r,Fb.a.CALL_ENDED),!t)return;if(!i&&!a.hasInitiateSucceeded&&a.state===Va.i.WAITING){if((yield pc(Object(Uu.g)(r))).type===vb.e)return}if(i&&a.state===Va.g.ACCEPTED){if((yield pc(Object(Uu.c)(r))).type===vb.e)return}yield yc(Lb,{videoConversationId:r})}catch(t){Object(bt.b)(t)}}function*Gb(e){try{e.payload.isOutgoingWaiting&&(yield yc($b,e)),yield hc({type:Ie.ab,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}})}catch(t){Object(bt.b)(t)}}function*Vb(e){try{const{actionParams:{messageId:t,actionId:n},conversationId:a}=e.payload,r=yield Cc($a.b),i=Object(Ga.f)(r),o=i.messageId;if(o&&t===o&&n!==i.sourceButtonId){const e=yield Cc($a.c),n=Object(Er.k)(Object(Er.m)(e,a),t);n&&!$s.a.getAttachment(Bs.a.getMessagePayload(n)).reSubmittable&&(yield hc(Object(Lu.m)({notifyAgent:!0,notifyUser:!1,callDetails:i,isIncomingCall:!1,videoConversationId:i.videoConversationId})))}}catch(t){Object(bt.b)(t)}}function*Hb(e){try{yield hc(Object(Lu.r)({conversationId:e.payload.conversationId,controls:Object(Uu.h)(e.payload.isPhone),type:e.payload.type,messageText:e.payload.messageText,messageId:e.payload.messageId,sourceButtonId:e.payload.sourceButtonId,videoConversationId:lf.a.v4()}))}catch(t){Object(bt.b)(t)}}function*Wb(e){let{error:t,videoConversationId:n,reason:a,isIncomingCall:r}=e;const i=yield Cc($a.b),o=r?Object(Ga.d)(i):Object(Ga.f)(i);if(!u()(o)&&o.videoConversationId===n&&!Object(Fu.e)({isIncomingCall:r,state:o.state})&&Object(pn.f)(t)){const e=s()(t,"response.data.error");if(e===Va.a.CALL_ALREADY_ENDED)return void(yield hc({type:vb.c,payload:{videoConversationId:n,notifyAgent:!1,notifyUser:!0,callDetails:o,isIncomingCall:r}}));yield hc({type:vb.e,payload:{videoConversationId:n,reason:a,subReason:e}})}}function*zb(e){try{const{videoConversationId:t}=e.payload;yield hc(Object(Lu.b)({videoConversationId:t,controls:Object(Uu.h)(e.payload.isPhone)}));const n=yield yc(Pb,{videoConversationId:t,shouldWaitForConnection:!0});yield hc({type:vb.x,payload:{callMode:n.participant.callMode,participantPermissions:n.participant.permissions,participantInfos:n.conversation.participantInfos,videoConversationId:n.conversation.id}}),yield hc(Object(Lu.u)({videoConversationId:t}))}catch(t){Object(bt.b)(t),yield yc(Wb,{videoConversationId:e.payload.videoConversationId,isIncomingCall:!0,error:t,reason:Va.f.ACCEPT_FAILED})}}function*qb(e){let t;try{const{videoConversationId:n}=e.payload,a=yield Cc($a.b),r=Object(Ga.f)(a),i=r.messageId,o=r.conversationId,c=Object(Ga.h)(a,n);if(yield hc(Object(In.c)({conversationId:o,action:c?Br.a.AUDIO_CALL_OUTGOING_STARTING:Br.a.VIDEO_CALL_OUTGOING_STARTING,additional:{videoConversationId:n}})),i){const e=yield Cc($a.c);t=Object(Er.k)(Object(Er.m)(e,o),i),yield yc(rl,{chatMessage:t,conversationId:o,params:{buttonId:r.sourceButtonId}})}const s=yield yc(Mb,{conversationId:o,audioOnly:c,messageText:r.messageText,sourceButtonId:r.sourceButtonId,postBackChatMessageId:i,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED"});yield hc({type:vb.x,payload:{agentWaitTime:s.conversation.agentWaitTime,callMode:s.participant.callMode,participantInfos:s.conversation.participantInfos,participantPermissions:s.participant.permissions,videoConversationId:s.conversation.id}})}catch(n){t&&(yield hc({type:Ie.J,payload:{chatMessage:t,conversationId:e.payload.conversationId}})),yield yc(Wb,{videoConversationId:e.payload.videoConversationId,reason:Va.h.INITIATE_FAILED,error:n,isIncomingCall:!1}),Object(bt.b)(n)}}function*Kb(e){try{const{conversationId:n,type:a,isPhone:r,prevState:i,videoConversationId:o,participantInfos:c,participantPermissions:s,callMode:l}=e.payload,d=yield Cc($a.b),f=Object(Ga.c)(d);if(Object(Uu.i)({callDetails:f}))return;const b=a===Va.d.AUDIO,p=Object(Uu.d)(i);yield hc(Object(In.c)({conversationId:n,action:Object(Uu.e)(b,p),additional:{videoConversationId:o}})),yield hc(Object(Lu.s)({conversationId:n,videoConversationId:o,state:p?Va.g.ACCEPTED:Va.g.SETUP,controls:Object(Uu.h)(r),type:a,participantPermissions:s,callMode:l,participantInfos:c}));let h=yield yc(kb,n);if(u()(h))return void(yield hc({type:vb.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0,isIncomingCall:!0}}));if(yield hc({type:vb.x,payload:{callMode:h.participant.callMode,participantPermissions:h.participant.permissions,participantInfos:h.conversation.participantInfos,videoConversationId:h.conversation.id}}),p){try{h=yield yc(Pb,{videoConversationId:h.conversation.id,shouldWaitForConnection:!0}),yield hc({type:vb.x,payload:{callMode:h.participant.callMode,participantPermissions:h.participant.permissions,participantInfos:h.conversation.participantInfos,videoConversationId:h.conversation.id}})}catch(t){return Object(bt.b)(t),void(yield yc(Wb,{videoConversationId:e.payload.videoConversationId,reason:Va.f.ACCEPT_FAILED,error:t,isIncomingCall:!0}))}yield hc(Object(Lu.u)({videoConversationId:h.conversation.id}))}}catch(t){return Object(bt.b)(t),void(yield yc(Wb,{videoConversationId:e.payload.videoConversationId,reason:Va.f.REJOIN_FAILED,error:t,isIncomingCall:!0}))}}function*Yb(e){try{const{conversationId:t,type:n,isPhone:a,prevState:r,videoConversationId:i,participantInfos:o,participantPermissions:c,callMode:s}=e.payload,l=yield Cc($a.b),d=Object(Ga.c)(l);if(Object(Uu.i)({callDetails:d}))return;const f=n===Va.d.AUDIO;yield hc(Object(In.c)({conversationId:t,action:Object(Uu.e)(f),additional:{videoConversationId:i}})),yield hc(Object(Lu.t)({conversationId:t,videoConversationId:i,state:Object(Uu.f)(r),controls:Object(Uu.h)(a),type:n,participantPermissions:c,callMode:s,participantInfos:o}));const b=yield yc(kb,e.payload.conversationId);if(u()(b))return void(yield hc({type:vb.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0}}));yield hc({type:vb.x,payload:{agentWaitTime:b.conversation.agentWaitTime,callMode:b.participant.callMode,participantPermissions:b.participant.permissions,participantInfos:b.conversation.participantInfos,videoConversationId:b.conversation.id}})}catch(t){Object(bt.b)(t),yield yc(Wb,{videoConversationId:e.payload.videoConversationId,reason:Va.h.REJOIN_FAILED,error:t,isIncomingCall:!1})}}function*Xb(e){try{const t=e.payload,{isIncomingCall:n}=t,a=Object(Fs.__rest)(t,["isIncomingCall"]);n?yield hc(Object(Lu.f)(a)):yield hc(Object(Lu.k)(a))}catch(t){Object(bt.b)(t)}}function*Zb(e){const t=yield Cc($a.b),{videoConversationId:n}=e.payload,{isOutgoingCall:a}=Object(gb.a)(t,n);try{const t=a?Lu.l:Lu.g;yield hc(t({videoConversationId:n})),yield yc(Db,e.payload)}catch(r){yield yc(Wb,{videoConversationId:n,reason:a?Va.h.JOIN_FAILED:Va.f.JOIN_FAILED,error:r,isIncomingCall:!a}),Object(bt.b)(r)}}function*Qb(e){try{const t=yield Cc($a.b),{callDetails:n,isIncomingCall:a}=Object(gb.a)(t,e.payload.videoConversationId);if(n.reason&&n.reason!==e.payload.reason)return;const r=n.conversationId,i=n.videoConversationId;if(yield hc(Object(In.c)({conversationId:r,action:Br.a.CALL_FAILED,additional:{videoConversationId:e.payload.videoConversationId}})),yield yc(Bb,r,i,Fb.a.CALL_FAILED),!a&&!n.hasInitiateSucceeded){if((yield pc(Object(Uu.g)(i))).type===vb.e)return}yield yc(Ub,{videoConversationId:e.payload.videoConversationId,reason:e.payload.reason,subReason:e.payload.subReason})}catch(t){Object(bt.b)(t)}}function*Jb(e){try{const{isIncomingCall:t,conversationId:n,videoConversationId:a}=e.payload;yield hc(Object(In.c)({conversationId:n,action:Br.a.CALL_DECLINED,additional:{videoConversationId:a,userInitiated:t}})),yield yc(Bb,n,a,Fb.a.CALL_DECLINED),yield yc(Lb,{videoConversationId:a})}catch(t){Object(bt.b)(t)}}function*ep(e){try{const{conversationId:t,videoConversationId:n,isIncomingCall:a}=e.payload;yield hc(Object(In.c)({conversationId:t,action:Br.a.CALL_MISSED,additional:{videoConversationId:n,userInitiated:a}})),yield yc(Bb,t,n,Fb.a.CALL_MISSED)}catch(t){Object(bt.b)(t)}}function*tp(){try{yield Cs(vb.g,zb),yield Cs(vb.c,$b),yield Cs(vb.o,Hb),yield Cs(vb.u,qb),yield Cs(vb.d,Gb),yield Cs(vb.v,Xb),yield Cs(vb.k,Kb),yield Cs(vb.r,Yb),yield Cs(Ie.c,Vb),yield Cs(vb.y,Zb),yield Cs(vb.e,Qb),yield Cs(vb.b,Jb),yield Cs(vb.n,ep)}catch(e){Object(bt.b)(e)}}function*np(){yield Oc([jc(Nb),jc(tp)])}function ap(e){return e.type===lt}function*rp(){try{const e=yield Cc($a.f);u()(e)||(yield hc(Object(ar.g)()))}catch(e){Object(bt.b)(e)}return null}function*ip(e){try{const{events:t}=e.payload;yield Oc(t.filter(ap).map((e=>{const{status:t}=e.payload;return"LIVE"===t?yc(rp):"COMPLETED"===t?hc(Object(ar.c)({endedByAgent:!0})):null})))}catch(t){Object(bt.b)(t)}}function*op(){try{yield Cs(Es.k,ip)}catch(e){Object(bt.b)(e)}}function*cp(){yield Oc([jc(Wl),jc(op)])}function sp(e){return e.type===ut}function*lp(e){yield Oc(e.filter(sp).map((e=>hc({type:Le.a,payload:e.payload}))))}function*up(e){try{const{events:t}=e.payload;yield Oc([yc(lp,t)])}catch(t){Object(bt.b)(t)}}function*dp(){yield Cs(Es.k,up)}var fp=n(706);const bp=new fp.a,pp=e=>Object(Fs.__awaiter)(void 0,void 0,void 0,(function*(){const{httpMethod:t="GET",httpUrl:n="",httpPayload:a=G.a,actionIdentifier:r,requestId:i}=e.params;let o,c;try{const u="POST"===t||"PUT"===t?yield bp[t.toLowerCase()](n,a,{withCredentials:!0}):yield bp[t.toLowerCase()](n,{withCredentials:!0});o=u.request.status,c=u.request.responseText}catch(u){Object(bt.b)(u),Object(pn.f)(u)?(o=u.request.status,c=u.request.responseText):(o=500,c="")}finally{yield(s={status:o,responseText:c,actionIdentifier:r,requestId:i},l=e.conversationId,bs.a.post(`/livechat/cart/on-add-to-cart/${l}`,s))}var s,l})),hp=e=>bs.a.post("/livechat/cart/update-cart",e),Op=e=>bs.a.post("/livechat/cart/remove-from-cart",e);function*gp(e){try{const{type:t,params:n,conversationId:a}=e.payload;"HTTP_REQUEST"===t&&(yield yc(pp,{params:n,conversationId:a}))}catch(t){Object(bt.b)(t)}}function*vp(){yield Cs(Le.a,gp)}const yp={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},jp={modifiedTime:{type:"number"},productItems:{array:{each:{sku:yp,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},mp={modifiedTime:{type:"number"},productItems:{array:{each:{sku:yp,quantity:{type:"number"}}}}};function*Ip(e){try{const n=(t=e.payload,Object(Be.a)(t,jp));if(n)return void Object(h.a)("Invalid payload passed to update cart, please check",n);yield yc(hp,e.payload)}catch(n){Object(bt.b)(n)}var t}function*Cp(){yield Cs(Le.c,Ip)}function*Ep(e){try{const n=(t=e.payload,Object(Be.a)(t,mp));if(n)return void Object(h.a)("Invalid payload passed to remove from cart, please check",n);yield yc(Op,e.payload)}catch(n){Object(bt.b)(n)}var t}function*Tp(){yield Cs(Le.b,Ep)}function*Sp(){yield Oc([jc(dp),jc(vp),jc(Cp),jc(Tp)])}function*_p(){try{yield Oc([jc(Ns),jc(lb),jc(Ob),jc(np),jc(cp),jc(Sp)])}catch(e){Object(bt.b)(e)}}function*Ap(){try{const e=yield jc(_p);yield pc(ps.c),yield Ic(e)}catch(e){Object(bt.b)(e)}}n(39);var xp=n(425),wp=n(479);function Rp(e,t){const n=Object(wp.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};const a=s()(n.params,"conversationId"),r=s()(n.params,"transientId");return"all"===a?{isConversationPath:!1,matchedConversationId:void 0}:"new"===a?{isConversationPath:!0,matchedConversationId:t?t.slice(1):r}:{isConversationPath:!0,matchedConversationId:a}}function*Np(){try{const e=Object(rr.e)(yield Cc(Pn.g));return{...Object(Ht.a)(),locale:e}}catch(e){return void Object(bt.b)(e)}}var Pp=n(1065),Lp=n(968);function*Mp(e){try{const{conversationId:t,chatMessage:n}=e.payload;Pp.a.emit(e);const a=Object(rr.d)(yield Cc(Pn.g)),r=yield Cc(Pn.c),i=Object(Er.g)(r.conversations,t);if(i){const e=Ui()(i.defaultMessages,"id"),r=Bs.a.getId(n);if(e.includes(r))return void(yield hc({type:Ie.P,payload:{conversationId:t,lastReadMessageId:r}}));if(function(e,t){return!(Bs.a.getSender(e)===t)&&!Object(Gs.f)(e)}(n,a)){const{isConversationPath:e,conversationId:n}=yield Cc(xp.c),a=yield Cc(Pn.b),{isMinimized:r}=a,o=Object(ve.b)(),c=!!e,s=!u()(i);(Object(f.E)()?s&&t===n:s)&&(yield hc({type:Ie.Q,payload:{conversationId:t,count:1}}),r&&!c&&o.push(`/conversation/${t}`))}}}catch(t){Object(bt.b)(t)}}function*Dp(){try{yield Cs(Ie.E,Mp)}catch(e){Object(bt.b)(e)}}function*kp(e){try{var t;const n=Object(Zt.b)();Object(Zt.c)(n)?n.open(Object(Wt.c)(e.payload.url),e.payload.target):window.open(Object(Wt.c)(e.payload.url)),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){var n;null===(n=e.promise)||void 0===n||n.reject(),Object(bt.b)(a)}}function*Up(){try{yield Cs(Ie.R,kp)}catch(e){Object(bt.b)(e)}}function*Fp(e){try{var t;window.open(Object(Wt.b)(e.payload.phoneNumber)),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){var n;null===(n=e.promise)||void 0===n||n.reject(),Object(bt.b)(a)}}function*Bp(){try{yield Cs(Ie.p,Fp)}catch(e){Object(bt.b)(e)}}function*$p(e){try{const{surveyUrl:t,shouldReplace:n,conversationId:a}=e.payload,r=Object(ve.b)(),i=Object(f.F)()||Object(f.K)()?`${t}&showCancel=true`:t,o=`/survey/${encodeURIComponent(`${i}&hideThankYouPage=true`)}`;return n?r.replace(o):r.push(a?`/conversation/${a}${o}`:o)}catch(t){return void Object(bt.b)(t)}}function*Gp(){try{yield Cs(Ie.V,$p)}catch(e){Object(bt.b)(e)}}function*Vp(e){try{const{deleted:n,closed:a,surveyUrl:r,conversationId:i}=e.payload;try{if(n||a){const e=Object(ve.b)(),{matchedConversationId:t}=Rp(e.location.pathname,e.location.hash),a=n&&!!i&&t===i&&!Object(f.F)();r?yield hc(Object(Hs.n)({surveyUrl:r,shouldReplace:a,conversationId:i})):a&&e.goBack()}}catch(t){Object(bt.b)(t)}}catch(t){Object(bt.b)(t)}}function*Hp(){try{yield Cs(Ie.j,Vp)}catch(e){Object(bt.b)(e)}}function*Wp(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield pc(ps.a);if(t){if(Object(f.J)()){const e=Object(f.i)();yield hc(Object(Hs.b)({conversationId:e}))}if(Object(f.I)()){const e=Object(f.h)(),t=Object(f.e)(e),n=yield yc(Np);yield hc(Object(Hs.a)(e,t,n))}yield Tc(1e3),yield hc(Object(Hs.g)())}}catch(e){Object(bt.b)(e)}}function*zp(e){try{const{payload:t,promise:n}=e,{conversationId:a}=t;yield yc(Lp.b,a),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(bt.b)(t)}}function*qp(){try{yield Cs(Ie.o,zp)}catch(e){Object(bt.b)(e)}}function*Kp(e){try{const t=yield Cc(Pn.g),n=Object(rr.d)(t),a=yield Cc(Pn.c),r=((e,t,n)=>{if(n)return[{conversationId:n,count:Object(xp.b)(e[n],t)}];return yi()(e,((e,n)=>{const a=Object(xp.b)(n,t);return e.push({conversationId:n.id,count:a}),e}),[])})(Object(Er.q)(a).byId,n,e);u()(r)||(yield hc({type:Ie.O,payload:r}))}catch(t){console.warn(t)}}function*Yp(){try{if(Object(f.E)()){if(Object(f.M)())for(;;){yield pc(Ie.g);const{conversationId:e}=yield Cc(xp.c);yield yc(Kp,e)}if(Object(f.J)()||Object(f.I)()){yield gc([pc(Ie.t),pc(Ie.u),pc(Ie.w),pc(Ie.x)]);const{conversationId:e}=yield Cc(xp.c);return void(yield yc(Kp,e))}return}if(Object(f.J)()||Object(f.I)())return yield Oc([gc([pc(Ie.t),pc(Ie.w),pc(Ie.u),pc(Ie.x)]),pc(Ie.g)]),void(yield yc(Kp));if(Object(f.O)()||Object(f.L)()||Object(f.M)())for(;;)yield pc(Ie.g),yield yc(Kp)}catch(e){Object(bt.b)(e)}}function*Xp(){try{yield Oc([jc(Wp),jc(Dp),jc(Up),jc(Bp),jc(qp),jc(Gp),jc(Hp),jc(Yp)])}catch(e){Object(bt.b)(e)}}function*Zp(e){let{action:t}=e;try{const e=t.payload;if((n=e).type!==Su.i&&n.type!==Su.j)return;const a=yield Cc(Pn.c),r=Object(Er.e)(Object(Er.w)(a));e.type===Su.i&&(yield yc(Gt.n,e.payload.contextId||r,e.payload.abortedProcessContext,[])),e.type===Su.j&&(yield yc(Gt.k,e.payload.contextId||r))}catch(a){Object(bt.b)(a)}var n}function*Qp(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield yc(Gt.f,t);if(a){const e=$s.a.getAttachment(Bs.a.getMessagePayload(n));if(Object(Xt.c)(Bs.a.getSender(n))&&e&&Object($u.d)(e)){const e=Bs.a.getId(n),r=a.messageIds;yield yc(Gt.n,t,a.context,[...r,e])}}}catch(t){Object(bt.b)(t)}}function*Jp(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield yc(Gt.f,t);a&&(yield yc(Gt.n,t,a.context,[]))}catch(t){Object(bt.b)(t)}}function*eh(){yield Cs(Ie.E,Qp)}function*th(){yield Cs(Ie.H,Jp)}function*nh(e){try{const t=yield yc(Gt.f,e);t&&(yield Oc(t.messageIds.map((e=>yc(Vs.p,e)))),yield yc(Vs.v,{context:t.context,conversationId:e}),yield yc(Gt.k,e))}catch(t){Object(bt.b)(t)}}function*ah(e){try{const{results:t}=e.payload.conversationResponse;yield Oc(t.map((e=>yc(nh,e.id))))}catch(t){Object(bt.b)(t)}}function*rh(){yield Cs(Ie.g,ah)}function*ih(){yield Oc([jc(eh),jc(th),jc(rh)])}var oh=n(377),ch=n.n(oh),sh=n(344),lh=n.n(sh),uh=n(861),dh=n(721);const fh=e=>t=>t.type===Ie.w&&s()(t,"payload.conversationResponse.externalCaseId")===e,bh=e=>t=>t.type===Ie.x&&s()(t,"payload.externalCaseId")===e;function*ph(){try{const e=yield Cc(Pn.b),{isMinimized:t}=e;t&&(yield hc({type:$.d,payload:{}}))}catch(e){Object(bt.b)(e)}}function*hh(){try{const e=yield Cc(Pn.c),t=Object(Er.e)(Object(Er.w)(e)),n=yield yc(ve.b),a=`/conversation/${t}`,{isConversationPath:r}=Rp(n.location.pathname,n.location.hash);r?n.replace(a):n.push(a),yield yc(ph)}catch(e){Object(bt.b)(e)}}function*Oh(){try{yield pc(Ie.g),yield yc(hh)}catch(e){Object(bt.b)(e)}}function*gh(e){let{initialMessages:t,conversationContext:n,createCase:a,additional:r,assignToUser:i,conversationId:o,applicationConfig:c}=e;try{const e=yield Cc(Pn.g),s=Object(rr.d)(e);let l,d;const f=lh()(t,(e=>{const t=Zl()(e)?e:e.message;return!u()(On()(t))}));if(u()(f))if(u()(t)&&se()(t))d=!0,l=[];else{const e=yield Cc(Pn.c),t=Object(Er.m)(e,au.e);l=Object(Er.l)(t),d=Object(Er.y)(t)}else{const e=(e=>e.map((e=>Zl()(e)?{message:{text:e},isSentByUser:!1}:Zl()(e.message)?{...e,message:{text:e.message}}:e)))(f),t=yield Xs();l=Ls()(e.map(((e,n)=>{if(!e.isSentByUser)return e.message.text?lu(e.message.text,o,`${n}`,e.message.disableManualResponse):void 0;const{maskedText:a,maskedValues:r}=Object(uh.a)({text:e.message.text,maskingConfigs:c.maskingConfigs});return t.makeTextMessage({text:a||"",conversationId:o,sender:s,maskingDetails:r,disableManualResponse:e.message.disableManualResponse})}))),d=!0}yield hc({type:Ie.K,payload:{conversationId:o,messages:l,conversationContext:n,hasInitialItems:d,createCase:a,assignToUser:i,additional:r}})}catch(s){throw Object(bt.b)(s),s}}function*vh(e,t){const{payload:{silent:n},promise:a}=t;try{let r=yield Cc((e=>e));const i=Bt.a.getCustomizationConfig(e),o=(e,t)=>s()(e,t),c=Object(Er.q)(Object(Pn.c)(r));me()(Object(Er.v)(c))&&(yield hc({type:Ie.C,payload:{}}),yield pc(Ie.bb),r=yield Cc((e=>e)));const{isLocked:l}=Object(xp.e)(r,i,o);if(l){if(!n){const e=Object(Er.b)(c);yield yc(e?hh:Oh)}throw Tt.a.LIMIT_REACHED}const u=`${au.e}_${ch()()}`;yield yc(gh,{...t.payload,conversationId:u,applicationConfig:e});const d=yield yc(Np);if(n&&(yield hc({type:Ie.L,payload:{conversationId:u,appContext:d},promise:a})),!n){const e=Object(ve.b)(),{isConversationPath:t}=Rp(e.location.pathname,e.location.hash),n=`/conversation/new/${u}`;!!t?e.replace(n):e.push(n),yield yc(ph)}}catch(r){a&&a.reject(uu(r)),Object(bt.b)(r)}}function*yh(e){const{payload:t,promise:n}=e;let a,r;try{let e=yield Cc(Pn.c),i=Object(Er.q)(e);if(a=t.conversationId,r=t.externalCaseId,!a)if(Object(Er.b)(i)||(yield pc(Ie.g),e=yield Cc(Pn.c),i=Object(Er.q)(e)),r){if(a=Object(Er.d)(Object(Er.w)(e),r),!a&&e.conversations.hasMore){yield hc(Object(Hs.b)({externalCaseId:r}));const[t,n]=yield gc([pc(fh(r)),pc(bh(r))]);if(n)throw n.payload.error;a=s()(t,"payload.conversationResponse.id"),e=yield Cc(Pn.c),i=Object(Er.q)(e)}}else a=Object(Er.e)(Object(Er.w)(e));if(!a)return void(n&&n.reject(Tt.a.NOT_FOUND));const o=Object(ve.b)(),{isConversationPath:c,matchedConversationId:l}=Rp(o.location.pathname,o.location.hash),d=!!c,b=`/conversation/${a}`;let p=a,h=[];if(l!==a){if(Object(f.C)(a)){const e=Object(f.f)(a),t=Object(f.e)(e),n=Object(Er.j)(i,e);if(p=t,!cf()(i.ids,n)){const n=yield yc(Np);yield hc(Object(Hs.a)(e,t,n)),h=[Ie.t,Ie.u]}}else cf()(i.ids,a)||(yield hc(Object(Hs.b)({conversationId:a})),h=[Ie.w,Ie.x]);for(;!u()(h);){const[e,t]=yield gc([pc(h[0]),pc(h[1])]);if(p===(s()(e,"payload.conversationResponse.id")||s()(t,"payload.conversationId"))){if(t)throw t.payload.error;break}}}d?o.replace(b):o.push(b),yield yc(ph),n&&n.resolve(a)}catch(i){n?n.reject(uu(i)):Object(bt.b)(i)}finally{(yield fc(dc,{}))&&n&&n.reject(Tt.a.UNEXPECTED_ERROR)}}function*jh(){try{const{payload:{applicationConfig:e}}=yield pc(ps.a);yield Cs(dh.c,vh,e)}catch(e){Object(bt.b)(e)}}function*mh(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return jc.apply(void 0,[ms,e,t].concat(a))}(dh.a,yh)}catch(e){Object(bt.b)(e)}}var Ih=n(742);const Ch={[Js.c.PROGRESS_BAR]:e=>e.status===Ih.a.ABORTED||e.status===Ih.a.ERROR},Eh=e=>{const t=e.messagePayload.attachment,n=t&&Ch[t.type];return n&&n(t)};class Th{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=z()(this.queueItems,(t=>Bs.a.getId(e.message)===Bs.a.getId(t.message)));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}flush(){return this.queueItems}}const Sh="EXTERNAL_MESSAGE_SEND";function*_h(e){try{const{message:t,externalMessageId:n}=e,a=yield yc(qs,t);a&&(yield hc({type:Sh,payload:{id:n,message:a}}))}catch(t){Object(bt.b)(t)}}function*Ah(e){try{for(;;){const t=yield pc(e);Eh(t.message)||(yield yc(_h,t))}}catch(t){Object(bt.b)(t)}}let xh;function*wh(e,t){try{var n;xh||(xh=yield yc(Hc,new Th),yield mc(Ah,xh));const a=yield Cc(Pn.c),r=Object(Er.e)(Object(Er.w)(a)),i=yield Cc(Pn.g),o=Object(rr.d)(i),c=e.message.text,s=e.isSentByUser?Object(uh.a)({text:c,maskingConfigs:null===t||void 0===t?void 0:t.maskingConfigs}):{text:c},l=(yield Xs()).makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:{...e.message,text:null!==(n=s.maskedText)&&void 0!==n?n:s.text,maskingDetails:s.maskedValues},conversationId:e.contextId||r,messageContext:e.messageContext,sender:e.isSentByUser?o:au.b});if(!l)return;const u={externalMessageId:e.id,message:l};!e.sprMsgId||Eh(l)?yield jc(_h,u):yield hc(xh,u);const{payload:{id:d,message:f}}=yield pc(Sh);return{id:d,message:f}}catch(a){return void Object(bt.b)(a)}}function*Rh(e){let{action:t,applicationConfig:n}=e;try{if(t.payload.type!==Su.e)return;const e=yield yc(wh,t.payload.payload,n);if(!e)return void Object(de.a)({topic:be,payload:{error:N.a.INCORRECT_PAYLOAD,request:t.payload}});const{id:a,message:r}=e;yield hc(Object(pu.m)({id:a,conversationId:null===r||void 0===r?void 0:r.conversationId,messageId:null===r||void 0===r?void 0:r.id})),Object(de.a)({topic:be,payload:{data:{id:a,conversationId:null===r||void 0===r?void 0:r.conversationId,messageId:null===r||void 0===r?void 0:r.id},request:t.payload}})}catch(a){Object(bt.b)(a)}}function*Nh(e){let{action:t}=e;try{if(t.payload.type!==Su.d)return;const{payload:e}=t.payload,n=(yield Xs()).makeDynamicMessage({externalMessageId:e.id,messagePayload:{events:ul()(e.event)},conversationId:e.contextId,sender:au.b});if(!n)return;yield yc(qs,n)}catch(n){Object(bt.b)(n)}}var Ph=n(840),Lh=n.n(Ph),Mh=n(743),Dh=n.n(Mh);const kh=/\$\{(\w+)\}/g,Uh=(e,t)=>{const n=Object.keys(t);return Dh()(e,kh,((e,a)=>n.includes(a)?t[a]:e))},Fh=(e,t)=>{const{totalUnits:n,completedUnits:a,action:r,status:i}=t,o=e[`progress.${r}.${i}.title`];return Uh(o,{completedUnits:a,totalUnits:n})},Bh=(e,t)=>{const{totalUnits:n,completedUnits:a,action:r,status:i}=t,o=e[`progress.${r}.${i}.description`];return Uh(o,{completedUnits:a,totalUnits:n})};class $h{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=z()(this.queueItems,(t=>e.action.payload.contextId===t.action.payload.contextId));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}flush(){return this.queueItems}}const Gh=(e,t)=>`${e}_${t}`,Vh=Lh()((()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n},remove:t=>{delete e[t]}}}));function*Hh(e){for(;;)try{const{action:n,localeData:a}=yield pc(e),{payload:{contextId:r,id:i,data:o,progressContext:c}}=n,s={type:Js.c.PROGRESS_BAR,title:Fh(a,o),description:Bh(a,o),progress:o.progress,status:o.status,action:o.action,enableCancel:o.enableCancel,enableRetry:o.enableRetry},l={attachment:s,disableManualResponse:o.disableManualResponse},u=yield yc(wh,{contextId:r,id:i,sprMsgId:Vh().get(Gh(r,s.action)),message:l,messageContext:c});if(!u)return void Object(de.a)({topic:be,payload:{error:N.a.INCORRECT_PAYLOAD,request:n}});const{id:d,message:f}=u;yield hc(Object(pu.n)({id:d,conversationId:null===f||void 0===f?void 0:f.conversationId,messageId:null===f||void 0===f?void 0:f.id})),Object(de.a)({topic:be,payload:{data:{id:i,conversationId:null===f||void 0===f?void 0:f.conversationId,messageId:null===f||void 0===f?void 0:f.id},request:n}}),(t=s).status!==Ih.a.COMPLETED&&(t.status!==Ih.a.ABORTED&&t.status!==Ih.a.ERROR||t.enableRetry)?Vh().set(Gh(r,s.action),null===f||void 0===f?void 0:f.id):Vh().remove(Gh(r,s.action))}catch(n){Object(bt.b)(n)}var t}let Wh;function*zh(e){let{action:t,localeData:n}=e;try{if(t.payload.type!==Su.g)return;Wh||(Wh=yield yc(Hc,new $h),yield mc(Hh,Wh)),yield hc(Wh,{action:t.payload,localeData:n})}catch(a){Object(bt.b)(a)}}function*qh(e,t,n){try{yield Oc([yc(Rh,{action:n,applicationConfig:t}),yc(Nh,{action:n}),yc(zh,{action:n,localeData:e}),yc(Zp,{action:n})])}catch(a){Object(bt.b)(a)}}function*Kh(e,t,n){try{e&&(yield Cs(e,qh,t,n))}catch(a){Object(bt.b)(a)}}function*Yh(){try{const{payload:{applicationConfig:t}}=yield pc(ps.a),n=yield Ec(Ie.z);let a;for(;;)try{const{payload:{data:e}}=yield pc(M.c);a&&(yield Ic(a)),a=yield jc(Kh,n,e,t)}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*Xh(){const e=Object(d.a)();yield Object(Gt.h)(e.appId)}function*Zh(){yield Cs($.f,Xh)}var Qh=n(471),Jh=n(459);function*eO(e,t){let{payload:n,promise:a}=t;try{if(!u()(n))switch(n.landingScreen){case Dr.a.KNOWLEDGE_BASE_LIST:{var r,i,o;const t=null!==(r=null===(i=e.cardConfigs)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.cards)&&void 0!==r?r:e.cards,n=Object(ve.b)(),c=null===t||void 0===t?void 0:t.find((e=>e.type===Jh.a.KNOWLEDGE_BASE)),s=Fr(n.location.pathname);if(!c)return void a.reject({error:Tt.a.NOT_FOUND});s!==Dr.a.KNOWLEDGE_BASE_LIST&&n.push(Qh.b);break}default:return void a.reject({error:Tt.a.NOT_FOUND})}Object(f.Q)()&&(yield hc({type:$.d,payload:{}})),a.resolve(void 0)}catch(c){Object(bt.b)(c),a.reject({error:Tt.a.UNEXPECTED_ERROR})}}function*tO(){try{const{payload:{applicationConfig:e}}=yield pc(ps.a);yield Cs($.l,eO,e)}catch(e){Object(bt.b)(e)}}function*nO(){try{yield Oc([jc(jh),jc(mh),jc(Yh),jc(Zh),jc(tO)])}catch(e){Object(bt.b)(e)}}const aO=e=>{const t=Object(Er.q)(Object(Pn.c)(e));return{totalCount:Object(Er.x)(t),byExternalCaseIds:Object(Er.t)(t)}};function*rO(){try{let t=yield Cc(aO);for(;;)try{yield gc({notificationReceived:pc(Ie.Q),notificationRead:pc(Ie.P),notificationsReceived:pc(Ie.O)});const e=yield Cc(aO);t.totalCount!==e.totalCount&&(Object(de.a)({topic:Q.m,payload:{data:{count:e.totalCount,additional:{...u()(e.byExternalCaseIds)?{}:{byExternalCaseIds:e.byExternalCaseIds}}}}}),t=e)}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*iO(e){try{Object(de.a)({topic:Q.g,payload:{data:{type:e.payload.type,payload:{...e.payload.payload,userAuthToken:yield Object(Gt.a)(on.a.getAppId(Object(d.a)()))}}}})}catch(t){Object(bt.b)(t)}}function*oO(){try{yield Cs(Ie.A,iO)}catch(e){Object(bt.b)(e)}}function cO(e){try{Object(de.a)({topic:Q.f,payload:{data:e.payload.payload},callback:e.payload.callback})}catch(t){Object(bt.b)(t)}}function*sO(){try{yield Cs(Ie.y,cO)}catch(e){Object(bt.b)(e)}}function*lO(){try{yield Oc([jc(rO),jc(oO),jc(sO)])}catch(e){Object(bt.b)(e)}}n(494),n(434);var uO=n(147),dO=n.n(uO);async function fO(e){return(await Fe.a.post(`/livechat/upload/policy?fileName=${encodeURIComponent(e)}`)).data}const bO=new fp.a;async function pO(e,t){let{bucket:n,domainName:a}=e;const r=await bO.post(`https://${n}.${null!==a&&void 0!==a?a:"s3.amazonaws.com"}/`,t);return decodeURIComponent(r.headers.location)}async function hO(e){return(await Fe.a.post("/livechat/upload",{file:e,fileName:e.name},{multipart:!0})).data}const OO=[{key:"Cache-Control",value:dO()("max-age=31536000, no-transform, public")},{key:"Content-Type",value:e=>e.type}],gO=["key","acl","x-amz-credential","x-amz-algorithm","x-amz-date","policy","x-amz-signature","x-amz-security-token","x-amz-server-side-encryption"];function*vO(e,t){try{if(function(e){return"AZURE"===e.type}(e)){const{uploadFileOnAzure:a}=yield Promise.all([n.e(6),n.e(17)]).then(n.bind(null,1936));return yield yc(a,e,t)}return yield yc(pO,e,function(e,t){const n=new FormData;return gO.forEach((t=>{n.append(t,e[t])})),OO.forEach((e=>{n.append(e.key,e.value(t))})),n.append("file",t),n}(e,t))}catch(a){return}}function*yO(e,t){try{if("SPR"===t)return{token:yield yc(hO,e)};const n=yield yc(fO,e.name);return n?{url:yield yc(vO,n,e)}:{}}catch(n){return{}}}var jO=n(621),mO=n(595);function IO(e){return new Promise((t=>{if(!e)return void t({});const n=document.createElement("img");n.onload=e=>{const n=e.target;n&&t({height:n.naturalHeight,width:n.naturalWidth})},n.src=e}))}function*CO(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:r,uploadPolicy:i,isAttachmentMasked:o}=e;try{if(c=a.type,cf()(mO.c,c)){const e=o?void 0:URL.createObjectURL(a),{height:c,width:s}=yield yc(IO,e),l=yield Xs(),u=yield yc(Hs.p,l.makeImageAttachmentMessage({attachmentProperties:{height:c,width:s,url:e,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:r}));yield hc(u);const{token:d,url:f}=yield yc(yO,a,i);if(d||f){const t=Object(jO.f)({chatMessage:u.payload.chatMessage,token:d,url:f});yield yc(Ks,t),e&&URL.revokeObjectURL(e)}else yield hc({payload:{conversationId:t,transientId:u.payload.chatMessage.id},type:Ie.G})}}catch(s){Object(bt.b)(s)}var c}function EO(e){return new Promise((t=>{const n=document.createElement("video");n.onloadeddata=()=>{n.currentTime=0},n.onseeked=e=>{const a=document.createElement("canvas");a.height=n.videoHeight,a.width=n.videoWidth;const r=a.getContext("2d");if(r){r.drawImage(n,0,0,a.width,a.height);(a.toBlob||a.msToBlob).bind(a)((e=>{const a=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:a,height:n.videoHeight,width:n.videoWidth})}))}},n.src=e,n.load()}))}function*TO(e,t){try{return yield yc(yO,e,t)}catch(n){return void Object(bt.b)(n)}}function*SO(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:r,uploadPolicy:i,isAttachmentMasked:o}=e;try{if(c=a.type,cf()(mO.e,c)){const e=URL.createObjectURL(a),{previewImageFile:c,height:s,width:l}=yield yc(EO,e),u=URL.createObjectURL(c),d=yield Xs(),f=yield yc(Hs.p,d.makeVideoAttachmentMessage({attachmentProperties:{height:s,width:l,previewImageUrl:o?null:u,url:o?null:e,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:r}));yield hc(f);const[{token:b,url:p},{token:h,url:O}]=yield Oc([yc(yO,a,i),yc(TO,c,i)]);if(b||p){const t=Object(jO.g)({chatMessage:Object(jO.f)({chatMessage:f.payload.chatMessage,token:b,url:p}),token:h,url:O});yield yc(Ks,t),URL.revokeObjectURL(e),URL.revokeObjectURL(u)}else yield hc({payload:{conversationId:t,transientId:f.payload.chatMessage.id},type:Ie.G})}}catch(s){Object(bt.b)(s)}var c}var _O=n(1066);const AO={"application/pdf":_O.a.PDF,"text/plain":_O.a.DOCUMENT,"application/msword":_O.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":_O.a.WORD_DOCUMENT,"application/vnd.ms-excel":_O.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":_O.a.EXCEL,"application/vnd.ms-powerpoint":_O.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":_O.a.PRESENTATION,"application/onenote":_O.a.ONENOTE,"application/json":_O.a.DOCUMENT};function*xO(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:r,uploadPolicy:i,isAttachmentMasked:o}=e;try{if(c=a.type,cf()(mO.b,c)){const e=o?null:URL.createObjectURL(a),c=yield Xs(),s=yield yc(Hs.p,c.makeDocumentAttachmentMessage({attachmentProperties:{url:e,title:a.name,documentType:AO[a.type]},conversationId:t,sender:n,inReplyToChatMessageId:r}));yield hc(s);const{token:l,url:u}=yield yc(yO,a,i);if(l||u){const t=Object(jO.f)({chatMessage:s.payload.chatMessage,token:l,url:u});yield yc(Ks,t),e&&URL.revokeObjectURL(e)}else yield hc({payload:{conversationId:t,transientId:s.payload.chatMessage.id},type:Ie.G})}}catch(s){Object(bt.b)(s)}var c}function*wO(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:r,uploadPolicy:i,isAttachmentMasked:o}=e;try{if(c=a.type,cf()(mO.a,c)){const e=o?null:URL.createObjectURL(a),c=yield Xs(),s=yield yc(Hs.p,c.makeAudioAttachmentMessage({attachmentProperties:{url:e,mimeType:a.type,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:r}));yield hc(s);const{token:l,url:u}=yield yc(yO,a,i);if(l||u){const t=Object(jO.f)({chatMessage:s.payload.chatMessage,token:l,url:u});yield yc(Ks,t),e&&URL.revokeObjectURL(e)}else yield hc({payload:{conversationId:t,transientId:s.payload.chatMessage.id},type:Ie.G})}}catch(s){Object(bt.b)(s)}var c}function*RO(e,t){try{const{uploadPolicy:n,isAttachmentMasked:a}=e,{conversationId:r,chatUserId:i,file:o,inReplyToChatMessageId:c}=t.payload,s={conversationId:r,chatUserId:i,file:o,inReplyToChatMessageId:c,uploadPolicy:n,isAttachmentMasked:a};yield Oc([yc(CO,s),yc(SO,s),yc(wO,s),yc(xO,s)])}catch(n){Object(bt.b)(n)}}var NO=function*(){try{const{payload:{applicationConfig:e}}=yield pc(ps.a);yield Cs(dh.b,RO,{uploadPolicy:e.uploadPolicy,isAttachmentMasked:!!e.maskAttachment})}catch(e){Object(bt.b)(e)}},PO=n(640);let LO;function*MO(e){for(;;)try{let t;yield pc(Es.b),LO=Date.now(),yield pc(Es.a),t=Date.now();(e||LO&&t-LO>=3e5)&&(LO=void 0,yield hc({type:Es.l,payload:{}}))}catch(t){Object(bt.b)(t)}}function*DO(){try{const e=Object(PO.a)();yield Oc([jc(MO,e)])}catch(e){Object(bt.b)(e)}}var kO=n(1044);function*UO(){try{for(;;)try{yield pc($.g);Object(f.P)()?Object(de.a)({topic:Q.d}):yield hc(Object(Ha.b)())}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*FO(){try{for(;;)try{const e=yield pc($.k),{isMediaOpen:t}=e.payload;t?Object(de.a)({topic:Q.i}):Object(de.a)({topic:Q.h})}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*BO(){try{const{payload:{applicationConfig:e}}=yield pc(ps.a);setTimeout((()=>{const t=s()(e,"otherConfigs.theme.icons",{});wi()(t,(e=>{Object(kO.a)(e)}))}),1e4)}catch(e){Object(bt.b)(e)}}function*$O(){try{yield Oc([jc(UO),jc(FO),jc(BO)])}catch(e){Object(bt.b)(e)}}function*GO(e){try{const{user:t,userContext:n,customUser:a}=e.payload||{},r=Object(rr.c)(yield Cc($a.h)),i=fl.a.getId(r),o=Object(f.R)(n);if(!Jl()(a)&&Object(Xt.b)(i)||Jl()(a)&&Object(Xt.a)(t)&&!Object(Xt.b)(i)||Object(Xt.b)(i)&&Object(Xt.e)(t,r)){const e=L()(Object(d.a)(),{userContext:{$merge:o},user:{$set:{...Object(d.a)().user||{},...t||{}}},customUser:{$set:a}});Object(d.f)(e);const{data:n}=yield yc(dl.d,{...r,...t,customContext:o,customUser:a});return yield hc(Object(In.c)({action:Br.a.USER_PROFILE_UPDATED})),void(yield hc({type:M.g,payload:{users:[n]}}))}const c=L()(Object(d.a)(),{userContext:{$set:o},user:{$set:t},customUser:{$set:a}});return Object(d.f)(c),void Object(zt.e)({shouldReboot:!0,shouldContinueSession:(!Jl()(a)||!Object(Xt.a)(t))&&!Object(Xt.b)(i)})}catch(t){Object(bt.b)(t)}}function*VO(){try{yield Cs(F,GO)}catch(e){Object(bt.b)(e)}}function*HO(e,t){try{yield hc(Object(Ha.i)(e,t))}catch(n){Object(bt.b)(n)}}function*WO(e,t,n){try{const e=yield Cc(Pn.b),t=Object(Nn.e)(e),n=Object(rr.c)(yield Cc($a.h)).userId;let a={};wi()(t,((e,t)=>{a={...a,[t]:e.enabled}})),yield Object(Gt.o)(n,a)}catch(a){yield yc(HO,e,n),Object(bt.b)(a)}}function*zO(){try{for(;;){const e=yield pc($.r),{userPreferenceKey:t,newValue:n,oldValue:a}=e.payload;yield yc(HO,t,n),yield yc(WO,t,n,a)}}catch(e){Object(bt.b)(e)}}function*qO(){try{yield Oc([jc(VO),jc(zO)])}catch(e){Object(bt.b)(e)}}function*KO(){return Wc((e=>{const t=()=>{e(Object(In.g)(!0))},n=()=>{e(Object(In.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}))}function*YO(){let e;try{for(e=yield yc(KO);;){const t=yield pc(e);yield hc(t)}}catch(t){Object(bt.b)(t)}finally{e&&e.close()}}function XO(){return Wc((e=>{const t=Object(d.b)();if(!t)return K.a;const n=()=>{const t=Object(Zt.d)();t||e({type:Es.b}),t&&e({type:Es.a})};return t.document.addEventListener("visibilitychange",n),()=>{t.document.removeEventListener("visibilitychange",n)}}))}function*ZO(){let e;try{for(e=yield yc(XO);;){const t=yield pc(e);yield hc(t)}}catch(t){Object(bt.b)(t)}finally{e&&e.close()}}function*QO(e){try{const{ssoId:t,conversationId:n,messageId:a}=e.payload;yield Yt({ssoId:t,conversationId:n,messageId:a}),e.promise&&e.promise.resolve(),Object(zt.e)({shouldReboot:!0,shouldContinueSession:!0})}catch(t){yield hc({type:Es.c,payload:{}}),e.promise&&e.promise.reject()}}function*JO(){try{yield Cs(Es.d,QO)}catch(e){Object(bt.b)(e)}}function*eg(){try{yield Oc([jc(JO)])}catch(e){Object(bt.b)(e)}}let tg=!0;function*ng(){try{for(;;)try{yield pc($.b),yield hc({type:$.c,payload:{}})}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*ag(){try{for(;;)try{yield pc($.d),yield hc({type:$.e,payload:{}})}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*rg(e){try{tg=!1,yield hc(Object(In.a)({ssoId:$t.a.getAutoLoginSSOId(Bt.a.getCustomizationConfig(e))})())}catch(t){Object(bt.b)(t)}}function*ig(){try{const{payload:{applicationConfig:e}}=yield pc(ps.a);if(Object(f.P)())return;if(!tg||!Kt(e))return void(yield jc(ag));yield pc($.d),yield yc(rg,e),yield pc(Es.c),yield jc(ag),yield hc({type:$.d,payload:{}})}catch(e){Object(bt.b)(e)}}function*og(){try{yield Oc([jc(ig),jc(ng)])}catch(e){Object(bt.b)(e)}}var cg=n(1067),sg=n(1068);function*lg(e){try{const{type:t,buttonId:n,promptId:a}=e.payload,r=yield Cc(Pn.d),i=Us()(r,(e=>e.id===a));if(!i)return;t!==sg.a.TRIGGERED&&(yield hc(function(e){return{type:ae.b,payload:{promptId:e}}}(a)));const o=Us()(i.buttons,(e=>e.id===n));t===sg.a.ENGAGED&&o&&o.type===sg.b.URL&&o.value?window.open(Object(Wt.c)(o.value)):t!==sg.a.ENGAGED||o&&o.type===sg.b.CLOSE||(yield hc(Object(fe.b)({initialMessages:Ls()([...Ui()(i.messages,(e=>{let{text:t,disableManualResponse:n=!1}=e;return{message:{text:t,disableManualResponse:n}}})),o?{isSentByUser:!0,message:o.label}:void 0]),createCase:!!s()(i.additional,"createCase"),additional:{...df()(i.additional,["interceptId","creativeId"]),interceptTargetId:n,clickedOnPrompt:!0}})())),Object(de.a)({topic:Q.k,payload:{data:{type:t,id:a,button:o}}})}catch(t){Object(bt.b)(t)}}function*ug(){try{yield Cs(cg.a,lg)}catch(e){Object(bt.b)(e)}}var dg=n(1069);const fg=()=>{let e=null;const t=n=>{let{sessionExpiryTimeInMinutes:a,sessionExpiryAlertTime:r}=n;if(a&&r)try{Object(dg.a)(),e=setTimeout((()=>{t({sessionExpiryTimeInMinutes:a,sessionExpiryAlertTime:r})}),((e,t)=>{const n=60*e*1e3-t,a=60*e*1e3/3;return n<=a?Math.max(n-2e3,0):a})(a,r))}catch(i){Object(bt.b)(i)}};return{startRefreshingSession:t,stopRefreshingSession:()=>{e&&clearTimeout(e)}}};function*bg(e){let{startEvents:t,stopEvents:n}=e;try{const e=t.map((e=>pc(e))),o=n.map((e=>pc(e))),{startRefreshingSession:c,stopRefreshingSession:s}=yield yc(fg);try{var a,r;const{payload:{applicationConfig:t}}=yield pc(ps.a),n=t.autoExpireUserSessionTimeInMinutes,i=null===(a=t.otherConfigs.settings)||void 0===a||null===(r=a.autoExpiryConfig)||void 0===r?void 0:r.alertTime;for(;n&&i;)yield gc(e),yield yc(c,{sessionExpiryTimeInMinutes:n,sessionExpiryAlertTime:i}),yield gc(o),yield yc(s)}catch(i){Object(bt.b)(i)}finally{yield yc(s)}}catch(i){Object(bt.b)(i)}}function*pg(){try{const{appId:e}=Object(d.a)();yield yc(nr.a.remove,e)}catch(e){Object(bt.b)(e)}}function*hg(e){try{const{conversationId:t,messageId:n,agentId:a}=e.payload.state,{appId:r}=Object(d.a)();yield yc(nr.a.set,r,{conversationId:t,messageId:n,agentId:a})}catch(t){Object(bt.b)(t)}}function*Og(){try{yield Cs([Tl.g,Tl.h],pg)}catch(e){Object(bt.b)(e)}}function*gg(){try{yield Cs(Tl.j,hg)}catch(e){Object(bt.b)(e)}}function*vg(){try{yield Oc([jc(bg,{startEvents:[Tl.i,Tl.m,Tl.o,Tl.n,Tl.j,Tl.k,Tl.l],stopEvents:[Tl.h,Tl.p,Tl.g]}),jc(Og),jc(gg)])}catch(e){Object(bt.b)(e)}}function*yg(){try{yield Oc([jc(bg,{startEvents:[vb.g,vb.u,vb.v],stopEvents:[vb.e,vb.c]})])}catch(e){Object(bt.b)(e)}}var jg=n(634);function mg(e){return e.type===dt}function*Ig(e){try{const{events:t}=e.payload,n=yield Cc(Pn.g),a=Object(rr.c)(n);yield Oc(t.filter(mg).map((e=>(Object(Xt.d)(a)||jg.d.emit({type:jg.a,payload:{shouldReboot:e.payload.shouldReboot}}),null))))}catch(t){Object(bt.b)(t)}}function*Cg(){try{yield Cs(Es.k,Ig)}catch(e){Object(bt.b)(e)}}var Eg=n(744);function Tg(e){const t=()=>{Object(Eg.a)().disconnect().then((()=>{Object(h.a)("MQTT Client | Disconnected")})).catch((e=>{Object(pn.f)(e)?console.warn(e):console.error(`MQTT Client | Disconnection Error ${e}`)}))};try{Object(Eg.a)().connect().catch((e=>{Object(pn.f)(e)?console.warn(e):console.error(`MQTT Client | Connection Error ${e}`)})),function(){const e=Object(Eg.a)();e.on("error",(()=>{Object(h.a)("MQTT Client | Error")})),e.on("offline",(()=>{Object(h.a)("MQTT Client | Offline")})),e.on("reconnect",(()=>{Object(h.a)("MQTT Client | Reconnect")})),e.on("close",(()=>{Object(h.a)("MQTT Client | Closed")}))}(),Object(Eg.a)().subscribe().catch((e=>{Object(pn.f)(e)?console.warn(e):console.error(`MQTT client | Subscribe Error ${e}`)})),Object(Eg.a)().on("message",((t,n)=>{try{const t=JSON.parse(n.toString());e(t)}catch(a){Object(bt.b)(a)}}))}catch(n){Object(bt.b)(n),t()}return t}var Sg=n(1034);const _g=()=>{return"A_"+(e=Date.now(),`${Math.floor(e/1e3).toString(16)}0000000000000000`);var e},Ag=Lh()((()=>{let e=_g();return{set:t=>{e=t||e},get:()=>e}}));let xg=!0;function wg(e,t){const n=Ag();return new Sg.a((function(){return function(e){return Object(Fs.__awaiter)(this,void 0,void 0,(function*(){const{cursor:t,lastActiveDiff:n,active:a}=e||G.a;return(yield bs.a.post("/livechat/event/fetch-notifications"+(t?`?cursor=${t}`:""),{lastActiveDiff:n,active:a},{headers:{"x-chat-auto":!0},backoff:!0})).data}))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((t=>{const{results:a,afterCursor:r}=t;e(null,a,{isFirstCall:xg}),xg=!1,n.set(r)})).catch((t=>{e(Object(pn.c)(t)?t:null,[],{})}))}),{...t||{},pollInterval:15e3})}var Rg=n(1980);const Ng=Object(Rg.a)(["payload","type"]),Pg=Object(cn.a)("conversationId"),Lg=Object(cn.a)("sender"),Mg=Object(cn.a)("payload"),Dg=Object(cn.a)("creationTime");class kg{}kg.getMessageType=Object(sn.a)(Ng),kg.getConversationId=Object(sn.a)(Pg),kg.getSender=Object(sn.a)(Lg),kg.getCreationTime=Object(sn.a)(Dg),kg.getPayload=e=>Object(sn.a)(Mg)(e);const Ug={[Ke]:e=>({payload:{conversationId:kg.getConversationId(e),messageId:kg.getPayload(e).messageId},type:Ke}),[Ye]:e=>({payload:{conversationId:kg.getConversationId(e),messageId:kg.getPayload(e).messageId},type:Ye}),[Xe]:e=>({payload:{...Dt()(e.payload.externalEvent,["type","action","conversationId","payload"]),actionType:kg.getPayload(e).externalEvent.action,externalParams:kg.getPayload(e).externalEvent.payload,contextId:kg.getConversationId(e)},type:Xe}),UI_CONTROL:e=>({type:kg.getPayload(e).event.action,payload:kg.getPayload(e).event.payload?JSON.parse(kg.getPayload(e).event.payload):{}}),[Ze]:e=>({payload:{conversationId:kg.getConversationId(e),chatUserId:kg.getPayload(e).chatUserId},type:Ze}),[Qe]:e=>({payload:{conversationId:kg.getConversationId(e),sender:kg.getSender(e),actionTime:kg.getCreationTime(e)},type:Qe}),[Je]:e=>({payload:{conversationId:kg.getConversationId(e),sender:kg.getSender(e),actionTime:kg.getCreationTime(e)},type:Je}),[nt]:e=>({payload:{conversationId:kg.getConversationId(e),sender:kg.getSender(e),closed:kg.getPayload(e).closed,deleted:kg.getPayload(e).deleted,caseNumber:kg.getPayload(e).caseNumber,caseId:kg.getPayload(e).caseId,expireAssetUntilLastMessageId:kg.getPayload(e).lastMessageId,requestClientId:null===e||void 0===e?void 0:e.requestClientId},type:nt}),[at]:e=>{const t=kg.getPayload(e).audioOnly;return{payload:{videoConversationId:kg.getPayload(e).videoConversationId,conversationId:kg.getConversationId(e),participantInfos:kg.getPayload(e).participantInfos,type:t?Va.d.AUDIO:Va.d.VIDEO},type:at}},[rt]:e=>({payload:{conversationId:kg.getConversationId(e),videoConversationId:kg.getPayload(e).videoConversationId},type:rt}),[it]:e=>({payload:{conversationId:kg.getConversationId(e),videoCallEnabled:kg.getPayload(e).videoEnabled,audioCallEnabled:kg.getPayload(e).audioEnabled},type:it}),[ft]:e=>({payload:{conversationId:kg.getConversationId(e),permissions:kg.getPayload(e).permissions,callMode:kg.getPayload(e).callMode,videoConversationId:kg.getPayload(e).videoConversationId},type:ft}),[ot]:e=>({payload:{conversationId:kg.getConversationId(e),videoConversationId:kg.getPayload(e).conversation.id,conversation:kg.getPayload(e).conversation,participant:kg.getPayload(e).participant},type:ot}),[ct]:e=>({payload:{conversationId:kg.getConversationId(e),videoConversationId:kg.getPayload(e).videoConversationId},type:ct}),[st]:e=>({payload:{conversationId:kg.getConversationId(e),videoConversationId:kg.getPayload(e).videoConversationId},type:st}),[lt]:e=>({payload:{status:kg.getPayload(e).status},type:lt}),[ut]:e=>{const{action:t}=kg.getPayload(e);return{payload:{params:t.params,conversationId:kg.getConversationId(e),type:t.actionType},type:ut}},[dt]:e=>{const{shouldReboot:t}=kg.getPayload(e);return{payload:{shouldReboot:t},type:dt}}};function Fg(e){try{const t=kg.getMessageType(e),n=Ug[t];if(n)return n(e)}catch(t){Object(bt.b)(t)}}const Bg=(()=>{const e=new Set;return{add:t=>e.add(t),clear:()=>e.clear(),has:t=>e.has(t)}})(),$g=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t||Object(Zt.d)()?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),Gg=(e,t)=>function(e,t){let n;function a(){n&&n.stop()}try{n=wg(e,t),n.start()}catch{a()}return a}(((t,n,a)=>{let{isFirstCall:r}=a;if(e(Object(In.g)(!t)),t)return;const i=n.filter((e=>!Bg.has(e.id))).map(Fg).filter((e=>!!e)).filter((e=>!r||!(e=>e.type===ot||e.type===at)(e)));e(i),Bg.clear()}),{...t,getLastActiveTimeDifference:$g.getLastActiveTimeDifference});function Vg(){return Wc((e=>{const t=(e=>Tg((t=>{const n=Fg(t);n&&(Bg.add(t.id),e(n))})))(e);return()=>{t()}}))}function Hg(){return Wc((e=>{const t=Gg(e);return()=>{t()}}))}function Wg(){return Wc((e=>{const t=Gg(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const zg=e=>e.type===Es.e,qg=e=>!zg(e);function*Kg(e){try{yield Oc(e.filter(zg).map((e=>hc(e))))}catch(t){Object(bt.b)(t)}}function*Yg(e){try{let t=e.filter(qg);if(Object(f.E)()){const{isConversationPath:e,conversationId:n}=yield Cc(xp.c);t=t.filter((t=>((e,t,n)=>{const a=s()(e.payload,"contextId")||s()(e.payload,"conversationId");return!!t&&(!a||!n||n.startsWith(au.e)||a===n)})(t,e,n)))}u()(t)||(yield hc({type:Es.k,payload:{events:t}}),yield hc(Object(In.e)()))}catch(t){Object(bt.b)(t)}}function*Xg(e){try{const t=ul()(e);yield Oc([yc(Kg,t),yc(Yg,t)])}catch(t){Object(bt.b)(t)}}function*Zg(){try{let t,n;try{t=yield yc(Wg),n=yield Cs(t,Xg),yield pc(Es.a)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Ic(n))}}catch(t){Object(bt.b)(t)}}function*Qg(){try{for(;;){yield pc(Es.b);const[e,t]=yield gc([pc(Es.a),Tc(18e5)]);if(t)break}}catch(e){Object(bt.b)(e)}}function*Jg(){try{let t,n;try{t=yield yc(Hg),n=yield Cs(t,Xg),yield yc(Qg)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Ic(n))}}catch(t){Object(bt.b)(t)}}function*ev(){try{for(;;){yield pc(Es.b);const[e,t]=yield gc([pc(Es.a),Tc(108e5)]);if(t)break}}catch(e){Object(bt.b)(e)}}function*tv(){try{let t,n;for(;;)try{yield gc([pc(Es.i),pc(Es.a)]),t=yield yc(Vg),n=yield Cs(t,Xg),yield yc(ev)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Ic(n))}}catch(t){Object(bt.b)(t)}}function*nv(){try{for(yield gc([pc(Es.h),pc(Es.a)]);;)yield yc(Jg),yield yc(Zg)}catch(e){Object(bt.b)(e)}}function*av(){try{for(;;){const[e,t]=yield gc([pc(Es.a),pc(Es.b)]);$g.setAppActive(!!e)}}catch(e){Object(bt.b)(e)}}function*rv(){try{yield Oc([jc(tv),jc(nv),jc(av)])}catch(e){Object(bt.b)(e)}}var iv=n(24),ov=n.n(iv);var cv=async e=>{let t,{applicationConfig:a,preloadedState:r}=e;try{p.a.reset(),A(C),t=await nn(Object(d.a)()),Qt({handshakeDetails:t}),gn(t.chatUser),a.hasPrompts&&n.e(55).then(n.bind(null,1950)).then((e=>{let{default:n}=e;n(a,t)})),gv(null,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(d.a)(),subscribeToEvent:an,preloadedState:r})}catch(i){const e=on.a.getUserSettings(Object(d.a)());Object(pn.e)(i)&&e&&bn.getOneTimeToken(e)?gv(i,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(d.a)(),subscribeToEvent:an,preloadedState:r}):await rn()}};function*sv(){try{const{payload:{applicationConfig:t}}=yield pc(ps.a);for(;;)try{const{payload:{shouldContinueSession:e}}=yield pc(ps.b);let n;e&&(n=yield Cc(ov.a)),yield cv({applicationConfig:t,preloadedState:n})}catch(e){Object(bt.b)(e)}}catch(e){Object(bt.b)(e)}}function*lv(){try{yield Oc([jc(Xp),jc(ug),jc(nO),jc(lO),jc(NO),jc(YO),jc(ZO),jc(DO),jc(qO),jc(ih),jc(vg),jc(yg),jc(Cg),jc(rv)])}catch(e){Object(bt.b)(e)}}function*uv(){try{yield pc(ps.c),A(S)}catch(e){Object(bt.b)(e)}}function*dv(){try{yield Oc([jc($O),jc(sv),jc(og),jc(eg),jc(uv)])}catch(e){Object(bt.b)(e)}}function*fv(){try{yield jc(dv);const e=yield jc(lv);yield pc(ps.c),yield Ic(e)}catch(e){Object(bt.b)(e)}}function*bv(){yield Oc([jc(Ap),jc(fv)])}const pv=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(new hs).setReducer(Pn.a).setSaga(bv).setPreloadedState(a).setHTTPClient(Fe.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build()};function hv(e){let{applicationConfig:t,store:n,history:a}=e;const r=Object(d.b)().document,i=Object(f.P)()?f.b:f.c;mn.a.render(Object(Cn.jsx)(ao,{applicationConfig:t,history:a,store:n}),i(r,"spr-live-chat-app"))}function Ov(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:r,subscribeToEvent:i}=t;const o=pv(n,a,r),c=Object(ve.b)({isUnauthorized:!!e});Object(Eg.b)(a,n);i((t=>{e||o.dispatch(t)})),hv({applicationConfig:n,store:o,history:c})}function gv(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:r,subscribeToEvent:i,preloadedState:o}=t;const c=pv(n,a,r,o),s=Object(ve.b)({isUnauthorized:!!e,reset:!o});Object(Eg.b)(a,n);i((t=>{e||c.dispatch(t)})),hv({applicationConfig:n,store:c,history:s}),o?s.goBack():s.go(s.entries.length-1)}async function vv(){const e=Object(d.a)();let t,a;try{if(u()(e))throw new Error;await Jt(e),Qt({getSessionToken:()=>Object(Gt.a)(e.appId)});const[r,i]=await(async e=>{const[t,n]=await Promise.allSettled([tn(e),nn(e)]);if("rejected"===t.status||"rejected"===n.status)return[t,n];const a=t.value;if(n.value.chatUser.locale=n.value.chatUser.locale||a.defaultLocale,Object(f.Q)()||!Kt(a))return[t,n];try{var r;const e=null===(r=a.otherConfigs.settings)||void 0===r?void 0:r.autoLoginSSOId;e&&await Yt({ssoId:e})}catch(o){Object(bt.b)(o)}const i=await nn(e);return i.chatUser.locale=i.chatUser.locale||a.defaultLocale,[t,{value:i,status:"fulfilled"}]})(e);if("rejected"===r.status)throw new Error;if(t=r.value,"rejected"===i.status)throw i.reason;a=i.value,((e,t)=>{const{appId:n}=Object(d.a)(),{chatUser:a}=e;!s()(t,"otherConfigs.settings.disableSentry")&&Object(bt.a)()})(a,t),(e=>{const t=!$t.a.isDebugModeDisabled(e.otherConfigs);window.sprDebugLog=function(){t&&console.debug(...arguments)}})(t),Qt({applicationConfig:t,handshakeDetails:a}),t.hasPrompts&&n.e(55).then(n.bind(null,1950)).then((e=>{let{default:n}=e;n(t,a)})),Ov(null,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:an})}catch(r){const n=on.a.getUserSettings(e);Object(pn.e)(r)&&n&&bn.getOneTimeToken(n)?Ov(r,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:an}):await rn()}}const yv=()=>{if(function(){async function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];Lt(b.getQueue(),e,...n)}const t=Object(d.e)();e.q=t?t.q:[],e.loaded=!0,Object(d.b)().sprChat=e}(),Object(f.P)()){const e=Object(f.z)();ya.preload(e)}const e=Object(d.e)();b.addCmdToQueue(b.getQueue(),...e.q),vv();const{meetingId:t,user:n,otp:a}=Object(d.a)(),i=s()(n,"oneTimeToken");u()(t)&&u()(i)&&u()(a)||e("open");const{autoTrigger:c}=Object(d.a)();let l;l=!0===c?0:r()(c)?1e3*Math.max(c,0):null,o()(l)||setTimeout((()=>{e("openNewConversation")}),l)}},269:function(e,t,n){"use strict";n.d(t,"c",(function(){return a.a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(701),r=n(270),i=n(262),o=n(734),c=n(263);const s=e=>{let{url:t,onLoad:n,onError:a,className:s,...l}=e;const u=Object(i.useRef)(null);return Object(i.useEffect)((()=>{u.current&&Object(o.a)({svgContainer:u.current,url:t,onSvgLoad:n,onSvgError:a})}),[t,a,n]),Object(c.jsx)("div",Object(r.a)({ref:u,key:t,id:t},l))},l={OPEN_LINK:"openLink",AUDIO:"audio",ATTACHMENT:"attachment",BOT_USER:"botUser",CAMERA:"camera",CHAT_USER:"chatUser",CHEVRON:"chevron",CLOSE:"close",CLOSE_CIRCLE:"closeCircle",CLOSE_CONVERSATION:"closeConversation",DELETE:"delete",DOCUMENT:"document",UNKNOWN_DOC:"unknownDoc",DOWNLOAD:"download",EMOJI:"emoji",ERROR:"error",EXCEL:"excel",IMAGE_PLACEHOLDER:"imagePlaceholder",INTERNET_DISCONNECTED:"internetDisconnected",MORE:"more",PDF:"pdf",PLAY:"play",PAUSE:"pause",PRESENTATION:"presentation",SEND:"send",SOUND_OFF:"soundOff",SOUND_ON:"soundOn",VIDEO:"video",VIDEO_ON:"videoOn",VIDEO_OFF:"videoOff",AUDIO_ON:"audioOn",AUDIO_OFF:"audioOff",END_CALL:"endCall",FULL_SCREEN:"fullScreen",EXIT_FULL_SCREEN:"exitFullScreen",ONENOTE:"onenote",LINE_LIST:"lineList",TEXT:"text",TIMER:"timer",LANGUAGE:"language",MINIMIZE:"minimize",MAXIMIZE:"maximize",SNACKBAR_SUCCESS:"snackbarSuccess",SNACKBAR_FAILURE:"snackbarFailure",TEXT_TO_SPEECH:"textToSpeech"}},272:function(e,t,n){"use strict";var a=n(262),r=n(572);t.a=function(){return Object(a.useContext)(r.a)}},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(495);function i(){return Object(a.useContext)(r.c).otherConfigs}},278:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262),r=n(415),i=n(267);function o(e){const t=Object(i.c)();return Object(a.useMemo)((()=>Object(r.b)(e,t)),[e,t])}},286:function(e,t,n){"use strict";var a=n(265);t.a=Object(a.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"},messageDeleteDescription:{id:"messageDeleteDescription",defaultMessage:"This message was deleted"},confirmationDialog:{id:"confirmationDialog",defaultMessage:"Confirmation dialog"},close:{id:"close",defaultMessage:"Close"},openChat:{id:"openChat",defaultMessage:"Open chat"}})},287:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(495);function i(){return Object(a.useContext)(r.c)}},292:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return h}));var a=n(714),r=n.n(a),i=n(340),o=n(390);function c(e){return{type:e?i.b:i.d,payload:{}}}function s(){return{type:i.j,payload:{}}}const l=r()(c,!0);r()(c,!1);function u(){return{type:i.g,payload:{}}}function d(e){return{type:i.k,payload:e}}function f(e,t,n){return{type:i.r,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function b(e,t){return{type:i.s,payload:{userPreferenceKey:e,value:t}}}const p=e=>({type:o.c,payload:e}),h=e=>{let{value:t}=e;return{type:i.o,payload:{value:t}}}},294:function(e,t,n){"use strict";var a=n(262),r=n(302),i=n.n(r),o=n(7),c=n.n(o),s=n(116),l=n.n(s),u=n(272),d=n(475);t.a=()=>{const{locale:e,language:t}=Object(u.a)();return Object(a.useCallback)(((n,a)=>{const r=l()(n,"langVsTranslatedFieldValues");if(!c()(r))return l()(n,a);let o=l()(r,e)||l()(r,t);return o||(o=i()(r,((e,n)=>Object(d.b)(n)===t))),l()(o,a)||l()(n,a)}),[e,t])}},296:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(262);const r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.useCallback)((e=>{t.forEach((t=>{t&&("function"===typeof t?t(e):t.current=e)}))}),[...t])}},298:function(e,t,n){"use strict";var a=n(262),r=n(1315);t.a=function(){return Object(a.useContext)(r.a)}},301:function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1984),r=n(1882);const i=Object(a.a)("field"),o=Object(a.a)("values"),c=Object(a.a)("filterType"),s=Object(a.a)("filters"),l=Object(a.a)("details"),u=Object(a.a)("id");class d{}d.getField=Object(r.a)(i),d.getValues=Object(r.a)(o),d.getFilterType=Object(r.a)(c),d.getFilters=Object(r.a)(s),d.getDetails=Object(r.a)(l),d.getId=Object(r.a)(u)},324:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var a=n(1984),r=n(1964),i=n(1882);const o=Object(a.a)("conversationScreen"),c=Object(a.a)("callScreen"),s=Object(a.a)("videoCall"),l=Object(a.a)("audioCall"),u=Object(a.a)("settings"),d=Object(a.a)("trigger"),f=Object(a.a)("proactivePrompt"),b=Object(a.a)("minimizeChatBoxOnCloseInPhone"),p=Object(a.a)("header"),h=Object(a.a)("label"),O=Object(a.a)("openInFullScreen"),g=Object(a.a)("label"),v=Object(a.a)("defaultHidden"),y=Object(a.a)("initiallyHidden"),j=Object(a.a)("hideWhenOpen"),m=Object(a.a)("canManuallyRemove"),I=Object(a.a)("invisibilityCriteria"),C=Object(a.a)("animation"),E=Object(a.a)("contactDetailsMessage"),T=Object(a.a)("maximumOpenConversations"),S=Object(a.a)("autoLoginSSOId"),_=Object(a.a)("hour12"),A=Object(a.a)("enableWatermark"),x=Object(a.a)("disableDebugMode"),w=Object(a.a)("externalLocaleData"),R=Object(a.a)("homeScreen"),N=Object(a.a)("conversationCard"),P=Object(a.a)("hideWavingHandIcon"),L=Object(a.a)("shouldShow"),M=Object(a.a)("agents"),D=Object(a.a)("button"),k=Object(a.a)("enableIndividualMessageDismissal"),U=Object(a.a)("infoCard"),F=Object(a.a)("existingConversationCard"),B=Object(a.a)("showHeader");class ${}$.getDefaultMessages=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.lastMessage},$.getWaitTimeConfig=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.waitTimeConfig},$.getSurveyActionsToShowByVariant=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.surveyScreen)||void 0===t?void 0:t.actionsToShowByVariant},$.getActionsToShowByVariant=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionsToShowByVariant},$.getConversationActionOnPageCloseByScope=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionOnPageCloseByScope},$.shouldShowAgentInitial=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.showAgentInitial},$.shouldShowSenderNameInConversationScreen=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.showSenderName},$.getFooterActionsToShow=e=>{var t,n;return null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.actionsToShow},$.getActionOnPageCloseByScope=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.actionOnPageCloseByScope},$.getAnalyticsSettings=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.analyticsSettings},$.hour12Enabled=Object(r.a)(Object(i.a)(_),Object(i.a)(u)),$.conversationTagsEnabled=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.conversationTagsEnabled},$.showCaseNumberEnabled=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.showCaseNumber},$.isSprinklrAnalyticsEnabled=e=>{var t,n,a;return null===(a=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.sprinklrAnalytics)||void 0===a?void 0:a.enabled},$.getGoogleTrackerId=e=>{var t,n,a;return null===(a=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.googleAnalytics)||void 0===a?void 0:a.trackerId},$.getMaximumOpenConversations=Object(r.a)(Object(i.a)(T),Object(i.a)(u)),$.getDisableManualNewConversation=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.disableManualNewConversation},$.getUserPreferences=Object(i.a)(u),$.getContactDetailsMessage=Object(r.a)(Object(i.a)(E),Object(i.a)(o)),$.getTriggerConfig=Object(i.a)(d),$.getInvisibilityCriteriaOfTrigger=Object(r.a)(Object(i.a)(I),$.getTriggerConfig),$.getAnimationInfoOfTrigger=Object(r.a)(Object(i.a)(C),$.getTriggerConfig),$.getTriggerLabel=Object(r.a)(Object(i.a)(g),$.getTriggerConfig),$.isChatTriggerHidden=Object(r.a)(Object(i.a)(v),Object(i.a)(d)),$.isChatTriggerInitiallyHidden=Object(r.a)(Object(i.a)(y),Object(i.a)(d)),$.isTriggerHiddenWhenMaximised=Object(r.a)(Object(i.a)(j),Object(i.a)(d)),$.canTriggerBeManuallyRemoved=Object(r.a)(Object(i.a)(m),Object(i.a)(d)),$.getAutoLoginSSOId=Object(r.a)(Object(i.a)(S),Object(i.a)(u)),$.isWatermarkEnabled=Object(r.a)(Object(i.a)(A),Object(i.a)(u)),$.isDebugModeDisabled=Object(r.a)(Object(i.a)(x),Object(i.a)(u)),$.getExternalLocaleData=Object(r.a)(Object(i.a)(w),Object(i.a)(u)),$.shouldHideWavingHandIcon=Object(r.a)(Object(i.a)(P),Object(i.a)(N),Object(i.a)(R)),$.shouldShowAgents=Object(r.a)(Object(i.a)(L),Object(i.a)(M),Object(i.a)(N),Object(i.a)(R)),$.getAgents=Object(r.a)(Object(i.a)(M),Object(i.a)(N),Object(i.a)(R)),$.shouldShowHeaderInExistingConversationCard=Object(r.a)(Object(i.a)(B),Object(i.a)(F),Object(i.a)(R)),$.isMinimizeOnCloseInPhoneForVideoCall=Object(r.a)(Object(i.a)(b),Object(i.a)(s)),$.getNewConversationButton=Object(r.a)(Object(i.a)(D),Object(i.a)(N),Object(i.a)(R)),$.isMinimizeOnCloseInPhoneForAudioCall=Object(r.a)(Object(i.a)(b),Object(i.a)(l)),$.shouldCallOpenInFullScreen=Object(r.a)(Object(i.a)(O),Object(i.a)(c)),$.getVideoCallHeaderLabel=Object(r.a)(Object(i.a)(h),Object(i.a)(p),Object(i.a)(s)),$.getAudioCallHeaderLabel=Object(r.a)(Object(i.a)(h),Object(i.a)(p),Object(i.a)(l)),$.getPromptEnableIndividualMessageDismissal=Object(r.a)(Object(i.a)(k),Object(i.a)(f)),$.getChatMessageComposerMaxCharacters=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.maxCharacters},$.getChatMessageComposerSendButton=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.sendButton},$.shouldHideOnDisableManualResponse=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.hideOnDisableManualResponse},$.getInfoCard=Object(r.a)(Object(i.a)(U),Object(i.a)(o))},328:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"s",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"B",(function(){return h})),n.d(t,"A",(function(){return O})),n.d(t,"w",(function(){return g})),n.d(t,"v",(function(){return v})),n.d(t,"t",(function(){return y})),n.d(t,"u",(function(){return j})),n.d(t,"x",(function(){return m})),n.d(t,"y",(function(){return I})),n.d(t,"o",(function(){return C})),n.d(t,"l",(function(){return E})),n.d(t,"n",(function(){return T})),n.d(t,"E",(function(){return S})),n.d(t,"C",(function(){return _})),n.d(t,"D",(function(){return A})),n.d(t,"F",(function(){return x})),n.d(t,"z",(function(){return w})),n.d(t,"k",(function(){return R})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return P})),n.d(t,"q",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"r",(function(){return D})),n.d(t,"m",(function(){return k})),n.d(t,"j",(function(){return U}));var a=n(316),r=n(474),i=n(645),o=n(305);const c=function(){let{shouldFetchNumberOfOpenConversation:e=!1,size:t,cursor:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:{shouldFetchNumberOfOpenConversation:e,size:t,cursor:n},type:a.f}},s=(e,t)=>{let{cursor:n,size:r}=t;return t=>({payload:{conversationId:e,cursor:n,size:r},type:a.l,promise:t})},l=e=>{let{conversationId:t,query:n,faqAttachment:r,locale:i}=e;return e=>({payload:{conversationId:t,query:n,faqAttachment:r,locale:i},type:a.B,promise:e})},u=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:a.i,promise:e})},d=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:a.h,promise:e})},f=e=>({type:a.j,payload:e}),b=e=>t=>({payload:{conversationId:e},type:a.o,promise:t}),p=e=>({type:a.I,payload:{chatMessage:e,conversationId:o.a.getConversationId(e)}}),h=e=>{let{text:t,conversationId:n,sender:r,disableManualResponse:i,inReplyToChatMessageId:o,maskingDetails:c}=e;return{type:a.ab,payload:{text:t,conversationId:n,sender:r,disableManualResponse:i,inReplyToChatMessageId:o,maskingDetails:c}}},O=e=>{let{postback:t,conversationId:n,sender:r,inReplyToChatMessageId:i}=e;return e=>({type:a.Z,payload:{postback:t,conversationId:n,sender:r,inReplyToChatMessageId:i},promise:e})},g=e=>({type:a.A,payload:e}),v=e=>{let{action:t,conversationId:n,callback:o}=e;const c=Object(i.a)(t.actionId,t.attachment),s=Object(i.c)(t);return(e=>({type:a.y,payload:e}))({type:r.c,payload:{contextId:n,actionId:c.externalCallParams,actionPayload:s},callback:o})},y=e=>{let{action:t,conversationId:n}=e;const a=Object(i.a)(t.actionId,t.attachment);return g({type:r.a,payload:{contextId:n,actionId:a.params,actionPayload:t.values}})},j=e=>{let{action:t,conversationId:n}=e;const a=Object(i.a)(t.actionId,t.attachment);return g({type:r.b,payload:{contextId:n,actionId:a.params,actionPayload:t.values}})},m=e=>{let{id:t,conversationId:n,messageId:a}=e;return g({type:r.f,payload:{id:t,contextId:n,sprMsgId:a}})},I=e=>{let{id:t,conversationId:n,messageId:a}=e;return g({type:r.h,payload:{id:t,contextId:n,sprMsgId:a}})},C=e=>{let{attachment:t,actionId:n}=e;return e=>{const r=Object(i.a)(n,t);return{type:a.R,payload:{url:r.url,target:r.target},promise:e}}},E=e=>{let{attachment:t,actionId:n}=e;return e=>{const r=Object(i.a)(n,t);return{type:a.p,payload:{phoneNumber:r.phoneNumber},promise:e}}},T=e=>{let{surveyUrl:t,shouldReplace:n,conversationId:r}=e;return{type:a.V,payload:{surveyUrl:t,shouldReplace:n,conversationId:r}}},S=()=>({type:a.X,payload:{}}),_=()=>({type:a.U,payload:{}}),A=()=>({type:a.Y,payload:{}}),x=e=>{let{actionParams:t,conversationId:n,sender:r,appContext:o,inReplyToChatMessageId:c}=e;return e=>({type:a.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(i.b)(t)}),conversationId:n,sender:r,appContext:o,inReplyToChatMessageId:c},promise:e})},w=e=>{let{postback:t,conversationId:n,sender:r,inReplyToChatMessageId:i}=e;return{type:a.S,payload:{postback:t,conversationId:n,sender:r,inReplyToChatMessageId:i}}},R=(e,t)=>n=>({type:a.L,payload:{conversationId:e,appContext:t},promise:n}),N=e=>{let{conversationId:t,externalCaseId:n}=e;return{type:a.v,payload:{conversationId:t,externalCaseId:n}}},P=(e,t,n)=>({type:a.s,payload:{conversationId:t,caseId:e,context:n}}),L=(e,t)=>({type:a.E,payload:{chatMessage:e,conversationId:o.a.getConversationId(e),alternateUserIds:t}}),M=(e,t)=>n=>({type:a.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}),D=(e,t)=>({type:a.F,payload:{chatMessageId:t,conversationId:e}});function k(e,t){return{type:a.P,payload:{conversationId:e,lastReadMessageId:t}}}function U(){return{type:a.C,payload:{}}}},331:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"j",(function(){return O}));const a="unreadCountChanged",r="externalEventTriggered",i="externalCallback",o="loaded",c="loadCompleted",s="closed",l="availabilityChanged",u="promptActionTriggered",d="mediaShown",f="mediaClosed",b="eventTriggered",p="registerDeviceTriggered",h="unregisterDeviceTriggered",O="onPermissionSeeked"},332:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(1036);function i(){return Object(a.useContext)(r.a)}},336:function(e,t,n){"use strict";var a=n(262);const r={childList:!0,subtree:!0,attributes:!0};t.a=(e,t)=>{const[n,i]=Object(a.useState)();Object(a.useLayoutEffect)((()=>{const a=[];if(n){if(e.MutationObserver){const i=new e.MutationObserver(t);i.observe(n,r),a.push((()=>i.disconnect()))}else e.document.addEventListener("DOMSubtreeModified",t),a.push((()=>e.document.removeEventListener("DOMSubtreeModified",t)));a.push((()=>e.removeEventListener("resize",t)),(()=>e.document.removeEventListener("transitionend",t)))}return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&i(e)}),[])}},342:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(1052);const i=()=>Object(a.useContext)(r.a)},346:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var a=n(262),r=n.n(a),i=n(291),o=n.n(i),c=n(730),s=n.n(c),l=n(263);const u={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},d=r.a.createContext({notification:void 0,setNotification:o.a}),f=e=>{const[t,n]=Object(a.useState)(void 0),r=s()(),i=Object(a.useCallback)((e=>{r()&&n(e)}),[r]),o=Object(a.useMemo)((()=>({notification:t,setNotification:i})),[t,i]);return Object(l.jsx)(d.Provider,{value:o},e.children)};t.c=d},362:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(270),r=n(262),i=n.n(r),o=n(273),c=n.n(o),s=n(289),l=n(269),u=n(264),d=n(263),f=n(268);const b=Object(u.a)("button",{target:"e1hw652w0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",f.m,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),p={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"};var h=i.a.forwardRef(((e,t)=>{const{iconName:n,iconCss:i,Icon:o,onLoad:u,onClick:f,...h}=e,{isKeyboardEventLast:O}=Object(s.a)(),g=Object(r.useCallback)((e=>{O||e.currentTarget.blur(),f&&f(e)}),[O,f]),v=Object(r.useMemo)((()=>i?[p,i]:[p]),[i]);return Object(d.jsx)(b,Object(a.a)({},h,{ref:t,className:c()("center-x-y",e.className),onClick:g}),Object(d.jsx)(l.c,{alt:o,name:n,css:v,onLoad:u,"aria-hidden":!0,focusable:!1}),e.children)}))},365:function(e,t,n){"use strict";var a=n(796);const r=new(n(712).a);r.on((e=>{const{topic:t,payload:n={},callback:r}=e;t&&Object(a.a)({topic:t,payload:{response:{data:n.data,error:n.error},request:n.request,shouldLogEvent:n.shouldLogEvent},callback:r})})),t.a=function(e){r.emit(e)}},368:function(e,t,n){"use strict";var a=n(262),r=n(346);t.a=function(){return Object(a.useContext)(r.c)}},382:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(116),r=n.n(a),i=n(1984),o=n(1882),c=n(1964);const s=Object(i.a)("otherConfigs"),l=Object(i.a)("workQueueId"),u=Object(i.a)("cards"),d=Object(i.a)("partnerId"),f=Object(i.a)("name"),b=Object(i.a)("id"),p=Object(i.a)("accountUserId"),h=Object(i.a)("filter"),O=Object(i.a)("visibilityConfig"),g=Object(i.a)("noDisplayConfig"),v=Object(i.a)("triggerAnimationConfig"),y=Object(i.a)("defaultLocale"),j=Object(i.a)("supportedLocales"),m=Object(i.a)("callConfiguration"),I=Object(i.a)("autoExpireUserSessionTimeInMinutes");class C{}C.getCustomizationConfig=Object(o.a)(s),C.getWorkQueueId=Object(o.a)(l),C.getCards=Object(o.a)(u),C.getParnterId=Object(o.a)(d),C.getAppId=Object(o.a)(b),C.getAccountUserId=Object(o.a)(p),C.getVisibilityConfigFilter=Object(c.a)(Object(o.a)(h),Object(o.a)(O)),C.getNoDisplayConfigFilter=Object(c.a)(Object(o.a)(h),Object(o.a)(g)),C.getTriggerAnimationConfigFilter=Object(c.a)(Object(o.a)(h),Object(o.a)(v)),C.getDefaultLocale=Object(o.a)(y),C.getSupportedLocales=Object(o.a)(j),C.getAccountDisplayName=Object(o.a)(f),C.getCallConfiguration=Object(o.a)(m),C.getAutoExpireUserSessionTimeInMinutes=Object(o.a)(I),C.getAudioCallConfiguration=e=>{const t=C.getCallConfiguration(e);return r()(t,"audioConfig")||e.audioChatConfiguration},C.getVideoCallConfiguration=e=>{const t=C.getCallConfiguration(e);return r()(t,"videoConfig")||e.videoChatConfiguration},C.getCallAccountId=e=>{const t=C.getCallConfiguration(e);return r()(t,"accountId")||e.videoChatProviderAccountId}},383:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));n(494),n(434);const a=/^https?:\/\//i,r=e=>e.match(a)?e:`https://${e}`,i=e=>`tel:${e}`,o=e=>e.map((e=>`${e.key}=${e.value}`)).join("&"),c=e=>!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www")),s=(e,t)=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.set(e.key,e.value)})),n.toString()}},384:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return f}));var a=n(366),r=n(639);const i=e=>{let{ssoId:t,conversationId:n,messageId:r}=e;return e=>({type:a.d,payload:{ssoId:t,conversationId:n,messageId:r},promise:e})};function o(){return{type:a.h,payload:{}}}function c(e){return{type:a.e,payload:{status:e?r.a.CONNECTED:r.a.DISCONNECTED}}}function s(e){let{waitTime:t,reason:n}=e;return{type:a.j,payload:{waitTime:t,reason:n}}}function l(){return{type:a.m,payload:{}}}function u(e){return{type:a.g,payload:e}}function d(){return{type:a.f,payload:{}}}function f(){return{type:a.i,payload:{}}}},394:function(e,t,n){"use strict";var a=n(1046),r=n(262);t.a=function(){return Object(r.useContext)(a.a)}},396:function(e,t,n){"use strict";var a=n(328);n.d(t,"a",(function(){return a.f})),n.d(t,"b",(function(){return a.g})),n.d(t,"c",(function(){return a.h})),n.d(t,"d",(function(){return a.l})),n.d(t,"e",(function(){return a.n})),n.d(t,"f",(function(){return a.o})),n.d(t,"g",(function(){return a.q})),n.d(t,"h",(function(){return a.r})),n.d(t,"i",(function(){return a.t})),n.d(t,"j",(function(){return a.u})),n.d(t,"k",(function(){return a.v})),n.d(t,"l",(function(){return a.w})),n.d(t,"m",(function(){return a.x})),n.d(t,"n",(function(){return a.y})),n.d(t,"o",(function(){return a.z})),n.d(t,"p",(function(){return a.A})),n.d(t,"q",(function(){return a.C})),n.d(t,"r",(function(){return a.D})),n.d(t,"s",(function(){return a.E})),n.d(t,"t",(function(){return a.F}));n(859)},397:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"x",(function(){return u})),n.d(t,"q",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"u",(function(){return y})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return m})),n.d(t,"w",(function(){return I})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return E})),n.d(t,"p",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"k",(function(){return _}));var a=n(587);function r(e){return{type:a.g,payload:e}}function i(e){return{type:a.h,payload:e}}function o(e){return{type:a.m,payload:e}}function c(e){return{type:a.t,payload:e}}function s(e){return{type:a.i,payload:e}}function l(e){return{type:a.p,payload:e}}function u(e){return{type:a.y,payload:e}}function d(e){return{type:a.w,payload:e}}function f(e){return{type:a.c,payload:e}}function b(e){return{type:a.d,payload:e}}function p(e){return{type:a.f,payload:e}}function h(e){return{type:a.e,payload:e}}function O(e){return{type:a.n,payload:e}}function g(e){return{type:a.b,payload:e}}function v(e){return{type:a.o,payload:e}}function y(e){return{type:a.l,payload:e}}function j(e){return{type:a.s,payload:e}}function m(e){return{type:a.u,payload:e}}function I(e){return{type:a.a,payload:e}}function C(e){return{type:a.j,payload:e}}function E(e){return{type:a.q,payload:e}}function T(e){return{type:a.v,payload:e}}function S(e){return{type:a.k,payload:e}}function _(e){return{type:a.r,payload:e}}},410:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",USER_IP_DETAILS_COUNTRY:"userIPDetails.countryLong",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},417:function(e,t,n){"use strict";var a=n(262);const r="DATA_LOADING",i="DATA_LOADED",o="DATA_LOAD_FAILED",c={loading:!1,error:void 0,data:void 0},s=(e,t)=>{switch(t.type){case r:return{...e,loading:!0,data:void 0,error:void 0};case i:return{...e,loading:!1,data:t.payload};case o:return{...e,loading:!1,error:t.payload};default:return e}};var l=()=>Object(a.useReducer)(s,c),u=n(293),d=n(319);t.a=(e,t)=>{let{onSuccess:n,onFailure:o,ignoreResults:c}=t;const s=Object(a.useRef)(0),[f,b]=l(),p=u.a.getType(e),h=u.a.getUrl(e),O=Object(a.useCallback)((()=>(s.current+=1,s.current)),[]),g=Object(a.useCallback)((e=>s.current===e),[]);return[Object(a.useCallback)((async e=>{const t=O();try{b({type:r,payload:{}});const a=await d.a[p](h,e);return g(t)&&b({type:i,payload:c?a.data:void 0}),n&&n(a.data),a.data}catch(a){throw o&&o(a),g(t)&&b({type:i,payload:void 0}),a}}),[p,h,O,g]),f]}},421:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={INCORRECT_PAYLOAD:"INCORRECT_PAYLOAD",NETWORK_FAILURE:"NETWORK_FAILURE",CHAT_UNAVAILABLE:"CHAT_UNAVAILABLE"}},423:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return g}));var a=n(364),r=n.n(a),i=n(69),o=n.n(i),c=n(42),s=n.n(c),l=n(67),u=n.n(l),d=n(303),f=n(410);const b=(e,t)=>{const n=d.a.getField(e);if(n)return n===t;let a=!1;return o()(d.a.getFilters(e),(e=>!b(e,t)||(a=!0,!1))),a},p=e=>!!e&&!!e.match(/PROFILE\.(\w+)/),h=e=>p(e)?e.match(/PROFILE\.(\w+)/)[1]:"",O=e=>{let{currentValueMap:t,filter:n}=e;const a=d.a.getField(n);return a&&p(a)?t[f.a.PROFILE_CUSTOM_FIELD](n):s()(t[a])?t[a](n):t[a]},g=e=>{var t,n;if(e)return(null===e||void 0===e?void 0:e.filters)?Object.assign(Object.assign({},e),{details:Object.assign({id:r()()},null!==(n=null===e||void 0===e?void 0:e.details)&&void 0!==n?n:{}),filters:u()(null===e||void 0===e?void 0:e.filters,(e=>g(e)))}):Object.assign(Object.assign({},e),{details:Object.assign({id:r()()},null!==(t=null===e||void 0===e?void 0:e.details)&&void 0!==t?t:{})})}},424:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={CONVERSATION:"CONVERSATION",CONVERSATION_LIST:"CONVERSATION_LIST",HOME:"HOME",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",KNOWLEDGE_BASE_LIST:"KNOWLEDGE_BASE_LIST",SURVEY:"SURVEY",GUIDED_WORKFLOW:"GUIDED_WORKFLOW",401:"401",LOGOUT:"LOGOUT"}},425:function(e,t,n){"use strict";n.d(t,"f",(function(){return T})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return x})),n.d(t,"g",(function(){return w})),n.d(t,"d",(function(){return R}));n(40);var a=n(116),r=n.n(a),i=n(302),o=n.n(i),c=n(350),s=n.n(c),l=n(1491),u=n.n(l),d=n(69),f=n.n(d),b=n(479),p=n(324),h=n(391),O=n(279),g=n(285),v=n(453),y=n(392),j=n(71),m=n(0);const I=/^CASE_(\w+)/,C=/^CONVERSATION_(\w+)/,E=e=>e&&!!e.match(C),T=e=>e&&!!e.match(I),S=e=>T(e)?e.match(I)[0].split("_")[1]:void 0;function _(e,t,n){const a=Object(O.e)(e),i=Object(g.q)(Object(O.c)(e)),o=Object(h.a)(a),c=Object(h.d)(a),l=p.a.getMaximumOpenConversations(t),u=r()(l,"limit"),d=Object(g.v)(i),f=!!u&&!s()(d)&&u<=d,b=!!r()(l,"replaceNewConversationButton");let v;return o?v=c:f&&(v=b?void 0:n(l,"label")),{isLocked:o||f,lockReason:v}}const A=(e,t)=>{const n=o()(y.a.getReadStatusList(e),(e=>e.userId===t));return r()(n,"unreadCount",0)},x=e=>{const t=Object(O.c)(e),n=Object(g.q)(t),a=Object(v.b)().location.pathname,r=Object(b.a)(a,{path:"/conversation/:conversationId/:transientId?"});if(!r)return{isConversationPath:!1,conversationId:void 0};const i=null===r||void 0===r?void 0:r.params.conversationId,o=null===r||void 0===r?void 0:r.params.transientId;if("survey"===o)return{isConversationPath:!0,conversationId:i};if("all"===i)return{isConversationPath:!1,conversationId:void 0};if("new"===i)return{isConversationPath:!0,conversationId:o||j.e};if("last"===i){return{isConversationPath:!0,conversationId:Object(g.b)(n)?Object(g.e)(Object(g.w)(t))||j.e:void 0}}if(E(i))return{isConversationPath:!0,conversationId:i};const c=S(i);return T(i)&&c?{isConversationPath:!0,conversationId:Object(g.j)(n,c)}:{isConversationPath:!0,conversationId:i}},w=(e,t)=>-1===u()(Object(g.r)(e),t),R=e=>{const t=e.chatConversations.conversations.byId;let n=e.chatConversations.conversations.ids;if(Object(m.E)()){const{conversationId:t}=x(e);if(!t)return!1;n=[t]}let a=!1;return f()(n,(e=>{if(!t[e].closed&&!t[e].deleted&&t[e].agentAssigned)return a=!0,!1})),a}},431:function(e,t,n){"use strict";var a=n(262),r=n(1031),i=n(573),o=n(303);var c=()=>{const{subscribe:e,getValue:t}=Object(i.a)();return{subscribe:Object(a.useCallback)(((t,n)=>{const a=o.a.getId(t);return e(a,n)}),[e]),getValue:t}},s=n(299),l=n.n(s),u=n(301),d=n.n(u),f=n(116),b=n.n(f),p=n(325),h=n.n(p),O=n(69),g=n.n(O),v=n(473),y=n.n(v),j=(n(270),n(1033));n(263);var m=function(){return Object(a.useContext)(j.b)},I=n(304);const C=(e,t)=>(h()(b()(e,t))||I.a).startTime||0,E=e=>{let{startTime:t,expectedElapsedTime:n,onTimeout:a}=e;const r=n-(t?Date.now()-t:0);let i;return r>0&&(i=window.setTimeout((()=>{a()}),r)),i};var T=()=>{const{pagesMetaData:e,currentPageUrl:t}=m(),n=Object(a.useRef)(C(e,t));n.current=C(e,t);const r=Object(a.useRef)({}),i=Object(a.useCallback)(((e,t)=>{const a=o.a.getId(e),i=d()(o.a.getValues(e));return r.current={...r.current,[a]:{timeoutId:E({startTime:n.current,expectedElapsedTime:i,onTimeout:t}),onChangeCallback:t,filterValue:i}},()=>{clearTimeout(b()(r.current,`${a}.timeoutId`)),r.current=l()(r.current,a)}}),[]);y()((()=>{g()(r.current,(e=>{const{timeoutId:t,onChangeCallback:a,filterValue:r}=e;clearTimeout(t),a(),e.timeoutId=E({startTime:n.current,expectedElapsedTime:r,onTimeout:a})}))}),[t]);return{subscribe:i,getValue:Object(a.useCallback)((()=>n.current?Date.now()-n.current:0),[])}},S=n(267),_=n(588),A=n.n(_),x=n(67),w=n.n(x),R=n(350),N=n.n(R),P=n(285),L=n(275),M=n(278),D=n(328),k=n(384);const U=e=>Object(P.v)(Object(P.q)(Object(L.c)(e))),F={fetchOpenConversationCount:D.j,initPusherConnection:k.e};var B=()=>{const e=Object(a.useRef)(),t=Object(a.useRef)({}),{fetchOpenConversationCount:n,initPusherConnection:r}=Object(M.a)(F),i=Object(S.d)(U);e.current=i;const c=A()(i);Object(a.useEffect)((()=>{N()(e.current)&&n()}),[]),y()((()=>{w()(t.current,(e=>{e()}))}),[e.current]),y()((()=>{N()(c)&&i&&r()}),[i,c,r]);return{subscribe:Object(a.useCallback)(((e,n)=>{const a=o.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=l()(t.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e.current),[])}},$=n(457),G=n(409);var V=()=>{const e=Object(a.useRef)(0),t=Object($.a)();e.current=G.a.getTimeToAvailability(t);const n=Object(a.useRef)({}),r=Object(a.useCallback)((()=>e.current),[]);return{subscribe:Object(a.useCallback)(((t,a)=>{const r=o.a.getId(t),i=b()(t,"details.timeToBusinessHours");let c,s=-1;return!N()(i)&&i>0?s=i:!N()(e.current)&&e.current>0&&(s=e.current),s>=0&&(c=window.setTimeout(a,s)),n.current={...n.current,[r]:c},()=>{clearTimeout(b()(n.current,`${r}.timeoutId`)),n.current=l()(n.current,r)}}),[]),getValue:r}},H=n(291),W=n.n(H),z=n(23),q=n.n(z),K=(n(280),n(319)),Y=n(1034);const X=new class{constructor(){this.subscribers={},this.filterPoller=void 0,this.visibilitychangeHandler=()=>{var e;if(document.hidden)null===(e=this.filterPoller)||void 0===e||e.stop();else if(Object.keys(this.subscribers).length>0){var t;null===(t=this.filterPoller)||void 0===t||t.start()}},this.startPolling=()=>{var e;window.document.addEventListener("visibilitychange",this.visibilitychangeHandler),null===(e=this.filterPoller)||void 0===e||e.start()},this.stopPolling=()=>{var e;window.document.removeEventListener("visibilitychange",this.visibilitychangeHandler),null===(e=this.filterPoller)||void 0===e||e.stop()},this.subscribe=(e,t)=>{const n=e.id;return this.subscribers[n]={cb:t,filter:{field:e.field,filterType:e.filterType,details:e.details}},1===Object.keys(this.subscribers).length&&this.startPolling(),()=>{delete this.subscribers[n],0===Object.keys(this.subscribers).length&&this.stopPolling()}},this.subscribers={};this.filterPoller=new Y.a((async()=>{try{const{data:e}=await K.a.post("livechat/conversation/process-filters",{filterDetails:Object.keys(this.subscribers).reduce(((e,t)=>(e.push({id:t,filter:this.subscribers[t].filter}),e)),[])},{headers:{"x-chat-auto":!0}});Object.keys(e).forEach((t=>{this.subscribers[t].cb(e[t])}))}catch(e){}}),{pollInterval:15e3})}};var Z=Object.freeze(X),Q=n(274),J=n(1035);const ee=(()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n}}})(),te=e=>{var t,n;const r=null===(t=Object(Q.a)().settings)||void 0===t||null===(n=t.filterPoll)||void 0===n?void 0:n.enable;Object(J.a)({route:"/logout"},(()=>{Z.stopPolling()}));return{getValue:Object(a.useCallback)((()=>e=>ee.get(e.id)),[]),subscribe:Object(a.useCallback)(((t,n)=>{q()(ee.get(t.id))&&ee.set(t.id,e(t));const a=r?Z.subscribe(t,(a=>{const r=e({details:a});ee.get(t.id)!==r&&(ee.set(t.id,r),n())})):W.a;return()=>{a()}}),[r])}};var ne=()=>{const e=Object($.a)(),t=G.a.getNoOfAgentsAvailable(e),n=Object(a.useCallback)((e=>{var n,a;return null!==(n=null===(a=e.details)||void 0===a?void 0:a.noOfAgentsAvailable)&&void 0!==n?n:t}),[t]);return te(n)};var ae=()=>{const e=Object($.a)(),t=G.a.getNumberOfPendingCases(e),n=Object(a.useCallback)((e=>{var n,a;return null!==(n=null===(a=e.details)||void 0===a?void 0:a.numberOfPendingCases)&&void 0!==n?n:t}),[t]);return te(n)},re=n(385);var ie=()=>{const{device:e}=Object(re.a)(),t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,y()((()=>{w()(t.current,(e=>{e()}))}),[n.current]);const r=Object(a.useCallback)(((e,n)=>{const a=o.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=l()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((()=>n.current),[]),subscribe:r}},oe=n(410);const ce="city",se="countryLong",le="region";var ue=()=>{const e=Object(a.useRef)(),t=Object($.a)();e.current=G.a.getUserIPDetails(t);const n=Object(a.useRef)({});y()((()=>{w()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=o.a.getId(e);return n.current={...n.current,[a]:t},()=>{n.current=l()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>t=>{const n=o.a.getField(t),a=e.current;switch(n){case oe.a.USER_IP_DETAILS_CITY:return null===a||void 0===a?void 0:a[ce];case oe.a.USER_IP_DETAILS_COUNTRY:return null===a||void 0===a?void 0:a[se];case oe.a.USER_IP_DETAILS_REGION:return null===a||void 0===a?void 0:a[le];default:return}}),[])}},de=n(423),fe=n(2),be=n(0);var pe=()=>{const e=Object(fe.a)(),t=Object(a.useRef)(e.userContext),n=Object(a.useRef)({}),r=Object(a.useCallback)((e=>{t.current=e,w()(n.current,(e=>{e()}))}),[]);Object(a.useEffect)((()=>(Object(be.T)("userContext",r),()=>{Object(be.U)("userContext",r)})),[]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=e.id;return n.current={...n.current,[a]:t},()=>{n.current=l()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e=>{var n,a;const r=e.field,i=Object(de.b)(r);return null===(n=t.current)||void 0===n||null===(a=n[i])||void 0===a?void 0:a[0]}),[])}},he=n(1037),Oe=n(1039),ge=n(337);var ve=()=>{const{getValue:e,subscribe:t}=c(),{getValue:n,subscribe:r}=T(),{getValue:i,subscribe:s}=B(),{getValue:l,subscribe:u}=V(),{getValue:d,subscribe:f}=ne(),{getValue:b,subscribe:p}=ae(),{getValue:h,subscribe:O}=ie(),{getValue:g,subscribe:v}=ue(),{getValue:y,subscribe:j}=pe(),{getValue:m,subscribe:I}=Object(he.a)(),{getValue:C,subscribe:E}=Object(Oe.a)();return{getValue:Object(a.useCallback)((()=>({[oe.a.CURRENT_URL]:e(),[oe.a.TOTAL_TIME_SPENT]:n(),[oe.a.IS_CONVERSATION_OPEN]:i(),[oe.a.AVAILABLE_AGENTS]:d(),[oe.a.AGENT_OUT_OF_CAPACITY]:b(),[oe.a.BUSINESS_HOURS]:l(),[oe.a.DEVICE_TYPE]:h(),[oe.a.USER_IP_DETAILS_CITY]:g(),[oe.a.USER_IP_DETAILS_COUNTRY]:g(),[oe.a.USER_IP_DETAILS_REGION]:g(),[oe.a.USER_AGENT]:Object(ge.e)(),[oe.a.PROFILE_CUSTOM_FIELD]:y(),[oe.a.VERTICAL_PAGE_SCROLL_DEPTH]:m(),[oe.a.HORIZONTAL_PAGE_SCROLL_DEPTH]:C()})),[e,n,i,l,d,b,h,g,y,m,C]),subscribe:Object(a.useCallback)(((e,n)=>{if(Object(de.e)(o.a.getField(e)))return j(e,n);switch(o.a.getField(e)){case oe.a.TOTAL_TIME_SPENT:return r(e,n);case oe.a.CURRENT_URL:return t(e,n);case oe.a.IS_CONVERSATION_OPEN:return s(e,n);case oe.a.AVAILABLE_AGENTS:return f(e,n);case oe.a.AGENT_OUT_OF_CAPACITY:return p(e,n);case oe.a.BUSINESS_HOURS:return u(e,n);case oe.a.DEVICE_TYPE:return O(e,n);case oe.a.USER_IP_DETAILS_CITY:case oe.a.USER_IP_DETAILS_COUNTRY:case oe.a.USER_IP_DETAILS_REGION:return v(e,n);case oe.a.VERTICAL_PAGE_SCROLL_DEPTH:return I(e,n);case oe.a.HORIZONTAL_PAGE_SCROLL_DEPTH:return E(e,n);default:return null}}),[t,r,s,u,f,p,O,v,j,I,E])}};t.a=(e,t)=>{const{getValue:n,subscribe:i}=ve(),o=Object(a.useCallback)((()=>{var e,a;return{...null!==(e=null===t||void 0===t||null===(a=t._getStaticValueMap)||void 0===a?void 0:a.call(t))&&void 0!==e?e:I.a,...n()}}),[n,null===t||void 0===t?void 0:t._getStaticValueMap]);return Object(r.a)(e,{...t,getValue:o,subscribe:i})}},436:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},451:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(270),r=(n(262),n(16)),i=n.n(r),o=n(1305),c=n(284),s=n(264);const l=Object(s.a)("div",{target:"enf2rlz0"})({name:"1txt44t",styles:"top:0;left:0;margin:0;padding:0;overflow:hidden;position:absolute;width:100%;height:100%;background-color:var(--spr-lc-bgc-9);"}),u=Object(s.a)("div",{target:"enf2rlz1"})({name:"3f9jy3",styles:"top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);"});var d=n(263);var f=()=>Object(d.jsx)(l,null,Object(d.jsx)(u,null,Object(d.jsx)(c.c,null))),b=n(272),p=n(274);var h=e=>{var t;const{direction:n,localeDataLoading:r}=Object(b.a)(),c=Object(p.a)(),s=(e=>i()(e,((e,t,n)=>(e[n]=i()(t,((e,t)=>{let{type:n,src:a}=t;return"SCRIPT"===n?`${e} <script defer src="${a}"><\/script>`:"CSS"===n?`${e} <link rel="stylesheet" href="${a}">`:e}),""),e)),{}))(null===c||void 0===c||null===(t=c.settings)||void 0===t?void 0:t.externalResources),{shouldHideLocaleLoader:l,...u}=e;return Object(d.jsx)(o.a,Object(a.a)({},u,{direction:n,externalResources:s}),e.children,!l&&r&&Object(d.jsx)(f,null))}},454:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));const a=new(n(958).a)({middlewares:[],getContext:()=>Promise.resolve({})}),r=e=>{a.clone(e)};t.a=a},459:function(e,t,n){"use strict";t.a={CONVERSATION:"CONVERSATION",BANNER:"BANNER",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",INFO_CARD:"INFO_CARD",STATUS_CARD:"STATUS_CARD",CONVERSATION_HISTORY:"CONVERSATION_HISTORY"}},474:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f}));const a="CALLBACK_ACTION",r="ACTION_START",i="ACTION_STOP",o="MSG_PUBLISHED",c="PROGRESS_PUBLISHED",s="MSG_PUBLISH",l="EVENT_PUBLISH",u="PROGRESS_PUBLISH",d="SESSION_PROCESS_START",f="SESSION_PROCESS_STOP"},476:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var a=n(264),r=n(266);const i=Object(a.a)("div",{target:"eg4ezm10"})("min-height:",(e=>Object(r.f)("header.minHeight")(e)),";padding:",(e=>Object(r.h)("header.padding")(e)),";display:flex;justify-content:flex-end;align-items:center;"),o=Object(a.a)("div",{target:"eg4ezm11"})("width:100%;",(e=>!e.isContained&&{backgroundColor:`${Object(r.f)("header.backgroundColor")(e)}`,backgroundImage:`${Object(r.f)("header.gradients")(e)}`,borderBottom:`${Object(r.f)("header.borderBottom")(e)}`,padding:"var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) 0 var(--spr-lc-safe-area-left)"}),""),c=e=>Object(r.f)("header.lg.paddingTop",0)(e)+Object(r.f)("header.lg.paddingBottom",0)(e)+Object(r.f)("header.lg.logo.height",0)(e)+Object(r.f)("header.lg.logo.marginTop",0)(e)+Object(r.f)("header.lg.logo.marginBottom",0)(e)+Object(r.f)("header.lg.description.marginTop",0)(e)+Object(r.f)("header.lg.description.marginBottom",0)(e)+52},477:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(262);const r=n.n(a).a.createContext(void 0),i=()=>Object(a.useContext)(r),o="trigger-close-icon-container"},479:function(e,t,n){"use strict";n(280);var a=n(1064),r=n.n(a),i={},o=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,a=i[n]||(i[n]={});if(a[e])return a[e];var c=[],s={re:r()(e,c,t),keys:c};return o<1e4&&(a[e]=s,o++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var a=t,r=a.path,i=a.exact,o=void 0!==i&&i,s=a.strict,l=void 0!==s&&s,u=a.sensitive,d=void 0!==u&&u;if(null==r)return n;var f=c(r,{end:o,strict:l,sensitive:d}),b=f.re,p=f.keys,h=b.exec(e);if(!h)return null;var O=h[0],g=h.slice(1),v=e===O;return o&&!v?null:{path:r,url:"/"===r&&""===O?"/":O,isExact:v,params:p.reduce((function(e,t,n){return e[t.name]=g[n],e}),{})}}},494:function(e,t,n){"use strict";n(827);var a,r=n(118),i=n(17),o=n(806),c=n(3),s=n(140),l=n(81),u=n(629),d=n(12),f=n(828),b=n(829),p=n(125).codeAt,h=n(833),O=n(579),g=n(434),v=n(78),y=c.URL,j=g.URLSearchParams,m=g.getState,I=v.set,C=v.getterFor("URL"),E=Math.floor,T=Math.pow,S="Invalid scheme",_="Invalid host",A="Invalid port",x=/[A-Za-z]/,w=/[\d+-.A-Za-z]/,R=/\d/,N=/^0x/i,P=/^[0-7]+$/,L=/^\d+$/,M=/^[\dA-Fa-f]+$/,D=/[\0\t\n\r #%/:<>?@[\\\]^|]/,k=/[\0\t\n\r #/:<>?@[\\\]^|]/,U=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\t\n\r]/g,B=function(e,t){var n,a,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return _;if(!(n=G(t.slice(1,-1))))return _;e.host=n}else if(X(e)){if(t=h(t),D.test(t))return _;if(null===(n=$(t)))return _;e.host=n}else{if(k.test(t))return _;for(n="",a=b(t),r=0;r<a.length;r++)n+=K(a[r],H);e.host=n}},$=function(e){var t,n,a,r,i,o,c,s=e.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),(t=s.length)>4)return e;for(n=[],a=0;a<t;a++){if(""==(r=s[a]))return e;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=N.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)o=0;else{if(!(10==i?L:8==i?P:M).test(r))return e;o=parseInt(r,i)}n.push(o)}for(a=0;a<t;a++)if(o=n[a],a==t-1){if(o>=T(256,5-t))return null}else if(o>255)return null;for(c=n.pop(),a=0;a<n.length;a++)c+=n[a]*T(256,3-a);return c},G=function(e){var t,n,a,r,i,o,c,s=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,u=++l}for(;f();){if(8==l)return;if(":"!=f()){for(t=n=0;n<4&&M.test(f());)t=16*t+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,l>6)return;for(a=0;f();){if(r=null,a>0){if(!("."==f()&&a<4))return;d++}if(!R.test(f()))return;for(;R.test(f());){if(i=parseInt(f(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;d++}s[l]=256*s[l]+r,2!=++a&&4!=a||l++}if(4!=a)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;s[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(o=l-u,l=7;0!=l&&o>0;)c=s[l],s[l--]=s[u+o-1],s[u+--o]=c;else if(8!=l)return;return s},V=function(e){var t,n,a,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",a=function(e){for(var t=null,n=1,a=null,r=0,i=0;i<8;i++)0!==e[i]?(r>n&&(t=a,n=r),a=null,r=0):(null===a&&(a=i),++r);return r>n&&(t=a,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),a===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},H={},W=f({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),z=f({},W,{"#":1,"?":1,"{":1,"}":1}),q=f({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),K=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(e){return d(Y,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},J=function(e,t){var n;return 2==e.length&&x.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&J(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&J(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},ae={},re={},ie={},oe={},ce={},se={},le={},ue={},de={},fe={},be={},pe={},he={},Oe={},ge={},ve={},ye={},je={},me={},Ie={},Ce={},Ee=function(e,t,n,r){var i,o,c,s,l,u=n||ae,f=0,p="",h=!1,O=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(U,"")),t=t.replace(F,""),i=b(t);f<=i.length;){switch(o=i[f],u){case ae:if(!o||!x.test(o)){if(n)return S;u=ie;continue}p+=o.toLowerCase(),u=re;break;case re:if(o&&(w.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return S;p="",u=ie,f=0;continue}if(n&&(X(e)!=d(Y,p)||"file"==p&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(X(e)&&Y[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?u=Oe:X(e)&&r&&r.scheme==e.scheme?u=oe:X(e)?u=ue:"/"==i[f+1]?(u=ce,f++):(e.cannotBeABaseURL=!0,e.path.push(""),u=me)}break;case ie:if(!r||r.cannotBeABaseURL&&"#"!=o)return S;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Ce;break}u="file"==r.scheme?Oe:se;continue;case oe:if("/"!=o||"/"!=i[f+1]){u=se;continue}u=de,f++;break;case ce:if("/"==o){u=fe;break}u=je;continue;case se:if(e.scheme=r.scheme,o==a)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&X(e))u=le;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=Ie;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=je;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ce}break;case le:if(!X(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=je;continue}u=fe}else u=de;break;case ue:if(u=de,"/"!=o||"/"!=p.charAt(f+1))continue;f++;break;case de:if("/"!=o&&"\\"!=o){u=fe;continue}break;case fe:if("@"==o){h&&(p="%40"+p),h=!0,c=b(p);for(var v=0;v<c.length;v++){var y=c[v];if(":"!=y||g){var j=K(y,q);g?e.password+=j:e.username+=j}else g=!0}p=""}else if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)){if(h&&""==p)return"Invalid authority";f-=b(p).length+1,p="",u=be}else p+=o;break;case be:case pe:if(n&&"file"==e.scheme){u=ve;continue}if(":"!=o||O){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)){if(X(e)&&""==p)return _;if(n&&""==p&&(Z(e)||null!==e.port))return;if(s=B(e,p))return s;if(p="",u=ye,n)return;continue}"["==o?O=!0:"]"==o&&(O=!1),p+=o}else{if(""==p)return _;if(s=B(e,p))return s;if(p="",u=he,n==pe)return}break;case he:if(!R.test(o)){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)||n){if(""!=p){var m=parseInt(p,10);if(m>65535)return A;e.port=X(e)&&m===Y[e.scheme]?null:m,p=""}if(n)return;u=ye;continue}return A}p+=o;break;case Oe:if(e.scheme="file","/"==o||"\\"==o)u=ge;else{if(!r||"file"!=r.scheme){u=je;continue}if(o==a)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",u=Ie;else{if("#"!=o){ee(i.slice(f).join(""))||(e.host=r.host,e.path=r.path.slice(),te(e)),u=je;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ce}}break;case ge:if("/"==o||"\\"==o){u=ve;break}r&&"file"==r.scheme&&!ee(i.slice(f).join(""))&&(J(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=je;continue;case ve:if(o==a||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&J(p))u=je;else if(""==p){if(e.host="",n)return;u=ye}else{if(s=B(e,p))return s;if("localhost"==e.host&&(e.host=""),n)return;p="",u=ye}continue}p+=o;break;case ye:if(X(e)){if(u=je,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=a&&(u=je,"/"!=o))continue}else e.fragment="",u=Ce;else e.query="",u=Ie;break;case je:if(o==a||"/"==o||"\\"==o&&X(e)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(te(e),"/"==o||"\\"==o&&X(e)||e.path.push("")):ne(p)?"/"==o||"\\"==o&&X(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&J(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==a||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=Ie):"#"==o&&(e.fragment="",u=Ce)}else p+=K(o,z);break;case me:"?"==o?(e.query="",u=Ie):"#"==o?(e.fragment="",u=Ce):o!=a&&(e.path[0]+=K(o,H));break;case Ie:n||"#"!=o?o!=a&&("'"==o&&X(e)?e.query+="%27":e.query+="#"==o?"%23":K(o,H)):(e.fragment="",u=Ce);break;case Ce:o!=a&&(e.fragment+=K(o,W))}f++}},Te=function(e){var t,n,a=u(this,Te,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(e),c=I(a,{type:"URL"});if(void 0!==r)if(r instanceof Te)t=C(r);else if(n=Ee(t={},String(r)))throw TypeError(n);if(n=Ee(c,o,null,t))throw TypeError(n);var s=c.searchParams=new j,l=m(s);l.updateSearchParams(c.query),l.updateURL=function(){c.query=String(s)||null},i||(a.href=_e.call(a),a.origin=Ae.call(a),a.protocol=xe.call(a),a.username=we.call(a),a.password=Re.call(a),a.host=Ne.call(a),a.hostname=Pe.call(a),a.port=Le.call(a),a.pathname=Me.call(a),a.search=De.call(a),a.searchParams=ke.call(a),a.hash=Ue.call(a))},Se=Te.prototype,_e=function(){var e=C(this),t=e.scheme,n=e.username,a=e.password,r=e.host,i=e.port,o=e.path,c=e.query,s=e.fragment,l=t+":";return null!==r?(l+="//",Z(e)&&(l+=n+(a?":"+a:"")+"@"),l+=V(r),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==c&&(l+="?"+c),null!==s&&(l+="#"+s),l},Ae=function(){var e=C(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Te(t.path[0]).origin}catch(a){return"null"}return"file"!=t&&X(e)?t+"://"+V(e.host)+(null!==n?":"+n:""):"null"},xe=function(){return C(this).scheme+":"},we=function(){return C(this).username},Re=function(){return C(this).password},Ne=function(){var e=C(this),t=e.host,n=e.port;return null===t?"":null===n?V(t):V(t)+":"+n},Pe=function(){var e=C(this).host;return null===e?"":V(e)},Le=function(){var e=C(this).port;return null===e?"":String(e)},Me=function(){var e=C(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=C(this).query;return e?"?"+e:""},ke=function(){return C(this).searchParams},Ue=function(){var e=C(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(Se,{href:Fe(_e,(function(e){var t=C(this),n=String(e),a=Ee(t,n);if(a)throw TypeError(a);m(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Ae),protocol:Fe(xe,(function(e){var t=C(this);Ee(t,String(e)+":",ae)})),username:Fe(we,(function(e){var t=C(this),n=b(String(e));if(!Q(t)){t.username="";for(var a=0;a<n.length;a++)t.username+=K(n[a],q)}})),password:Fe(Re,(function(e){var t=C(this),n=b(String(e));if(!Q(t)){t.password="";for(var a=0;a<n.length;a++)t.password+=K(n[a],q)}})),host:Fe(Ne,(function(e){var t=C(this);t.cannotBeABaseURL||Ee(t,String(e),be)})),hostname:Fe(Pe,(function(e){var t=C(this);t.cannotBeABaseURL||Ee(t,String(e),pe)})),port:Fe(Le,(function(e){var t=C(this);Q(t)||(""==(e=String(e))?t.port=null:Ee(t,e,he))})),pathname:Fe(Me,(function(e){var t=C(this);t.cannotBeABaseURL||(t.path=[],Ee(t,e+"",ye))})),search:Fe(De,(function(e){var t=C(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ee(t,e,Ie)),m(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(ke),hash:Fe(Ue,(function(e){var t=C(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ee(t,e,Ce)):t.fragment=null}))}),l(Se,"toJSON",(function(){return _e.call(this)}),{enumerable:!0}),l(Se,"toString",(function(){return _e.call(this)}),{enumerable:!0}),y){var Be=y.createObjectURL,$e=y.revokeObjectURL;Be&&l(Te,"createObjectURL",(function(e){return Be.apply(y,arguments)})),$e&&l(Te,"revokeObjectURL",(function(e){return $e.apply(y,arguments)}))}O(Te,"URL"),r({global:!0,forced:!o,sham:!i},{URL:Te})},495:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(270),r=n(262),i=n.n(r),o=n(263);const c=i.a.createContext(void 0),s=e=>function(t){return Object(o.jsx)(c.Consumer,null,(n=>Object(o.jsx)(e,Object(a.a)({},t,{applicationConfig:n}))))},l=e=>function(t){return Object(o.jsx)(c.Consumer,null,(n=>Object(o.jsx)(e,Object(a.a)({},t,{customization:n.otherConfigs}))))};t.c=c},499:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(323),r=n(454),i=n(456),o=n.n(i);const c="/livechat/conversation";function s(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield r.a.post(`${c}/chatUsers`,e)).data}))}const l=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return yield r.a.post(`${c}/chatUser`,o()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext","locale","customUser"]))}));function u(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:a=0}=e;return(yield r.a.post(`/livechat/user/search-users?query=${t}&size=${n}&pageNum=${a}`)).data}))}function d(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield r.a.get(`/livechat/user/fetch/${e}`)).data}))}},500:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e&&e[t];const n=t(e,"fullName"),a=t(e,"firstName"),r=t(e,"lastName");if(n)return n;const i=r?` ${r}`:"",o=a||"";return`${o}${i}`}},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(270),r=n(262),i=n.n(r),o=n(515),c=n(263);const s=i.a.createContext((()=>o.c)),l=e=>function(t){return Object(c.jsx)(s.Consumer,null,(n=>Object(c.jsx)(e,Object(a.a)({},t,{getUserType:n}))))};t.b=s},502:function(e,t,n){"use strict";var a=n(262),r=n.n(a),i=n(588),o=n.n(i),c=n(350),s=n.n(c),l=n(740),u=n(263);const d=e=>{let{shouldPlay:t,unreadCount:n,children:i}=e;const{play:c}=Object(l.b)(),d=o()(n);return Object(a.useEffect)((()=>{!s()(d)&&n&&t&&n>d&&c(l.a.MESSAGE)}),[n,c,d,t]),Object(u.jsx)(r.a.Fragment,null,i)};t.a=r.a.memo(d)},519:function(e,t,n){var a=n(1470),r=n(87),i=n(1471);e.exports=function(e){return r(e)?i(e):a(e)}},520:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(262);const r=e=>{const t=Object(a.useRef)(e);return t.current=e,t}},521:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},522:function(e,t,n){"use strict";var a=n(262),r=n(336);t.a=(e,t)=>{const[n,i]=Object(a.useState)(),o=Object(r.a)(e,t);Object(a.useLayoutEffect)((()=>{const a=[];if(n)if(e.ResizeObserver){const r=new e.ResizeObserver(t);r.observe(n),a.push((()=>r.disconnect()))}else o(n);return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&i(e)}),[])}},523:function(e,t,n){"use strict";var a=c(n(1481)),r=c(n(1486)),i=c(n(1057)),o=c(n(1054));function c(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:i.default,ReplaceTransition:r.default,CSSTransition:a.default}},524:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"u",(function(){return h})),n.d(t,"j",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return C})),n.d(t,"w",(function(){return E})),n.d(t,"l",(function(){return T})),n.d(t,"t",(function(){return S})),n.d(t,"f",(function(){return _})),n.d(t,"s",(function(){return A})),n.d(t,"o",(function(){return x})),n.d(t,"k",(function(){return w})),n.d(t,"x",(function(){return R})),n.d(t,"v",(function(){return N})),n.d(t,"p",(function(){return P})),n.d(t,"r",(function(){return L})),n.d(t,"m",(function(){return M})),n.d(t,"q",(function(){return D})),n.d(t,"n",(function(){return k}));var a=n(323),r=n(67),i=n.n(r),o=n(7),c=n.n(o),s=n(454),l=n(706),u=n(826),d=n(76);const f=new l.a,b="/livechat/conversation";function p(e){let{shouldFetchNumberOfOpenConversation:t,size:n,cursor:r}=e;return Object(a.__awaiter)(this,void 0,void 0,(function*(){let e=`${b}/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;n&&(e=`${e}&size=${n}`),r&&r.after&&(e=`${e}&after=${r.after}`),r&&r.before&&(e=`${e}&before=${r.before}`);return(yield s.a.post(e)).data}))}function h(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{submitResponseUrl:n,httpHeaders:a,multiSubmitResponseUrl:r}=e;let o={data:null};return o=r?yield f.post(r,t,{headers:Object.assign(Object.assign({},a),{"Content-Type":"application/json"}),baseURL:""}):yield f.post(n,t,{headers:a,baseURL:"",transformRequest:e=>i()(e,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(c()(e)?JSON.stringify(e):e)}`)).join("&")}),o.data}))}function O(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/fetch/${e}`)).data}))}function g(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/fetch/case/${e}`)).data}))}function v(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/fetch/externalCase/${e}`)).data}))}function y(e,t){let{size:n,cursor:r}=t;return Object(a.__awaiter)(this,void 0,void 0,(function*(){const t=[{key:"conversationId",value:e}];n&&t.push({key:"size",value:n}),r&&t.push({key:"cursor",value:r}),t.push({key:"includeMaskedDeletedMessages",value:!0});const a=t.map((e=>`${e.key}=${e.value}`)).join("&");return(yield s.a.post(`${b}/fetchMessages?${a}`)).data}))}function j(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const n=yield s.a.post(`${b}/closeConversation?conversationId=${e}`);return null===t||void 0===t||t.resolve(),n.data}catch(n){if(Object(d.d)(n))return null===t||void 0===t?void 0:t.resolve();throw null===t||void 0===t||t.reject(n),n}}))}function m(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield s.a.post(`${b}/closeAll`);return null===e||void 0===e||e.resolve(),t.data}catch(t){if(Object(d.d)(t))return null===e||void 0===e?void 0:e.resolve();throw null===e||void 0===e||e.reject(t),t}}))}function I(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const n=yield s.a.post(`${b}/delete?conversationId=${e}`);return null===t||void 0===t||t.resolve(),n.data}catch(n){if(Object(d.d)(n))return null===t||void 0===t?void 0:t.resolve();throw null===t||void 0===t||t.reject(n),n}}))}function C(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield s.a.post(`${b}/deleteAll`);return null===e||void 0===e||e.resolve(),t.data}catch(t){if(Object(d.d)(t))return null===e||void 0===e?void 0:e.resolve();throw null===e||void 0===e||e.reject(t),t}}))}function E(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/updateDisclaimer/${e}?disclaimerStatus=${t}`)).data}))}function T(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const n={conversationId:e,messageId:t};return(yield s.a.post(`${b}/fetchMessage`,void 0,{params:n,backoff:!0})).data}))}function S(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/send`,e)).data}))}function _(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function A(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function x(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/new`,e)).data}))}function w(e,t,n,r){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/suggestions`,Object.assign({conversationId:e,query:t,locale:r},n))).data}))}function R(e){let{context:t,updateLatest:n,payload:a}=e;return u.a.info({chatConversationId:null===a||void 0===a?void 0:a.conversationId,message:`${null===a||void 0===a?void 0:a.conversationId}: Update latest conversation context service called`,additionalDetails:{actionPayload:a}}),s.a.post(`${b}/updateConversationDetails?updateLatest=${n}`,t)}function N(e){let{conversationId:t,context:n,payload:a}=e;return u.a.info({chatConversationId:t,message:`${t}: Update conversation context service called`,additionalDetails:{actionPayload:a}}),s.a.post(`${b}/updateConversationDetails?conversationId=${t}`,n)}function P(e){return s.a.post(`${b}/cancelAsset/${e}`)}function L(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return s.a.post(`${b}/markSurveyOpened/${e}`)}))}function M(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/fetchNumberOfOpenConversations`)).data}))}function D(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return s.a.post(`${b}/markTimeOfDelivery?messageIds=${e.join(",")}`)}))}function k(e){let{messageId:t,conversationId:n,text:r,language:i,additional:o}=e;return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${b}/generateVoiceNote`,{messageId:t,tempConversationId:n,text:r,language:i,additional:o})).data}))}},525:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o}));const a=313,r=314,i=340,o=394},572:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"c",(function(){return J})),n.d(t,"b",(function(){return Q}));var a=n(270),r=n(262),i=n.n(r),o=n(267),c=n(265),s=n(16),l=n.n(s),u=n(116),d=n.n(u),f=n(438),b=n.n(f),p=n(302),h=n.n(p),O=n(291),g=n.n(O),v=n(350),y=n.n(v),j=n(278),m=n(287),I=n(368),C=n(951),E=n(722),T=n(499),S=n(310),_=n(275),A=n(292),x=n(0),w=n(15),R=n(470),N=n(472),P=n(475),L=n(66),M=n(312),D=n.n(M),k=n(69),U=n.n(k),F=n(2),B=n(315);const $=Object(P.a)();var G=n(353),V=n(346),H=n(390),W=n(421),z=n(263);const q=Object(P.a)(),K=[H.e],Y=i.a.createContext({locale:q,language:Object(P.b)(q),defaultLocale:q,direction:G.b.LTR,localeDataLoading:!0,changeLocale:g.a}),X={onLocaleDataLoaded:A.d},Z=e=>h()(((e,t)=>b()(l()(t,((t,n)=>{const a=d()(e,`${n}.actionsToShowByVariant`),r=Object(x.A)();return[...t,...r&&(d()(a,r)||d()(a,w.a))||R.a]}),[]),"type"))(e,["allScreens","homeScreen","conversationScreen"]),{type:N.a.CHANGE_LOCALE}),Q=e=>{var t,n;const a=Object(o.d)(_.g),i=Object(S.c)(a)||{},s=Object(m.a)(),l=(null===i||void 0===i?void 0:i.locale)||(e=>{const t=(null===e||void 0===e?void 0:e.defaultLocale)||$,n=(null===e||void 0===e?void 0:e.supportedLocales)||[],a=Object(F.a)().locale,r=Object(B.a)(),i=[...n,t],o=a?[a,...r]:r;let c=t;return U()(o,(e=>D()(i,e)?(c=e,!1):D()(i,Object(P.b)(e))?(c=Object(P.b)(e),!1):null)),c})(s),[u,d]=Object(r.useState)({localeDataLoading:!0,localeData:void 0}),f=Object(r.useRef)(!1),{setNotification:b}=Object(I.a)(),{onLocaleDataLoaded:p}=Object(j.a)(X),h=s.defaultLocale||q,O=null===(t=s.otherConfigs)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.externalLocaleData,{errorNotificationMessage:g,successNotificationMessage:v}=Z(s.otherConfigs)||{},A=Object(C.a)({externalLocaleData:O}),x=Object(r.useCallback)((async e=>{let{locale:t,shouldSyncWithBackend:n=!0,userInitiated:a=!0,promise:r}=e;a&&d((e=>({...e,localeDataLoading:!0})));try{const{localeData:e}=await A(t);if(n){if((await Object(T.d)({...i,locale:t})).data.locale===i.locale)throw new Error(W.a.INCORRECT_PAYLOAD);a&&v&&b({message:v,type:V.a.SUCCESS})}p({locale:t,data:e.messages}),e&&d((t=>({...t,localeData:e}))),null===r||void 0===r||r.resolve({locale:t})}catch(o){n&&a&&g&&b({message:g,type:V.a.FAILURE}),null===r||void 0===r||r.reject(o.message===W.a.INCORRECT_PAYLOAD?W.a.INCORRECT_PAYLOAD:W.a.NETWORK_FAILURE),Object(L.b)(o)}d((e=>({...e,localeDataLoading:!1})))}),[A,p,v,g,i]),w=Object(r.useCallback)((e=>{const{payload:{locale:t},promise:n}=e;x({locale:t,userInitiated:!1,promise:n})}),[x]);Object(E.a)(K,w),f.current||(f.current=!0,x({locale:l,shouldSyncWithBackend:!1}));const R=Object(r.useMemo)((()=>{var e;const{language:t,direction:n}=Object(C.b)(l);return{...null!==(e=u.localeData)&&void 0!==e?e:{},defaultLocale:h,locale:l,language:t,direction:n,localeDataLoading:u.localeDataLoading,changeLocale:x}}),[h,l,x,u]);return y()(u.localeData)?null:Object(z.jsx)(Y.Provider,{value:R},Object(z.jsx)(c.e,{defaultLocale:h,locale:R.reactIntlLocale,messages:R.messages},e.children))},J=e=>function(t){return Object(z.jsx)(Y.Consumer,null,(n=>Object(z.jsx)(e,Object(a.a)({},t,{intlContext:n}))))};Y.Consumer},574:function(e,t,n){"use strict";var a=n(262),r=n(730),i=n.n(r),o=n(1040);var c=function(){return Object(a.useContext)(o.a)};t.a=e=>{const[t,n]=c(),r=i()(),o=Object(a.useCallback)((t=>{r()&&n({stateKey:e,state:t})}),[e,n,r]);return Object(a.useEffect)((()=>()=>{n({stateKey:e,state:null})}),[]),[t&&t.stateKey===e?t.state:null,o]}},584:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));const a="@commerce/ADD_TO_CART",r="@commerce/UPDATE_CART",i="@commerce/REMOVE_FROM_CART"},589:function(e,t,n){"use strict";t.a={POST_BACK:"POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",CLIENT_ONLY:"CLIENT_ONLY",RUN_GW:"RUN_GW",DIAL:"DIAL",VIDEO_CALL:"VIDEO_CALL",AUDIO_CALL:"AUDIO_CALL",NEW_CONVERSATION:"NEW_CONVERSATION"}},592:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);function r(){return Object(a.z)()}},593:function(e,t,n){"use strict";var a=n(262),r=n(852);t.a=function(){const e=Object(a.useContext)(r.a),t=Object(a.useRef)(null);return Object(a.useEffect)((()=>()=>{t.current&&e.removePublisher(t.current)}),[]),Object(a.useCallback)((n=>{t.current=n.current,t.current&&e.addPublisher(t.current)}),[e])}},595:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));const a=["video/mp4","video/quicktime"],r=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],i=[...r,"audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"],o=["image/jpeg","image/png","image/gif"],c=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},621:function(e,t,n){"use strict";n.d(t,"f",(function(){return L})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return P}));var a=n(300),r=n(373),i=n(305),o=n(518),c=n(1984),s=n(1882);const l=Object(c.a)("height"),u=Object(c.a)("width"),d=Object(c.a)("url"),f=Object(c.a)("fileToken");class b extends o.a{setHeight(e){return this.set(l,e)}setWidth(e){return this.set(u,e)}setUrl(e){return e?this.set(d,e):this}setFileToken(e){return e?this.set(f,e):this}}b.getUrl=Object(s.a)(d);var p=n(312),h=n.n(p);const O=Object(c.a)("title");class g extends b{constructor(e){super(e),this.setType(a.c.IMAGE)}setTitle(e){return this.set(O,e)}}function v(e){return(new g).setHeight(e.height).setWidth(e.width).setUrl(e.url).setTitle(e.title).build()}const y=Object(c.a)("previewImageUrl"),j=Object(c.a)("title"),m=Object(c.a)("previewFileToken");class I extends b{constructor(e){super(e),this.setType(a.c.VIDEO)}setPreviewImageUrl(e){return this.set(y,e)}setTitle(e){return this.set(j,e)}setPreviewImageToken(e){return e?this.set(m,e):this}}function C(e){return(new I).setUrl(e.url).setHeight(e.height).setWidth(e.width).setPreviewImageUrl(e.previewImageUrl).setTitle(e.title).build()}function E(e){let{chatMessage:t,url:n,token:a}=e;const o=r.a.getAttachment(i.a.getMessagePayload(t));let c;c=a?new I(o).setPreviewImageToken(a).build():new I(o).setPreviewImageUrl(n).build();const s=new r.a(i.a.getMessagePayload(t)).setAttachment(c).build();return new i.a(t).setMessagePayload(s).build()}function T(e){return(new g).setHeight(e.height).setWidth(e.width).setUrl(e.previewImageUrl).build()}I.getPreviewImageUrl=Object(s.a)(y);const S=Object(c.a)("title"),_=Object(c.a)("documentType");class A extends b{constructor(e){super(e),this.setType(a.c.DOCUMENT)}setTitle(e){return this.set(S,e)}setDocumentType(e){return this.set(_,e)}}function x(e){return(new A).setUrl(e.url).setTitle(e.title).setDocumentType(e.documentType).build()}const w=Object(c.a)("title"),R=Object(c.a)("mimeType");class N extends b{constructor(e){super(e),this.setType(a.c.AUDIO)}setTitle(e){return this.set(w,e)}setMimeType(e){return this.set(R,e)}}function P(e){return(new N).setUrl(e.url).setTitle(e.title).setMimeType(e.mimeType).build()}function L(e){let{chatMessage:t,url:n,token:c}=e;const s=r.a.getAttachment(i.a.getMessagePayload(t));if(!function(e){return h()(a.b,o.a.getType(e))}(s))return t;const l=new b(s);c?l.setFileToken(c):l.setUrl(n);const u=new r.a(i.a.getMessagePayload(t)).setAttachment(l.build()).build();return new i.a(t).setMessagePayload(u).build()}},626:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return _}));var a=n(262),r=n.n(a),i=n(855),o=n.n(i),c=n(267),s=n(291),l=n.n(s),u=n(852),d=n(648),f=n(116),b=n.n(f),p=n(274),h=n(324);const O=()=>{const e=Object(p.a)();return!!b()(h.a.getUserPreferences(e),"enableSoundNotification")};var g=n(275),v=n(343);const y=e=>Object(v.e)(Object(g.b)(e));var j=n(1053),m=n(279),I=n(310),C=n(263);const E={MESSAGE:"MESSAGE",AGENT_ASSIGNMENT:"AGENT_ASSIGNMENT",CALL:"CALL"},T=r.a.createContext({play:l.a,pause:l.a}),S={[E.MESSAGE]:"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3",[E.AGENT_ASSIGNMENT]:"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.mp3",[E.CALL]:"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"},_=e=>{let{children:t}=e;const n=Object(c.d)(m.h),r=Object(I.d)(n),i=Object(j.a)({category:"LIVE_CHAT",userId:r}),[s,,l,f]=o()({src:"","data-testid":"messageAudio",preload:"none"}),[b,,p,h]=o()({src:"","data-testid":"callPickedByAgentNotifAudio",preload:"none"}),[g,,v,_]=o()({src:"",loop:!0,"data-testid":"callAudio",preload:"none"}),A=Object(d.a)(),x=(()=>{const e=Object(c.d)(y).enableSoundNotification.enabled,t=O();return e&&t})(),w=O(),R=Object(a.useCallback)((()=>{f.current&&(f.current.src=S.MESSAGE),h.current&&(h.current.src=S.AGENT_ASSIGNMENT),_.current&&(_.current.src=S.CALL)}),[]),N=Object(a.useCallback)((e=>{switch(e){case E.MESSAGE:return x?l.play():Promise.resolve();case E.AGENT_ASSIGNMENT:return p.play();case E.CALL:return v.play()}return Promise.resolve()}),[l,p,v,x]),P=Object(a.useCallback)((e=>{const t=N(e);"object"===typeof t&&t.catch((t=>i.warning(`Sound Notification Failed for ${e}:  ${t}`)))}),[N]),L=Object(a.useCallback)((e=>{switch(e){case E.MESSAGE:return l.pause();case E.AGENT_ASSIGNMENT:return p.pause();case E.CALL:return v.pause()}}),[l,p,v]),M=Object(a.useMemo)((()=>({play:P,pause:L})),[P,L]);return Object(C.jsx)(T.Provider,{value:M},Object(C.jsx)(u.b,{onClick:R},w&&s,A&&b,A&&g,t))};t.c=T},637:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(721);const r=e=>{let{file:t,conversationId:n,sender:r,inReplyToChatMessageId:i}=e;return{type:a.b,payload:{file:t,conversationId:n,chatUserId:r,inReplyToChatMessageId:i}}},i=e=>{let{initialMessages:t,createCase:n,conversationContext:r,silent:i,assignToUser:o,additional:c}=e;return e=>({type:a.c,payload:{initialMessages:t,createCase:n,assignToUser:o,silent:i,conversationContext:r,additional:c},promise:e})},o=(e,t)=>{let{conversationId:n,externalCaseId:r}=e;return{type:a.a,payload:{conversationId:n,externalCaseId:r},promise:t}}},638:function(e,t,n){var a=n(46),r=n(179),i=n(119),o=n(834),c=n(1424),s=n(120),l=n(41);e.exports=function(e,t,n){if((e=l(e))&&(n||void 0===t))return r(e);if(!e||!(t=a(t)))return e;var u=s(e),d=s(t),f=c(u,d),b=o(u,d)+1;return i(u,f,b).join("")}},645:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return C}));var a=n(69),r=n.n(a),i=n(302),o=n.n(i),c=n(589),s=n(300),l=n(728),u=n(474);const d=e=>t=>t.type===e,f=e=>t=>t.id===e,b=(e,t)=>o()(e,t),p=(e,t)=>b(e.buttons,t),h=(e,t)=>p(t,f(e)),O=(e,t)=>{const n=e.cardAttachmentList;let a;return r()(n,(e=>{const n=p(e,t);if(n)return a=n,!1})),a},g={[c.a.POST_BACK]:(e,t)=>{const n=e;return n.makeExternalCall?[u.c,n.postBackHandlerType]:[n.postBackHandlerType]},[c.a.EXTERNAL]:(e,t)=>{const n=t.attachment;if(n.type===s.c.PROGRESS_BAR){return["CANCEL"===t.actionId?u.b:u.a]}return n.type===s.c.FORM?[l.a.FORM_POST_BACK,u.a]:[l.a.TEXT_POST_BACK,u.a]},[c.a.CLIENT_ONLY]:(e,t)=>t.attachment.type===s.c.VIDEO_CHAT?[t.actionId]:t.attachment.type===s.c.APPOINTMENT?"FETCH_SLOTS"===t.values.type?[l.a.FETCH_APPOINTMENT_TIME_SLOTS]:"RESERVE_SLOT"===t.values.type?[l.a.RESERVE_APPOINTMENT_TIME_SLOT]:[l.a.APPOINTMENT_POST_BACK]:[]},v={[s.c.CONTACT_DETAILS_FORM]:(e,t)=>t.submit,[s.c.FORM]:(e,t)=>t.submit,[s.c.SECURE_FORM]:(e,t)=>t.submit,[s.c.FEEDBACK_FORM]:(e,t)=>t.submit,[s.c.PROGRESS_BAR]:(e,t)=>{const n=t;return{id:"",title:"",type:c.a.EXTERNAL,params:n.action}},[s.c.PERSISTENT_MENU]:(e,t)=>p(t,f(e)),[s.c.CARD]:(e,t)=>p(t,f(e)),[s.c.PRODUCT_CARD]:(e,t)=>p(t,f(e)),[s.c.PRODUCT_SHOWCASE_CARD]:(e,t)=>p(t,f(e)),[s.c.INFO_CARD]:(e,t)=>p(t,f(e)),[s.c.PRODUCT_BANNER]:(e,t)=>((e,t)=>{if(e.buttons){const n=b(e.buttons,t);if(n)return n}return O(e,t)})(t,f(e)),[s.c.PRODUCT_LIST]:(e,t)=>p(t,f(e)),[s.c.CO_BROWSE_INVITE]:(e,t)=>p(t,f(e)),[s.c.QUICK_SELECT_CARD]:h,[s.c.QUICK_SELECT_PILLS]:h,[s.c.CAROUSEL]:(e,t)=>O(t,f(e)),[s.c.APPOINTMENT]:()=>({type:c.a.CLIENT_ONLY,id:"",title:""}),[s.c.VIDEO_CHAT]:()=>({type:c.a.CLIENT_ONLY,title:"",id:""}),[s.c.SURVEY]:(e,t)=>t.surveyButton};function y(e,t){const n=v[t.type];if(n)return n(e,t)}function j(e){const t=y(e.actionId,e.attachment);if(t)return((e,t)=>{const n=g[e.type];return n?n(e,t):[e.type]})(t,e)}const m=e=>{switch(e.type){case s.c.CARD:return!!p(e,d(c.a.EXTERNAL));case s.c.CAROUSEL:return!!O(e,d(c.a.EXTERNAL));case s.c.FORM:return e.submit.type===c.a.EXTERNAL;default:return!1}},I={[s.c.SECURE_FORM]:e=>e.values.originalData},C=e=>{const t=I[e.attachment.type];if(t)return t(e)}},646:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(265);const r=Object(a.g)({coBrowseControl:{id:"coBrowseControl",defaultMessage:"Co-browse control"},coBrowseInformation:{id:"coBrowseInformation",defaultMessage:"Co-browse information"},agentViewingYourScreen:{id:"agentViewingYourScreen",defaultMessage:"{agentName} is viewing your screen"},agentControllingYourScreen:{id:"agentControllingYourScreen",defaultMessage:"{agentName} is controlling your screen"},screenSharing:{id:"screenSharing",defaultMessage:"Screen Sharing"},screenInControl:{id:"screenInControl",defaultMessage:"Screen in Control"},stopScreenControl:{id:"stopScreenControl",defaultMessage:"Stop Screen Control"},stopScreenShare:{id:"stopScreenShare",defaultMessage:"Stop Screen Share"},stopCobrowsing:{id:"stopCobrowsing",defaultMessage:"Stop Co-browsing"},allowScreenControl:{id:"allowScreenControl",defaultMessage:"Allow Screen Control"},allowScreenShare:{id:"allowScreenShare",defaultMessage:"Allow Screen Share"},cobrowseRemoteControlConfirmationMessage:{id:"cobrowseRemoteControlConfirmationMessage",defaultMessage:"{agentName} is requesting permission to control your screen. Accepting this will allow them to interact with your screen."},cobrowseFullScreenControlConfirmationMessage:{id:"cobrowseFullScreenControlConfirmationMessage",defaultMessage:"{agentName} is requesting you to share your screen. Accepting this will share your screen."},accept:{id:"accept",defaultMessage:"Accept"},deny:{id:"deny",defaultMessage:"Deny"},settingUpCobrowsing:{id:"settingUpCobrowsing",defaultMessage:"Setting up Co-browsing with {agentName}"},cobrowsingFailed:{id:"cobrowsingFailed",defaultMessage:"Co-browsing Failed"},settingUpWentWrong:{id:"settingUpWentWrong",defaultMessage:"Sorry, something went wrong while setting up. Please try again in sometime."}})},647:function(e,t,n){"use strict";n.d(t,"p",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"i",(function(){return y}));var a=n(726);function r(){return{type:a.m,payload:{}}}function i(e){let{messageId:t,conversationId:n,agentId:r}=e;return{type:a.i,payload:{messageId:t,conversationId:n,agentId:r}}}function o(){return{type:a.n,payload:{}}}function c(e){return{type:a.g,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function s(e){return{type:a.h,payload:e}}function l(e){return{type:a.c,payload:e}}function u(e){return{type:a.f,payload:e}}function d(e){return{type:a.a,payload:e}}function f(e){return{type:a.d,payload:e}}function b(e){return{type:a.b,payload:e}}function p(e){return{type:a.e,payload:e}}function h(e){return{type:a.o,payload:e}}function O(e){return{type:a.p,payload:e}}function g(e){return{type:a.k,payload:e}}function v(e){return{type:a.l,payload:e}}const y=e=>({type:a.j,payload:e})},648:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(287),r=n(382);const i=()=>{const e=Object(a.a)();return!!e&&!!r.a.getCallAccountId(e)}},649:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},701:function(e,t,n){"use strict";var a=n(270),r=n(262),i=n(364),o=n.n(i),c=n(297),s=n(116),l=n.n(s),u=n(277),d=n(734),f=n(264);const b=Object(f.a)("div",{target:"e1hxxqun0"})("border-radius:20px;background-color:",(e=>!e.svgLoaded&&"var(--spr-lc-d-3)"),";");var p=n(263);const h=e=>{let{name:t,className:n,theme:i,window:c,css:s,onLoad:u,...f}=e;const h=Object(r.useMemo)((()=>`${t}_${o()()}`),[t]),[O,g]=Object(r.useState)(!1),v=Object(r.useRef)(null);return Object(r.useEffect)((()=>{O&&u&&u()}),[O,u]),Object(r.useEffect)((()=>{const e=l()(i,["icons",t]),n=()=>{g(!0)};v.current&&Object(d.a)({svgContainer:v.current,url:e,onSvgLoad:n,className:"spa full-height full-width"})}),[h,t]),Object(p.jsx)(b,Object(a.a)({ref:v,key:h,className:`spr ${n}`,css:s,id:h,svgLoaded:O,"data-testid":"Custom header icon"},f))},O=e=>{const{name:t,className:n,theme:a,css:i,onClick:o,onKeyPress:c,alt:s,onLoad:u}=e,d=l()(a,`icons.${t}`);if(Object(r.useEffect)((()=>{!d&&u&&u()}),[d,u]),d)return Object(p.jsx)(h,e);const f=s;return Object(p.jsx)(f,{className:n,css:i,onClick:o,onKeyPress:c,"aria-hidden":e["aria-hidden"],focusable:!!e.focusable})};t.a=Object(r.memo)(Object(u.c)((e=>Object(p.jsx)(c.FrameContextConsumer,null,(t=>{let{window:n}=t;return Object(p.jsx)(O,Object(a.a)({},e,{window:n}))})))))},718:function(e,t){e.exports=function(e){return null===e}},720:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(70),r=n(66);const i="debug",o="info",c="warning",s="error";class l{constructor(e,t){let{batch:n,skip:l,adapter:u}=t;this.batchLogs=()=>{this.batchTimeoutId&&clearTimeout(this.batchTimeoutId),this.batchTimeoutId=window.setTimeout((()=>{this.logQueue.length&&(this.logFn(this.logQueue),this.logQueue=[]),this.batchLogs()}),5e3)},this.log=e=>{if(this.skip)return;const t=this.adapter(e);return(e=>{const{level:t,message:n,category:l}=e,u=`timeStamp: ${Date.now()} category: ${l} message: ${n}`;switch(t){case i:Object(a.a)(u);break;case s:Object(r.b)(u);break;case o:console.info(u);break;case c:console.warn(u)}})(t),this.batch?(this.batchTimeoutId||this.batchLogs(),void this.logQueue.push(t)):this.logFn(t)},this.debug=e=>{this.log(Object.assign(Object.assign({},e),{level:i}))},this.info=e=>{this.log(Object.assign(Object.assign({},e),{level:o}))},this.warning=e=>{this.log(Object.assign(Object.assign({},e),{level:c}))},this.error=e=>{this.log(Object.assign(Object.assign({},e),{level:s}))},this.cleanup=()=>{this.batchTimeoutId&&(clearTimeout(this.batchTimeoutId),this.logQueue.length&&this.logFn(this.logQueue))},this.logFn=e,this.logQueue=[],this.batch=!!n,this.skip=l,this.adapter=u,this.batchTimeoutId=null}}},721:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const a="@conversation/NEW_CONVERSATION_OPEN",r="@conversation/EXISTING_CONVERSATION_OPEN",i="@conversation/MEDIA_SEND"},728:function(e,t,n){"use strict";t.a={TEXT_POST_BACK:"TEXT_POST_BACK",START_VIDEO_CALL:"START_VIDEO_CALL",START_AUDIO_CALL:"START_AUDIO_CALL",REJOIN_CALL:"REJOIN_CALL",ACCEPT_CO_BROWSE:"ACCEPT_CO_BROWSE",DENY_CO_BROWSE:"DENY_CO_BROWSE",FORM_POST_BACK:"FORM_POST_BACK",SECURE_FORM_POST_BACK:"SECURE_FORM_POST_BACK",APPOINTMENT_POST_BACK:"APPOINTMENT_POST_BACK",FETCH_APPOINTMENT_TIME_SLOTS:"FETCH_APPOINTMENT_TIME_SLOTS",RESERVE_APPOINTMENT_TIME_SLOT:"RESERVE_APPOINTMENT_TIME_SLOT",LOCATION_POST_BACK:"LOCATION_POST_BACK",CONTACT_DETAILS_POST_BACK:"CONTACT_DETAILS_POST_BACK",FEEDBACK_POST_BACK:"FEEDBACK_POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",DIAL:"DIAL",RUN_GW:"RUN_GW"}},729:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var a=n(262),r=n.n(a),i=n(267),o=n(574),c=n(634),s=n(340),l=n(0),u=n(263);const d="sessionExpiryModal",f=r.a.createContext(null),b=Object(a.memo)((e=>{const[t,n]=Object(a.useState)(null),[r,b]=Object(o.a)(d),p=Object(i.c)(),h=Object(l.Q)();return Object(a.useEffect)((()=>{const e=c.d.on((e=>{switch(e.type){case c.c:n(e.payload.targetDate);break;case c.b:n(null)}}));return()=>e()}),[h]),Object(a.useEffect)((()=>{if(t)return h&&p({type:s.d}),void b(!0);r&&b(!1)}),[t]),Object(u.jsx)(f.Provider,{value:t},e.children)}));t.c=f},730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(262);t.default=function(){var e=a.useRef(!1),t=a.useCallback((function(){return e.current}),[]);return a.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},734:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1044);async function r(e){let{url:t,svgContainer:n,onSvgLoad:r,onSvgError:i,className:o}=e;try{const e=(await Object(a.a)(t)).documentElement.cloneNode(!0);o&&e.setAttribute("class",o),e.setAttribute("style","top:0px;left:0px"),n.appendChild(e),null===r||void 0===r||r()}catch(c){null===i||void 0===i||i()}}},735:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(264),r=n(266);const i=Object(a.a)("div",{target:"eciyldu0"})((e=>({backgroundColor:Object(r.f)("header.lg.backgroundColor",Object(r.f)("header.backgroundColor")(e))(e),backgroundImage:Object(r.f)("header.lg.gradients")(e)})),";padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"),o=Object(a.a)("div",{target:"eciyldu1"})("border-radius:",Object(r.a)("card.borderRadius"),";background-color:",Object(r.f)("card.backgroundColor"),";")},736:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(264),r=n(266),i=n(476);const o=32,c=Object(a.a)("div",{target:"e1eed02v0"})("background-color:",(e=>Object(r.f)("header.lg.backgroundColor",Object(r.f)("header.backgroundColor")(e))(e)),";background-image:",Object(r.f)("header.lg.gradients"),";padding:",Object(r.h)("header.lg.padding"),";padding-bottom:",(e=>o+Object(r.f)("header.lg.paddingBottom")(e)),"px;height:",(e=>e.height||(e=>Object(i.c)(e)+o)(e)),"px;transition:",(e=>e.showTransition&&"height 0.2s ease-out"),";"),s=Object(a.a)("div",{target:"e1eed02v1"})({name:"anqr8i",styles:"width:100%;height:100%;padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"})},738:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(262);var a=n(263);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e){return Object(a.jsx)("svg",r({viewBox:"0 0 14 14","data-icon-name":"Chevron",focusable:"false"},e),Object(a.jsx)("path",{d:"M13.728 4.935a.931.931 0 00-1.316 0L7 10.346l-5.41-5.41a.932.932 0 00-1.318 0 .929.929 0 000 1.315l6.07 6.07a.931.931 0 001.316 0l6.07-6.07a.931.931 0 000-1.315z"}))}},739:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(380),r=n.n(a);let i;function o(e,t){const n=r()(e);return function(e,t,n){return[...Array(n)].map(((n,a)=>(a+t)%e.length)).map((t=>e[t]))}(n,function(e){return i||(i=Math.floor(Math.random()*e.length)),i}(n),t)}},740:function(e,t,n){"use strict";var a=n(262),r=n(626);n.d(t,"a",(function(){return r.b})),t.b=function(){return Object(a.useContext)(r.c)}},741:function(e,t,n){"use strict";var a=n(262),r=n(287),i=n(0),o=n(459);const c=new Set([o.a.CONVERSATION,o.a.KNOWLEDGE_BASE,o.a.CONVERSATION_HISTORY]);t.a=()=>{var e,t,n,s;const l=Object(r.a)(),u=Object(i.j)(),d=null===(e=l.cardConfigs)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.cards,f=(null===(n=l.otherConfigs)||void 0===n||null===(s=n.homeScreen)||void 0===s?void 0:s.conversationCard)||{},b=(null===l||void 0===l?void 0:l.cards)||[],p=Object(a.useMemo)((()=>[{type:o.a.CONVERSATION,id:o.a.CONVERSATION,...f},...b]),[f,b]);return Object(a.useMemo)((()=>u?(null!==d&&void 0!==d?d:p).filter((e=>c.has(e.type))):null!==d&&void 0!==d?d:p),[u,d,p])}},742:function(e,t,n){"use strict";t.a={INIT:0,STARTED:1,COMPLETED:2,ABORTED:3,ERROR:4,PAUSE:5}},743:function(e,t,n){n(39);var a=n(41);e.exports=function(){var e=arguments,t=a(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},744:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(962),r=n(409),i=n(345),o=n(382);const c=(e,t)=>`${o.a.getParnterId(t)}_${o.a.getAppId(t)}_${i.a.getId(r.a.getChatUser(e))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let s;const l=(e,t)=>{const n=r.a.getChatSessionToken(e),i=c(e,t),o=r.a.getInboxServerUrl(e),l=r.a.getUserInbox(e),u=null===e||void 0===e?void 0:e.fanPublishTopic;return s=new a.a({userName:n,clientId:i,inboxServerUrl:o,userInbox:l,fanPublishTopic:u}),s},u=()=>s},793:function(e,t,n){"use strict";var a=n(264),r=(n(262),n(266)),i=n(286),o=n(270),c=n(265),s=n(263);var l=e=>Object(s.jsx)("div",{className:"sr-only"},Object(s.jsx)(c.b,Object(o.a)({},e.message,{values:{count:`${e.unreadCount}`}})));const u=Object(a.a)("div",{target:"e1bo82op0"})("background:var(--spr-lc-bgc-15);color:var(--spr-lc-c-15);font-size:",Object(r.e)("xs"),";font-weight:600;border-radius:50%;");t.a=function(e){return Object(s.jsx)(u,{"aria-live":"polite",className:`center-x-y ${e.className}`},Object(s.jsx)(l,{message:1===e.count?i.a.newNotification:i.a.newNotifications,unreadCount:e.count}),(t=e.count)>=10?"9+":t);var t}},796:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return m}));var a=n(452),r=n.n(a),i=n(69),o=n.n(i),c=n(42),s=n.n(c),l=n(335),u=n.n(l),d=n(70),f=n(826),b=n(331),p=n(1016),h=n.n(p);const O=[b.c,b.m,b.b],g=(()=>{const e={};return{shouldStoreInCache:e=>O.includes(e),shouldCallSubscriberOnSubscribe:t=>O.includes(t)&&(t=>h()(e,t))(t),setCache:(t,n)=>{e[t]=n},getCache:t=>e[t]}})(),v={};function y(e,t){const{topic:n,subscriber:a}=t;if(u()(n)&&s()(a)){const e=v[n];v[n]=e?[...e,a]:[a]}g.shouldCallSubscriberOnSubscribe(n)&&a(g.getCache(n))}function j(e,t){const{topic:n,subscriber:a}=t;if(u()(n)&&s()(a)){const e=v[n],t=r()(e,(e=>e===a));-1!==t&&(e.splice(t,1),v[n]=e)}}function m(e){let{topic:t,payload:n,callback:a}=e;const r=v[t];if(n.shouldLogEvent){var i,c,s,l;const e=null===n||void 0===n||null===(i=n.request)||void 0===i?void 0:i.conversationId;f.a.info({chatConversationId:e,message:`${e?`${e} : `:""}${null!==n&&void 0!==n&&null!==(c=n.response)&&void 0!==c&&c.error?"Error":"Success"} event published - ${t}`,additionalDetails:{params:null===n||void 0===n?void 0:n.request,result:(null===n||void 0===n||null===(s=n.response)||void 0===s?void 0:s.error)||(null===n||void 0===n||null===(l=n.response)||void 0===l?void 0:l.data),subscriberCount:(null===r||void 0===r?void 0:r.length)||0}})}g.shouldStoreInCache(t)&&g.setCache(t,n),o()(r,((e,t)=>{try{e(n,a)}catch(r){Object(d.a)(r)}}))}},825:function(e,t,n){var a=n(5).isFinite;e.exports=function(e){return"number"==typeof e&&a(e)}},826:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(323),r=n(720),i=n(454);const o=new r.a((e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return(yield i.a.post("/livechat/logging/log/event",e)).data}))),{batch:!0,adapter:e=>{const{message:t,chatConversationId:n,additionalDetails:a}=e;return{logMessage:t,logTime:Date.now(),additionalDetails:a,chatConversationId:n}}})},827:function(e,t,n){"use strict";var a=n(125).charAt,r=n(78),i=n(805),o="String Iterator",c=r.set,s=r.getterFor(o);i(String,"String",(function(e){c(this,{type:o,string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=a(n,r),t.index+=e.length,{value:e,done:!1})}))},828:function(e,t,n){"use strict";var a=n(17),r=n(4),i=n(141),o=n(139),c=n(137),s=n(75),l=n(121),u=Object.assign,d=Object.defineProperty;e.exports=!u||r((function(){if(a&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||i(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),r=arguments.length,u=1,d=o.f,f=c.f;r>u;)for(var b,p=l(arguments[u++]),h=d?i(p).concat(d(p)):i(p),O=h.length,g=0;O>g;)b=h[g++],a&&!f.call(p,b)||(n[b]=p[b]);return n}:u},829:function(e,t,n){"use strict";var a=n(630),r=n(75),i=n(830),o=n(814),c=n(74),s=n(832),l=n(632);e.exports=function(e){var t,n,u,d,f,b,p=r(e),h="function"==typeof this?this:Array,O=arguments.length,g=O>1?arguments[1]:void 0,v=void 0!==g,y=l(p),j=0;if(v&&(g=a(g,O>2?arguments[2]:void 0,2)),void 0==y||h==Array&&o(y))for(n=new h(t=c(p.length));t>j;j++)b=v?g(p[j],j):p[j],s(n,j,b);else for(f=(d=y.call(p)).next,n=new h;!(u=f.call(d)).done;j++)b=v?i(d,g,[u.value,j],!0):u.value,s(n,j,b);return n.length=j,n}},830:function(e,t,n){var a=n(13),r=n(831);e.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(o){throw r(e),o}}},831:function(e,t,n){var a=n(13);e.exports=function(e){var t=e.return;if(void 0!==t)return a(t.call(e)).value}},832:function(e,t,n){"use strict";var a=n(88),r=n(44),i=n(82);e.exports=function(e,t,n){var o=a(t);o in e?r.f(e,o,i(0,n)):e[o]=n}},833:function(e,t,n){"use strict";var a=2147483647,r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",c=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,n){var a=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;a+=36)e=c(e/35);return c(a+36*e/(e+38))},d=function(e){var t=[];e=function(e){for(var t=[],n=0,a=e.length;n<a;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<a){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}(e);var n,r,i=e.length,d=128,f=0,b=72;for(n=0;n<e.length;n++)(r=e[n])<128&&t.push(s(r));var p=t.length,h=p;for(p&&t.push("-");h<i;){var O=a;for(n=0;n<e.length;n++)(r=e[n])>=d&&r<O&&(O=r);var g=h+1;if(O-d>c((a-f)/g))throw RangeError(o);for(f+=(O-d)*g,d=O,n=0;n<e.length;n++){if((r=e[n])<d&&++f>a)throw RangeError(o);if(r==d){for(var v=f,y=36;;y+=36){var j=y<=b?1:y>=b+26?26:y-b;if(v<j)break;var m=v-j,I=36-j;t.push(s(l(j+m%I))),v=c(m/I)}t.push(s(l(v))),b=u(f,g,h==p),f=0,++h}}++f,++d}return t.join("")};e.exports=function(e){var t,n,a=[],o=e.toLowerCase().replace(i,".").split(".");for(t=0;t<o.length;t++)n=o[t],a.push(r.test(n)?"xn--"+d(n):n);return a.join(".")}},834:function(e,t,n){var a=n(635);e.exports=function(e,t){for(var n=e.length;n--&&a(t,e[n],0)>-1;);return n}},842:function(e,t,n){var a=n(160),r=n(153),i=n(117),o=4294967295,c=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>9007199254740991)return[];var n=o,s=c(e,o);t=r(t),e-=o;for(var l=a(s,t);++n<e;)t(n);return l}},843:function(e,t,n){var a=n(96),r=n(85),i=n(10),o=n(335),c=n(519);e.exports=function(e){if(null==e)return 0;if(i(e))return o(e)?c(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:a(e).length}},846:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(264),r=n(268);const i=Object(a.a)("div",{target:"ed7mwts0"})((e=>Object(r.a)(e)),";")},847:function(e,t,n){"use strict";var a=n(262),r=n(267),i=n(293),o=n(417),c=n(279),s=n(310),l=n(313),u=n(720);const d=(new i.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build(),f="AUDIO_CALL",b="VIDEO_CALL";t.a=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:i}=e;const[l]=Object(o.a)(d,{ignoreResults:!0}),p=Object(a.useCallback)((e=>{const t=Date.now();return e.forEach((e=>{e.offsetTime=t-e.logTime})),l(e)}),[l]),h=Object(r.d)(c.h),O=Object(s.d)(h),g=i?f:b,v=Object(a.useCallback)((e=>{const{message:a}=e;return{videoConversationId:t,logMessage:`USER: ${a}`,loggerSnUserId:O,category:g,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,O,g]),y=Object(a.useMemo)((()=>new u.a(p,{batch:!0,adapter:v,skip:!t})),[p,v,t]);return Object(a.useEffect)((()=>()=>{y.cleanup()}),[]),y}},848:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(281);const r=Object(a.a)((()=>n.e(18).then(n.bind(null,1881))))},849:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(262),r=n.n(a),i=n(291),o=n.n(i),c=n(1047),s=n(263);const l={debug:o.a,info:o.a,error:o.a,warning:o.a},u=r.a.createContext(l),d=e=>{let{videoConversationId:t,conversationId:n,children:a}=e;const r=Object(c.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(u.Provider,{value:r},a)}},850:function(e,t,n){"use strict";var a=n(789),r=n(376),i=n(2);const o=e=>`spr-cobrowse-state_${e}`,c=!!r.a.getSessionOrigin(Object(i.a)());t.a={get:async e=>{try{const t=o(e);if(!c)return a.d.getItem(t);const n=await a.c.getItem(t);if(!n){const e=await a.d.getItem(t);if(e)return a.d.removeItem(t),await a.c.setItem(t,e),e}return n}catch(t){return void console.warn(t)}},set:(e,t)=>c?a.c.setItem(o(e),t):a.d.setItem(o(e),t),remove:e=>c?a.c.removeItem(o(e)):a.d.removeItem(o(e))}},851:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},852:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(262),r=n.n(a),i=n(291),o=n.n(i),c=n(315),s=n(263);const l=r.a.createContext({addPublisher:o.a,removePublisher:o.a});let u=!1;const d="sprappinteract",f=e=>{let{onClick:t,children:n}=e;const r=Object(a.useRef)([]),i=Object(a.useCallback)((()=>{window.dispatchEvent(new Event(d))}),[]);Object(a.useEffect)((()=>{const e=()=>{u=!0,null===t||void 0===t||t(),r.current.forEach((e=>{e.removeEventListener("click",i,{capture:!0})})),r.current=[]};return window.addEventListener(d,e),()=>window.removeEventListener(d,e)}),[t]);const o=Object(a.useMemo)((()=>({addPublisher:e=>{u||(r.current=[...r.current,e],e.addEventListener("click",i,{capture:!0}))},removePublisher:e=>{u||(e.removeEventListener("click",i,{capture:!0}),r.current=r.current.filter((t=>t!==e)))}})),[i]);return Object(a.useEffect)((()=>{const e=Object(c.b)();return Object(c.c)(e)&&o.addPublisher(e.document),()=>{Object(c.c)(e)&&o.removePublisher(e.document)}}),[]),Object(s.jsx)(l.Provider,{value:o},n)};t.b=r.a.memo(f)},853:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return j}));var a=n(264),r=n(263),i=n(498),o=n.n(i),c=n(451),s=n(266),l=n(437),u=n(347),d=n(1049);const f=500,b=Object(a.a)("div",{target:"emlrnqp0"})("transition:width ",d.a,"ms ease,max-height ",d.a,"ms ease;position:fixed;box-sizing:border-box;z-index:",(e=>Object(s.f)("frame.zIndex")(e)),";padding:",(e=>Object(s.h)("frame.margin")(e)),";transform:",(e=>`translateZ(${Object(s.f)("frame.translateZ")(e)}px)`),";",(e=>(e=>{const t=Object(u.b)(Object(s.f)("frame.marginTop")({theme:e})),n=Object(u.b)(Object(s.f)("frame.marginBottom")({theme:e})),a=Object(u.b)(Object(s.f)("frame.marginLeft")({theme:e})),r=Object(u.b)(Object(s.f)("frame.marginRight")({theme:e}));return o()([t,n,a,r],(e=>e>0))})(e.theme)&&`background-color: ${Object(l.j)(Object(s.f)("frame.overlay.opacity")(e),Object(s.f)("frame.overlay.backgroundColour")(e))};`),";"),p=Object(a.a)(b,{target:"emlrnqp1"})((e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:r,triggerOffsetTopBeforeReposition:i,triggerOffsetBottom:o,shouldRepositionTrigger:c}=e;return Object(d.c)({triggerOffsetTopBeforeReposition:i,triggerOffsetBottom:o,isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:r,shouldRepositionTrigger:c})}),""),h=Object(a.a)(b,{target:"emlrnqp2"})((e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:r,customTriggerPosition:i}=e;return Object(d.b)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:r,customTriggerPosition:i})}),""),O=Object(a.a)("div",{target:"emlrnqp3"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:",(e=>Object(s.f)("frame.boxShadow")(e)),";border-radius:",(e=>Object(s.a)("frame.borderRadius")(e)),";",(e=>{const t=Object(u.b)(Object(s.f)("frame.marginTop")(e))>0?Object(s.f)("frame.borderRadius")(e):0,n=Object(u.b)(Object(s.f)("frame.marginBottom")(e))>0?Object(s.f)("frame.borderRadius")(e):0;return e.isPhone&&`\n    border-top-left-radius: ${t};\n    border-top-right-radius: ${t};\n    border-bottom-left-radius: ${n};\n    border-bottom-right-radius: ${n};\n    box-shadow: none;`}),";"),g="spr-chat-box-anim",v=Object(a.a)(c.a,{target:"emlrnqp4"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),y=e=>{var t;const n=Object(s.f)("trigger.size")({theme:e.theme}),a=Object(s.f)("frame.sYMargin")({theme:e.theme}),i=`calc(100% - ${null!==(t=e.triggerOffsetTopBeforeReposition)&&void 0!==t?t:0}px - ${e.triggerOffsetBottom+(e.isTriggerHiddenWhenMaximised?0:n+a)}px)`;return Object(r.css)(!e.isPhone&&e.shouldRepositionTrigger?(e=>`\n.spr-chat__box.${g}-enter {\n  height: 0;\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) translateY(20px);\n}\n.spr-chat__box.${g}-enter.${g}-enter-active {\n  height: ${e.frameHeight};\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) ;\n  transition: height 0.16s linear, transform  0.08s linear;\n}\n.spr-chat__box.${g}-enter-done {\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) ;\n}\n.spr-chat__box.${g}-exit {\n  height: ${e.frameHeight};\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) ;\n}\n.spr-chat__box.${g}-exit.${g}-exit-active {\n  height: 0;\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px);\n  transition: height 0.16s linear, transform  0.08s linear;\n}\n`)({frameHeight:i,theme:e.theme}):(e=>`\n.spr-chat__box.${g}-enter {\n  opacity: 0;\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) translateY(20px);\n}\n\n.spr-chat__box.${g}-enter.${g}-enter-active {\n  opacity: 1;\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) translateY(0px);\n  transition: opacity 0.16s linear, transform 0.08s linear;\n}\n\n.spr-chat__box.${g}-enter-done {\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) ;\n}\n\n.spr-chat__box.${g}-exit {\n  opacity: 1;\n  height: ${e.frameHeight};\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) translateY(0);\n}\n\n.spr-chat__box.${g}-exit.${g}-exit-active {\n  opacity: 0;\n  transform: translateZ(${Object(s.f)("frame.translateZ")(e)}px) translateY(20px);\n  transition: opacity 0.16s linear, transform 0.08s linear;\n}\n`)({frameHeight:i,theme:e.theme}),"")},j={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"}},854:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(1051);const i=()=>"MOBILE"===Object(a.useContext)(r.a)},855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(395).__importDefault(n(1478)).default("audio");t.default=a},856:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(262);const r=Object(a.createContext)({setIsFrameMaximized:()=>null,isFrameMaximized:!1})},859:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(316);const r=(e,t)=>{const n={conversationId:t};return e?{type:a.cb,payload:n}:{type:a.db,payload:n}}},860:function(e,t,n){"use strict";n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"i",(function(){return y})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return I}));var a=n(40),r=n.n(a),i=n(116),o=n.n(i),c=n(496),s=n(322),l=n(300),u=n(725),d=n(327),f=n(587),b=n(285);const p=e=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!e,[c.a.FULL_SCREEN]:e}),h=e=>e===s.g.WAITING,O=e=>e===s.i.WAITING?s.i.WAITING:s.i.SETUP,g=(e,t)=>((e,t)=>{switch(e.state){case u.a.CALL_INITIATED:case u.a.CALL_STARTING:return t.WAITING;case u.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}})(e,t?s.g:s.i),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?d.a.AUDIO_CALL_JOIN_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?d.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},y=e=>{let{callDetails:t}=e;return!r()(t)},j=e=>t=>(t.type===f.x||t.type===f.e)&&o()(t,"payload.videoConversationId")===e,m=e=>t=>(t.type===f.l||t.type===f.e)&&o()(t,"payload.videoConversationId")===e,I=(e,t,n)=>Object(b.m)(e,t).items.find((e=>{var t;return(null===(t=e.messagePayload.attachment)||void 0===t?void 0:t.type)===l.c.VIDEO_CHAT&&e.messagePayload.attachment.videoChatConversationId===n}))},861:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(39);var a=n(40),r=n.n(a),i=n(16),o=n.n(i);const c=(e,t)=>o()(t,((e,t)=>{if(!t)return e;const n="*".repeat(null===t||void 0===t?void 0:t.length);return e.replace(t,n)}),e),s=e=>{let{text:t,maskingConfigs:n}=e;if(!t)return{};const{maskedText:a,maskedValues:i}=o()(n,((e,t)=>{const n=new RegExp(t.jsRegex,"g"),{updatedText:a,capturedGroups:r}=((e,t,n,a)=>{let r=e.exec(t),i=t;const o={};for(;r;)n&&r.groups&&Object.entries(r.groups).forEach((e=>{var t;let[n,i]=e;o[n]=null!==(t=o[n])&&void 0!==t?t:[];let c={};if(a){const e=r.index;c={startIndex:e,endIndex:e+i.length-1}}o[n].push({...c,value:i})})),i=c(i,r),r=e.exec(i);return{capturedGroups:o,updatedText:i}})(n,e.maskedText,t.saveMaskedData,t.showAgentUnmaskedData);return{maskedText:a,maskedValues:{...e.maskedValues,...r}}}),{maskedText:t,maskedValues:{}});return{maskedText:a,maskedValues:r()(i)?void 0:i}}},947:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ct})),n.d(t,"c",(function(){return ht})),n.d(t,"b",(function(){return Ot}));var a=n(262),r=n.n(a),i=n(277),o=n(298),c=n(477),s=n(278),l=n(267),u=n(1050),d=n(270),f=n(263),b=n(265),p=n(588),h=n.n(p),O=n(297),g=n(40),v=n.n(g),y=n(264),j=n(116),m=n.n(j),I=n(268),C=n(451),E=n(701),T=n(266),S=n(437),_=n(353);const A={PULSE:e=>{const t=Object(T.f)("trigger.borderColor")({theme:e}),n=f.keyframes`0%{box-shadow:0 0 0 0 ${Object(S.k)(t,.6)}}100%{box-shadow:0 0 0 10px ${Object(S.k)(t,0)}}`;return Object(f.css)("animation:",n," 2s ease infinite;")}},x=e=>{const{triggerAnimationInfo:t,theme:n}=e,a=m()(t,"effect"),r=A[a];return r?r(n):""},w=e=>{const t=Object(T.f)("trigger.size")(e);return Math.min(Object(T.f)("trigger.borderRadius",t/2)(e),t/2)*(1-2**-.5)},R=e=>.13*Object(T.f)("trigger.overlayIconButton.button.height")(e),N=e=>Object(T.f)("trigger.size")(e)-.5*Object(T.f)("trigger.overlayIconButton.button.height")(e)-(w(e)-R(e)),P=e=>{let{direction:t,theme:n}=e;return`${t===_.b.LTR?"right":"left"}: ${-.5*Object(T.f)("trigger.overlayIconButton.button.height")({theme:n})+w({theme:n})-R({theme:n})}px`},L=Object(y.a)("div",{target:"e1hh16yv0"})("width:",(e=>Object(T.f)("trigger.overlayIconButton.button.width")(e)),"px;height:",(e=>Object(T.f)("trigger.overlayIconButton.button.height")(e)),"px;border-radius:",(e=>Object(T.a)("trigger.overlayIconButton.borderRadius",Object(T.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";background-color:",Object(T.f)("trigger.removeIcon.backgroundColor"),";position:absolute;bottom:",(e=>N(e)),"px;",(e=>P(e)),";cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;transform:translatez(",Object(T.f)("frame.translateZ"),"px);z-index:",Object(T.f)("frame.zIndex"),";",I.m,"{visibility:visible;}"),M=Object(y.a)("div",{target:"e1hh16yv1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),D=Object(y.a)(E.a,{target:"e1hh16yv2"})("width:",(e=>Object(T.f)("trigger.overlayIconButton.icon.width")(e)),"px;height:",(e=>Object(T.f)("trigger.overlayIconButton.icon.height")(e)),"px;fill:",Object(T.f)("trigger.removeIcon.fill"),";"),k=`\n  ${L} {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n`,U=Object(y.a)("div",{target:"e1hh16yv3"})((e=>e.enableTriggerHideIcon&&`\n    &:hover {\n      ${k};\n    }\n  `),";"),F=Object(y.a)("div",{target:"e1hh16yv4"})("background:transparent;overflow:hidden;box-shadow:",Object(T.f)("trigger.boxShadow"),";border-radius:",(e=>Object(T.a)("trigger.borderRadius",Object(T.f)("trigger.size")(e)/2+"px}")(e)),";height:",Object(T.f)("trigger.size"),"px;position:relative;transition:",(e=>{let{enableTriggerWidthTransition:t}=e;return t?"width 0.08s":"none"}),";visibility:",(e=>{let{showTrigger:t}=e;return t?"visible":"hidden"}),";width:",(e=>(e=>{let{showTrigger:t,showLabel:n,labelWidth:a,theme:r}=e;return n&&t?a+Object(T.f)("trigger.icon.width")({theme:r})+8+48:Object(T.f)("trigger.size")({theme:r})})(e)),"px;&:focus-visible{",I.k,";}&:-moz-focusring{",I.k,";}&:active:focus,&:focus:hover{",I.f,";}",I.m,"{&:focus{",I.f,";}}"),B=Object(y.a)(C.a,{target:"e1hh16yv5"})("border-radius:",(e=>Object(T.a)("trigger.borderRadius",Object(T.f)("trigger.size")(e)/2+"px}")(e)),";border:0 none;height:100%;width:100%;"),$=(e,t)=>{const n=!((Object(T.f)("trigger.backgroundUrls")({theme:e})||Object(T.f)("trigger.icon.url")({theme:e}))&&t.isMinimized);return Object(f.css)("body{background-color:",n?Object(T.f)("trigger.backgroundColor")({theme:e}):"transparent",";}")},G=Object(y.a)("div",{target:"e1hh16yv6"})({name:"17ehq8p",styles:"position:absolute;top:0;left:0;height:100%;width:100%;-webkit-touch-callout:none !important;-webkit-user-select:none !important;background:transparent;"});var V=n(970),H=n(291),W=n.n(H),z=n(419);const q=Object(y.a)("div",{target:"elocrnu0"})("cursor:pointer;position:relative;overflow:hidden;border-radius:",(e=>Object(T.a)("trigger.borderRadius",Object(T.f)("trigger.size")(e)/2+"px")(e)),";height:",(e=>Object(T.f)("trigger.size")(e)),"px;background-color:transparent;"),K=Object(y.a)(q,{target:"elocrnu1"})("border:",(e=>`${Object(T.f)("trigger.borderWidth")(e)}px solid ${Object(T.f)("trigger.borderColor")(e)}`),";background-size:cover;"),Y=Object(y.a)(q,{target:"elocrnu2"})("background-color:",Object(T.f)("trigger.backgroundColor"),";"),X={name:"15vzngf",styles:"bottom:0;top:0;transform:translate3d(-50%,-50%,0);transition:transform 0.16s linear,opacity 0.08s linear,-webkit-transform 0.16s linear;width:100%;"},Z={name:"w8476o",styles:"transform:rotate(90deg) scale(0);opacity:0;"},Q={name:"12ovxee",styles:"transform:scale(0);opacity:0;"},J={name:"k4n0ja",styles:"transform:rotate(0deg) scale(1);opacity:1;"},ee={name:"20dbs8",styles:"transform:scale(1);opacity:1;"},te=Object(y.a)(z.a,{target:"elocrnu3"})("fill:",Object(T.f)("trigger.closeIcon.color"),";height:",Object(T.f)("trigger.closeIcon.height"),"px;width:",Object(T.f)("trigger.closeIcon.width"),"px;"),ne=Object(y.a)("div",{target:"elocrnu4"})(X,";"),ae=Object(y.a)("div",{target:"elocrnu5"})(X,";"),re=Object(y.a)("h2",{target:"elocrnu6"})("color:",Object(T.f)("trigger.icon.color"),";",(e=>Object(I.b)("font-size",Object(T.e)("lg")(e),Object(T.e)("xl")(e))(e))," font-weight:600;margin-bottom:0;margin-top:0;line-height:1.4;white-space:nowrap;",Object(I.c)("margin-left: 8px","margin-right: 8px;"),";"),ie=Object(y.a)(z.a,{target:"elocrnu7"})("height:",Object(T.f)("trigger.icon.height"),"px;width:",Object(T.f)("trigger.icon.width"),"px;fill:",Object(T.f)("trigger.icon.color"),";");var oe=n(854),ce=n(342);function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},se.apply(this,arguments)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},le.apply(this,arguments)}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ue.apply(this,arguments)}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},de.apply(this,arguments)}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fe.apply(this,arguments)}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},be.apply(this,arguments)}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pe.apply(this,arguments)}var he=n(738);function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Oe.apply(this,arguments)}var ge=n(739);function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ve.apply(this,arguments)}let ye;const je=e=>Object(T.f)("trigger.backgroundUrls")({theme:e})||Object(T.f)("trigger.icon.url")({theme:e});var me=r.a.memo((e=>{const{customTriggerIconUrls:t,onLoad:n,onError:r,...i}=e,o=Object(a.useRef)(null),c=ye||(ye=Object(ge.a)(t,1)[0]);return Object(a.useEffect)((()=>{if(o.current){const e=new Image,t=()=>{o.current.style.backgroundImage=`url("${c}")`,n(!0)};return e.addEventListener("load",t),e.addEventListener("error",r),e.src=c,()=>{e.removeEventListener("load",t),e.removeEventListener("error",r)}}}),[c,r,n]),Object(f.jsx)(K,ve({},i,{ref:o}))})),Ie=n(737);const Ce={MINIMIZED:"MINIMIZED",MAXIMIZED:"MAXIMIZED"},Ee={[Ie.a.BOX]:{Icon:function(e){return Object(f.jsx)("svg",se({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBox",focusable:"false"},e),Object(f.jsx)("path",{d:"M12.7,0.3L12.7,0.3H1.3C-0.2,0.3,0,1.7,0,1.7v7.7c0,1.1,0.9,1.2,1.2,1.2c0.1,0,0.1,0,0.1,0h3.6c0.5,0,0.7,0.2,0.7,0.2 l4.5,2.9c0.1,0.1,0.2,0.1,0.3,0.1c0.6,0,0.7-0.8,0.7-0.8v-2.3h1.6c1.3,0,1.4-1.2,1.4-1.2V1.5C14.1,0.4,12.9,0.3,12.7,0.3z M8.2,7.4 H2.5C2.2,7.4,2,7.2,2,6.9c0-0.3,0.2-0.5,0.5-0.5h5.7c0.3,0,0.5,0.2,0.5,0.5S8.5,7.4,8.2,7.4z M11.2,4.4H2.5C2.2,4.4,2,4.2,2,3.9 c0-0.3,0.2-0.5,0.5-0.5h8.8c0.3,0,0.5,0.2,0.5,0.5C11.7,4.2,11.5,4.4,11.2,4.4z"}))},Component:ie},[Ie.a.BUBBLE]:{Icon:function(e){return Object(f.jsx)("svg",le({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBubble",focusable:"false"},e),Object(f.jsx)("path",{d:"M12.9,2.5c-0.9-1.1-2.5-2-3.8-2.3C3.5-0.9,0.7,3.3,0.3,4.9c-0.9,4.9,1.2,7.6,2.5,8.9C2.9,14,3.1,14,3.1,13.9 c-0.2-3,1.7-3.5,5.6-3.3c1.4,0.1,4.7-1.1,5-3.7C14,5.3,14.1,4.1,12.9,2.5z M3.1,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8 s0.8,0.4,0.8,0.8C3.9,6.1,3.5,6.5,3.1,6.5z M6.9,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8 C7.7,6.1,7.3,6.5,6.9,6.5z M10.7,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.6,6.1,11.2,6.5,10.7,6.5z"}))},Component:ie},[Ie.a.COLLABORATORS]:{Icon:function(e){return Object(f.jsx)("svg",ue({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCollaborators",focusable:"false"},e),Object(f.jsx)("path",{d:"M12.103 7.498c.077 0 .145 0 .216.005l.11.013-.02-.157a5.233 5.233 0 00-2.392-3.729l-.247-.148A2.925 2.925 0 017.22 5.37l-.224.008A2.944 2.944 0 014.3 3.673l-.078-.192-.212.126a5.236 5.236 0 00-2.445 3.908 1.823 1.823 0 01.325-.018 2.893 2.893 0 012.945 2.836A2.797 2.797 0 014.11 12.2l-.155.16.114.072a5.598 5.598 0 002.625.822l.322.01.336-.01a5.591 5.591 0 002.724-.894 2.744 2.744 0 01-.88-2.026 2.86 2.86 0 012.907-2.836z"}),Object(f.jsx)("path",{d:"M1.893 8.51a1.934 1.934 0 00-1.087.332l-.015.011a1.801 1.801 0 00-.792 1.481 1.858 1.858 0 001.72 1.816l.174.008.17-.008a1.856 1.856 0 001.723-1.816A1.889 1.889 0 001.893 8.51zm10.214 0a1.864 1.864 0 00-1.893 1.824 1.837 1.837 0 001.248 1.715 1.936 1.936 0 00.477.102l.168.007.17-.008a1.822 1.822 0 00-.17-3.64zM6.998 4.366a1.864 1.864 0 001.894-1.824A1.848 1.848 0 006.998.737 1.864 1.864 0 005.105 2.56a1.849 1.849 0 001.893 1.805z"}))},Component:ie},[Ie.a.CLOUD]:{Icon:function(e){return Object(f.jsx)("svg",de({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCloud",focusable:"false"},e),Object(f.jsx)("path",{d:"M7.1,0C3.2,0,0.1,3.1,0.1,6.9c0,1.7,0.5,3,1.5,4.2l-1,2.5C0.5,13.8,0.6,14,0.8,14h0.1l3.7-0.6C5.4,13.7,6,13.8,7,13.8h0.1 c3.8,0,6.8-3.1,6.8-6.9C13.9,3.1,10.9,0,7.1,0z M3.2,7.8C2.8,7.8,2.4,7.4,2.4,7s0.4-0.8,0.8-0.8S4,6.6,4,7C4,7.5,3.7,7.8,3.2,7.8z M7.2,7.8C6.7,7.8,6.4,7.4,6.4,7s0.4-0.8,0.8-0.8S8,6.6,8,7C7.9,7.5,7.6,7.8,7.2,7.8z M11,7.8c-0.4,0-0.8-0.4-0.8-0.8 s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.8,7.5,11.5,7.8,11,7.8z"}))},Component:ie},[Ie.a.MIC]:{Icon:function(e){return Object(f.jsx)("svg",pe({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerMic",focusable:"false"},e),Object(f.jsx)("path",{id:"Shape-Copy-3",d:"M7.1,0C4.5,0,2.5,2,2.5,4.5V6H2.3c-1.1,0-2,0.9-2,2v1.2c0,1.1,0.9,2,2,2h1.5c0.3,0,0.5-0.2,0.5-0.5V6.4 C4.3,6.2,4.1,6,3.9,6H3.4V4.5c0-2,1.6-3.6,3.7-3.6s3.7,1.6,3.7,3.6V6h-0.5C9.9,6,9.8,6.2,9.8,6.4v4.2c0,0.3,0.2,0.5,0.5,0.5h0.4 c-0.1,0.3-0.3,0.5-0.6,0.7c-0.4,0.3-1,0.5-1.9,0.6c-0.2-0.4-0.6-0.7-1.1-0.7c-0.7,0-1.2,0.5-1.2,1.2C5.8,13.5,6.3,14,7,14 c0.5,0,0.9-0.3,1.1-0.8c1-0.1,1.9-0.3,2.4-0.8c0.5-0.4,0.8-0.9,0.9-1.4h0.2c1.1,0,2-0.9,2-2V7.9c0-1.1-0.9-2-2-2h-0.2V4.5 C11.6,2,9.6,0,7.1,0z"}))},Component:ie},[Ie.a.ELLIPSIS]:{Icon:function(e){return Object(f.jsx)("svg",fe({viewBox:"0 0 32 32","data-icon-name":"ChatTriggerEllipsis",focusable:"false"},e),Object(f.jsx)("path",{id:"Combined-Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M28.28387,3.51813C30.33623,3.51813,32,5.1819,32,7.23426 v14.45782c0,2.05236-1.66377,3.71613-3.71613,3.71613l-1.29445-0.00002l0.61046,3.88583 c0.02475,0.1576,0.00841,0.31823-0.04651,0.46661l-0.04838,0.10876c-0.21984,0.41951-0.71518,0.60119-1.14754,0.43933 l-0.10658-0.04768l-9.26093-4.85285L3.71613,25.40821C1.66377,25.40821,0,23.74444,0,21.69208V7.23426 C0,5.1819,1.66377,3.51813,3.71613,3.51813H28.28387z M16,11.3664c-1.7103,0-3.09677,1.38647-3.09677,3.09677 S14.2897,17.55995,16,17.55995s3.09678-1.38647,3.09678-3.09678S17.7103,11.3664,16,11.3664z M7.52941,12.639 c-1.03959,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417s1.88235-0.81671,1.88235-1.82417 S8.56901,12.639,7.52941,12.639z M24.47059,12.639c-1.0396,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417 c1.03959,0,1.88235-0.81671,1.88235-1.82417S25.51018,12.639,24.47059,12.639z"}))},Component:ie},[Ie.a.ELLIPSIS_STROKE]:{Icon:function(e){return Object(f.jsx)("svg",be({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerEllipsisStroke",focusable:"false"},e),Object(f.jsx)("path",{d:"M2.4,13.8c-0.2-0.1-0.3-0.2-0.3-0.4v-2.6H1.7C0.7,10.8,0,10,0,9.1V1.9c0-1,0.8-1.7,1.7-1.7h10.5c1,0,1.7,0.8,1.7,1.7v7.2 c0,1-0.8,1.7-1.7,1.7H5.7l-2.8,2.8C2.7,13.8,2.5,13.9,2.4,13.8L2.4,13.8z M0.8,1.9v7.2c0,0.5,0.4,0.9,0.9,0.9h0.8 C2.8,10,3,10.2,3,10.5v2l2.2-2.3C5.3,10.1,5.4,10,5.5,10h6.8c0.5,0,0.9-0.4,0.9-0.9V1.9c0-0.5-0.4-0.9-0.9-0.9H1.7 C1.2,1,0.8,1.4,0.8,1.9z M6.2,5.5C6.2,5,6.6,4.7,7,4.7c0.5,0,0.8,0.4,0.8,0.8C7.8,6,7.5,6.3,7,6.3S6.2,6,6.2,5.5L6.2,5.5z M9.3,5.5 c0-0.5,0.4-0.8,0.8-0.8c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.3,0.8-0.8,0.8S9.3,6,9.3,5.5L9.3,5.5z M3,5.5C3,5,3.4,4.7,3.8,4.7 c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.4,0.8-0.8,0.8l0,0C3.4,6.3,3,6,3,5.5L3,5.5z"}))},Component:ie},[Ie.a.CROSS]:{Icon:function(e){return Object(f.jsx)("svg",Oe({viewBox:"0 0 14 14","data-icon-name":"Close",focusable:"false"},e),Object(f.jsx)("path",{d:"M12.8 12.7c.3-.3.3-.8 0-1L8 7l4.6-4.7c.3-.3.3-.8 0-1.1-.3-.3-.8-.3-1.1 0L6.9 6 2.3 1.3C2 1 1.5 1 1.2 1.3s-.3.7 0 1L5.9 7l-4.7 4.7c-.3.3-.3.8 0 1.1.3.3.8.3 1 0l4.7-4.7 4.7 4.6c.3.3.8.3 1.2 0z"}))},Component:te},[Ie.a.CHEVRON]:{Icon:he.a,Component:te}};var Te=r.a.memo((e=>{const{className:t,minimizedIconClassName:n,maximizedIconClassName:o,triggerIconName:c=Ie.a.BUBBLE,label:s,innerLabelRef:l,mode:u=Ce.MINIMIZED,closeIconName:d=Ie.a.CROSS,onLoad:b=W.a}=e,{Icon:p,Component:h}=Ee[c],{Icon:O,Component:g}=Ee[d],y=Object(i.b)(),[j,m]=Object(a.useState)(!1),I=Object(a.useMemo)((()=>je(y)),[y]),C=Object(oe.a)(),E=Object(ce.a)(),T=u===Ce.MINIMIZED,S=!v()(I)&&T&&!j,_=!C,A=_||T;Object(a.useEffect)((()=>(S||b(!0),()=>b(!1))),[b,S]);const x=Object(a.useCallback)((()=>{m(!0)}),[]);return S?Object(f.jsx)(me,{className:t,theme:y,customTriggerIconUrls:I,onLoad:b,onError:x}):Object(f.jsx)(Y,{className:t,theme:y},Object(f.jsx)(r.a.Fragment,null,_&&Object(f.jsx)(ne,{className:`center-x-y ${o}`,css:T?Z:J},Object(f.jsx)(g,{alt:O})),A&&Object(f.jsx)(ae,{className:`center-x-y ${n}`,css:T?ee:Q,"data-testid":"default-trigger"},Object(f.jsx)(h,{alt:p}),s?Object(f.jsx)(re,{ref:l,className:"m-b-0",direction:E,isPhone:C,theme:y},s):null)))})),Se=n(329),_e=n(274),Ae=n(593),xe=n(294),we=n(271),Re=n(287),Ne=n(431),Pe=n(382),Le=n(324);var Me=n(292),De=n(275),ke=n(343),Ue=n(70);const Fe=e=>Object(ke.g)(Object(De.b)(e));var Be=n(375),$e=n(279),Ge=n(310),Ve=n(340),He=n(341);const We=e=>Object(De.b)(e).meta.isTriggerManuallyHidden,ze=()=>{var e;(()=>{const e=Object(s.a)(Me.h),t=Object(Re.a)(),n=Pe.a.getNoDisplayConfigFilter(t),{hasPassed:r}=Object(Ne.a)(n,{defaultValue:!1,logOnSuccess:!0}),i=Object(l.d)(Fe);Object(a.useEffect)((()=>{!v()(n)&&i&&(r&&Object(Ue.a)("Sprinklr Chat hidden by display criteria"),e({value:r}))}),[n,i,r])})();const t=Object(s.a)(Me.c),n=null===(e=Object(_e.a)().trigger)||void 0===e?void 0:e.hideTimeout,r=Object(l.c)(),i=Object(a.useRef)(null),c=Object(a.useRef)(!n),u=Object(l.d)(We),d=Object(l.d)($e.h),f=Object(Ge.d)(d),b=Object(o.a)();c.current||(c.current=!0,Object(Be.c)(f).then((e=>{e&&Date.now()<=e?i.current=window.setTimeout((()=>{r({type:Ve.n,payload:{}})}),e-Date.now()):r({type:Ve.n,payload:{}})})));const p=Object(a.useCallback)((async()=>{n&&(await Object(Be.m)(f,Date.now()+n),i.current=window.setTimeout((()=>{r({type:Ve.n,payload:{}})}),n)),b({action:He.a.CHAT_TRIGGER_REMOVED}),t()}),[n,t,r,f]);return Object(a.useEffect)((()=>{u||(Object(Be.j)(f),i.current&&(window.clearTimeout(i.current),i.current=null))}),[u]),p};var qe=n(272),Ke=n(286),Ye=n(367),Xe=n(269);const Ze=e=>Object(ke.g)(Object(De.b)(e)),Qe=e=>Object(ke.f)(Object(De.b)(e)),Je=e=>Object(De.d)(e),et=e=>e?Math.ceil(e.clientWidth):0;var tt=r.a.memo(Object(b.h)((e=>{const t=Object(a.useRef)(null),{direction:n}=Object(qe.a)(),{showTrigger:r,handleShowTriggerStateChange:s,triggerHandlers:u}=e,b=Object(_e.a)(),p=Object(i.b)(),g=Object(we.a)(),y=Object(a.useRef)(),j=Object(a.useRef)(null),I=Object(xe.a)()(Le.a.getTriggerConfig(b),"label"),C=ze(),[E,S]=Object(a.useState)(I),[_,A]=Object(a.useState)(!1),[w,R]=Object(a.useState)(0),N=Object(l.d)(Ze),P=Object(l.d)(Qe),k=Object(l.d)(Je),H=Object(o.a)(),W=Le.a.getAnimationInfoOfTrigger(b),{showChatTriggerAnimation:z}=(()=>{const[e,t]=Object(a.useState)(!1),n=Object(Re.a)(),r=Pe.a.getTriggerAnimationConfigFilter(n),{hasPassed:i}=Object(Ne.a)(r,{defaultValue:!1,logOnSuccess:!0}),o=Le.a.getAnimationInfoOfTrigger(Pe.a.getCustomizationConfig(n)),c=m()(o,"effect");return Object(a.useEffect)((()=>{!v()(r)&&c&&t(i)}),[r,c,i]),{showChatTriggerAnimation:e}})(),q=h()(P),K=h()(r),Y=h()(E);Object(a.useEffect)((()=>{(q||!K)&&!(P||!r)&&H({action:He.a.TRIGGER_VISIBLE})}),[r,K,P,q,H]),Object(a.useEffect)((()=>(r&&!g&&(y.current=window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{A(!0)}))}))),()=>{y.current&&window.cancelAnimationFrame(y.current)})),[r,g]),Object(a.useEffect)((()=>{const e=g?"":I;Y!==e&&S(e)}),[g,I,Y]);const X=e.intl.formatMessage,Z=Le.a.canTriggerBeManuallyRemoved(b)&&N&&v()(k),Q=Object(a.useMemo)((()=>Object(T.f)("trigger.icon.type")({theme:p})),[p]),J=Object(a.useMemo)((()=>Object(T.f)("trigger.closeIcon.type")({theme:p})),[p]),ee=Object(Ae.a)(),te=Object(a.useCallback)((()=>{r&&R(et(j.current)),ee(t)}),[r,ee]),ne=Object(a.useCallback)((()=>{R(et(j.current))}),[]),ae=Object(a.useCallback)((e=>{s(e),R(et(j.current))}),[]),re=P||g&&!N,ie=X(N?Ke.a.openChat:Ke.a.closeChat);return re?null:Object(f.jsx)(U,{enableTriggerHideIcon:Z,"data-testid":"triggerContainer"},Object(f.jsx)(Se.a,Object(d.a)({component:F,showTrigger:r,showLabel:N&&!!E,css:z?x({triggerAnimationInfo:W,theme:p}):"",labelWidth:w,enableTriggerWidthTransition:_,theme:p,className:"spr-chat__trigger-box spr-live-chat-frame",id:"spr-chat__trigger-button",ariaLabel:ie},u,{onContextMenu:e=>{e.preventDefault()}}),Object(f.jsx)(B,{"aria-label":X(Ke.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:te,shouldHideLocaleLoader:!0,title:X(Ke.a.liveChat)},Object(f.jsx)(f.Global,{styles:$(p,{isMinimized:N})}),Object(f.jsx)("div",{className:"full-height full-width",ref:t},Object(f.jsx)(O.FrameContextConsumer,null,(e=>{let{window:t}=e;return Object(f.jsx)(V.a,{window:t,onResize:ne,resizeRefs:j},(e=>Object(f.jsx)(Te,{className:"full-width",label:E,triggerIconName:Q,closeIconName:J,mode:N?Ce.MINIMIZED:Ce.MAXIMIZED,onLoad:ae,innerLabelRef:e,minimizedIconClassName:"spa",maximizedIconClassName:"spa"})))})))),Object(f.jsx)(G,null)),Z&&r&&Object(f.jsx)(L,{onClick:C,"data-testid":"triggerCloseIconContainer",direction:n,className:c.a},Object(f.jsx)(M,null,Object(f.jsx)(D,{alt:Ye.a,name:Xe.b.CLOSE}))))}))),nt=n(517),at=n(793);const rt=Object(y.a)("div",{target:"egvnsbi0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(e=>Object(T.a)("trigger.overlayIconButton.borderRadius",Object(T.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";position:absolute;bottom:",(e=>N(e)),"px;",(e=>P(e)),";height:",Object(T.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(T.f)("trigger.overlayIconButton.button.width"),"px;transform:translatez(",Object(T.f)("frame.translateZ"),"px);z-index:",Object(T.f)("frame.zIndex"),";box-shadow:var(--spr-lc-bxs-3);"),it=Object(y.a)(C.a,{target:"egvnsbi1"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),ot=Object(y.a)(at.a,{target:"egvnsbi2"})("font-size:",Object(T.f)("trigger.overlayIconButton.fontSize"),";height:",Object(T.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(T.f)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(T.f)("trigger.overlayIconButton.button.height"),"px;border-radius:",(e=>Object(T.a)("trigger.overlayIconButton.borderRadius",Object(T.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";"),ct="spr-chat-proactive-box-anim",st=Object(f.css)(".",ct,"-enter{opacity:0;}.",ct,"-enter.",ct,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",ct,"-enter-done,.",ct,"-appear{}.",ct,"-exit{opacity:1;}.",ct,"-exit.",ct,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),lt=Object(y.a)("div",{target:"egvnsbi3"})({name:"79elbk",styles:"position:relative;"});var ut=n(502),dt=n(523),ft=n(285);const bt=Object(nt.a)((e=>Object(ke.g)(Object(De.b)(e))),(e=>Object(ke.f)(Object(De.b)(e))),(e=>Object(ft.x)(Object(ft.q)(Object(De.c)(e)))),((e,t,n)=>({isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n})));var pt=r.a.memo(Object(b.h)((e=>{const{isMinimized:t,totalUnreadCount:n,isChatTriggerHidden:a}=Object(l.d)(bt),o=Object(i.b)(),{direction:c}=Object(qe.a)(),{isTriggerLoaded:s}=e,u=e.intl.formatMessage;return a?null:Object(f.jsx)(r.a.Fragment,null,Object(f.jsx)(f.Global,{styles:st}),Object(f.jsx)(dt.CSSTransition,{in:t,timeout:{enter:300,exit:0},classNames:ct,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(f.jsx)(lt,{className:"notification-container"},Object(f.jsx)(ut.a,{unreadCount:n,shouldPlay:!0}),n>0&&s?Object(f.jsx)(rt,{className:"spr-chat__notification-box spr-live-chat-frame","data-testid":"notification-frame-container",theme:o,direction:c},Object(f.jsx)(it,{name:"spr-chat__notification-frame","aria-label":u(Ke.a.liveChatNotification),title:u(Ke.a.liveChatNotification)},Object(f.jsx)(ot,{className:"center-x-y",count:n}))):null)))})));const ht=e=>Object(T.f)("trigger.xPadding")({theme:e}),Ot=e=>Object(T.f)("trigger.yPadding")({theme:e}),gt=Object(y.a)("div",{target:"e1d0iltl0"})((e=>{return null==e.triggerOffsetBottom?`bottom: ${Ot(e.theme)}px;\n  ${t=e.theme,`${Object(T.f)("trigger.align","right")({theme:t})}: ${ht(t)}px`};`:`bottom: 0; ${Object(T.f)("trigger.align","right")({theme:e.theme})}: 0;`;var t})," position:fixed;z-index:",(e=>Object(T.f)("frame.zIndex")(e)),";",(e=>null!==e.triggerOffsetBottom?`transform: translate3d(${(e=>{const t=Object(T.f)("trigger.align","right")({theme:e});return ht(e)*("right"===t?-1:1)})(e.theme)}px, -${e.triggerOffsetBottom}px, ${Object(T.f)("frame.translateZ")(e)}px) !important`:""),";",(e=>!e.isDragging&&!e.isChatMinimized&&"transition: transform 0.16s linear"),";",(e=>e.triggerOffsetBottom&&e.isDragAllowed?"cursor: grab;":"cursor:pointer"),"");var vt=n(281),yt=n(1048);const jt=Object(vt.a)((()=>n.e(5).then(n.bind(null,1981)).then((e=>({default:e.DraggableContainer}))))),mt=e=>{let{children:t,...n}=e;return Object(yt.a)()?Object(f.jsx)(a.Suspense,{fallback:null},Object(f.jsx)(jt,n,t)):Object(f.jsx)(r.a.Fragment,null,t)},It=e=>Object(ke.g)(Object(De.b)(e));var Ct=()=>{const e=Object(i.b)(),[t,n]=Object(a.useState)(!1),r=Object(c.c)(),d=Object(o.a)(),b=Object(s.a)(Me.g),p=Object(l.d)(It),h=Object(a.useMemo)((()=>je(e)),[e]),O=Object(a.useCallback)((()=>{null!==r&&void 0!==r&&r.lazyIsDragging||(b(!p),p&&(null===h||void 0===h?void 0:h.length)>1&&d({action:He.a.CHAT_TRIGGER_CLICKED,additional:{triggerImageUrl:ye}}))}),[null===h||void 0===h?void 0:h.length,null===r||void 0===r?void 0:r.lazyIsDragging,p,d,b]),{onDragStart:g,onDragStop:v,onTouchStart:y,onTouchMove:j,onTouchEnd:m,onTouchCancel:I}=Object(u.a)(O),C=Object(a.useMemo)((()=>({onTouchStart:y,onTouchMove:j,onTouchEnd:m,onTouchCancel:I,onClick:O})),[y,j,m,I,O]);return Object(f.jsx)(mt,{onDragStart:g,onDragStop:v},Object(f.jsx)(gt,{theme:e,triggerOffsetBottom:null===r||void 0===r?void 0:r.triggerOffsetBottom,isDragging:!(null===r||void 0===r||!r.isDragging),isDragAllowed:!(null!==r&&void 0!==r&&r.isFrameOpen),isChatMinimized:p},Object(f.jsx)(tt,{triggerHandlers:C,showTrigger:t,handleShowTriggerStateChange:n}),Object(f.jsx)(pt,{isTriggerLoaded:t})))}},968:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return C}));var a=n(69),r=n.n(a),i=n(1493),o=n.n(i),c=n(7),s=n.n(c),l=n(40),u=n.n(l),d=n(377),f=n.n(d),b=n(319),p=n(2),h=n(313);const O="x-chat-token",g=e=>{let{data:t,url:n}=e,a="";return u()(t)||r()(t,(function(e,t){t!==O&&(a+=`${encodeURIComponent(t)}=${encodeURIComponent(s()(e)?JSON.stringify(e):e)}&`)})),a?`${n}?${a.slice(0,-1)}`:n};async function v(e){const{webview:t}=Object(p.a)();let n=e;if(t){const{url:t,data:a={}}=e,r=g({url:t,data:{...a,generateUrl:!0}}),{data:i}=await b.a.post(r);n={url:"https://www.samsung.com/chat/api/livechat/conversation/webview/downloadFile",data:i}}const a=function(e){let{url:t,data:n,method:a=h.a.POST,contentType:r}=e;const i=f()(),c=document.createElement("form"),{body:s}=document,l=g({data:n,url:t});return c.setAttribute("id",`spr-chat-download-form-${i}`),c.setAttribute("target","_top"),c.setAttribute("action",l),c.setAttribute("method",a),c.style.display="none",r&&(c.enctype=r),null!==n&&void 0!==n&&n[O]&&(c.innerHTML=`<input type="hidden" id="x-chat-token" name="x-chat-token" value="${o()(n[O])}">`),s.appendChild(c),c}(n);a.submit(),setTimeout((()=>(e=>{var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)})(a)),3e4)}var y=n(375),j=n(376),m=n(337);async function I(e){const t=await Object(y.a)(j.a.getAppId(Object(p.a)()));v({url:"https://www.samsung.com/chat/api/livechat/conversation/downloadChatTranscript",data:{timeZone:Object(m.f)(),"x-chat-token":t,conversationId:e}})}async function C(e){const t=await Object(y.a)(j.a.getAppId(Object(p.a)()));v({url:"https://www.samsung.com/chat/api/livechat/conversation/downloadAttachment",data:{timeZone:Object(m.f)(),"x-chat-token":t,...e}})}},970:function(e,t,n){"use strict";var a=n(262),r=n.n(a),i=n(380),o=n.n(i),c=n(522),s=n(296),l=n(263);var u=e=>{const t=Object(c.a)(e.window,e.onResize),n=Object(a.useMemo)((()=>[...o()(e.resizeRefs||[]),t]),[t,e.resizeRefs]),i=Object(s.a)(...n);return Object(l.jsx)(r.a.Fragment,null,e.children(i))};t.a=u}}]);